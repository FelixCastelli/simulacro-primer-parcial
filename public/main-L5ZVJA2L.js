var OM=Object.defineProperty,kM=Object.defineProperties;var FM=Object.getOwnPropertyDescriptors;var $w=Object.getOwnPropertySymbols,LM=Object.getPrototypeOf,VM=Object.prototype.hasOwnProperty,UM=Object.prototype.propertyIsEnumerable,jM=Reflect.get;var Hw=(n,e,t)=>e in n?OM(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,V=(n,e)=>{for(var t in e||={})VM.call(e,t)&&Hw(n,t,e[t]);if($w)for(var t of $w(e))UM.call(e,t)&&Hw(n,t,e[t]);return n},he=(n,e)=>kM(n,FM(e));var vr=(n,e,t)=>jM(LM(n),t,e);var w=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{a(t.next(u))}catch(l){i(l)}},s=u=>{try{a(t.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((t=t.apply(n,e)).next())});function zw(n,e){return Object.is(n,e)}var Ye=null,du=!1,hu=1,_r=Symbol("SIGNAL");function fe(n){let e=Ye;return Ye=n,e}function Gw(){return Ye}var ta={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Xf(n){if(du)throw new Error("");if(Ye===null)return;Ye.consumerOnSignalRead(n);let e=Ye.nextProducerIndex++;if(gu(Ye),e<Ye.producerNode.length&&Ye.producerNode[e]!==n&&ea(Ye)){let t=Ye.producerNode[e];mu(t,Ye.producerIndexOfThis[e])}Ye.producerNode[e]!==n&&(Ye.producerNode[e]=n,Ye.producerIndexOfThis[e]=ea(Ye)?Qw(n,Ye,e):0),Ye.producerLastReadVersion[e]=n.version}function BM(){hu++}function qw(n){if(!(ea(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===hu)){if(!n.producerMustRecompute(n)&&!tp(n)){n.dirty=!1,n.lastCleanEpoch=hu;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=hu}}function Ww(n){if(n.liveConsumerNode===void 0)return;let e=du;du=!0;try{for(let t of n.liveConsumerNode)t.dirty||$M(t)}finally{du=e}}function Kw(){return Ye?.consumerAllowSignalWrites!==!1}function $M(n){n.dirty=!0,Ww(n),n.consumerMarkedDirty?.(n)}function pu(n){return n&&(n.nextProducerIndex=0),fe(n)}function ep(n,e){if(fe(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(ea(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)mu(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function tp(n){gu(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(qw(t),r!==t.version))return!0}return!1}function np(n){if(gu(n),ea(n))for(let e=0;e<n.producerNode.length;e++)mu(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Qw(n,e,t){if(Yw(n),n.liveConsumerNode.length===0&&Jw(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=Qw(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function mu(n,e){if(Yw(n),n.liveConsumerNode.length===1&&Jw(n))for(let r=0;r<n.producerNode.length;r++)mu(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];gu(i),i.producerIndexOfThis[r]=e}}function ea(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function gu(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function Yw(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function Jw(n){return n.producerNode!==void 0}function Zw(n){let e=Object.create(HM);e.computation=n;let t=()=>{if(qw(e),Xf(e),e.value===fu)throw e.error;return e.value};return t[_r]=e,t}var Jf=Symbol("UNSET"),Zf=Symbol("COMPUTING"),fu=Symbol("ERRORED"),HM=he(V({},ta),{value:Jf,dirty:!0,error:null,equal:zw,producerMustRecompute(n){return n.value===Jf||n.value===Zf},producerRecomputeValue(n){if(n.value===Zf)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Zf;let t=pu(n),r;try{r=n.computation()}catch(i){r=fu,n.error=i}finally{ep(n,t)}if(e!==Jf&&e!==fu&&r!==fu&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function zM(){throw new Error}var Xw=zM;function eE(){Xw()}function tE(n){Xw=n}var GM=null;function nE(n){let e=Object.create(iE);e.value=n;let t=()=>(Xf(e),e.value);return t[_r]=e,t}function rp(n,e){Kw()||eE(),n.equal(n.value,e)||(n.value=e,qM(n))}function rE(n,e){Kw()||eE(),rp(n,e(n.value))}var iE=he(V({},ta),{equal:zw,value:void 0});function qM(n){n.version++,BM(),Ww(n),GM?.()}function oe(n){return typeof n=="function"}function Ji(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var yu=Ji(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function ci(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Be=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(oe(r))try{r()}catch(o){e=o instanceof yu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{oE(o)}catch(s){e=e??[],s instanceof yu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new yu(e)}}add(e){var t;if(e&&e!==this)if(this.closed)oE(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&ci(t,e)}remove(e){let{_finalizers:t}=this;t&&ci(t,e),e instanceof n&&e._removeParent(this)}};Be.EMPTY=(()=>{let n=new Be;return n.closed=!0,n})();var ip=Be.EMPTY;function vu(n){return n instanceof Be||n&&"closed"in n&&oe(n.remove)&&oe(n.add)&&oe(n.unsubscribe)}function oE(n){oe(n)?n():n.unsubscribe()}var Xt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Zi={setTimeout(n,e,...t){let{delegate:r}=Zi;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Zi;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function _u(n){Zi.setTimeout(()=>{let{onUnhandledError:e}=Xt;if(e)e(n);else throw n})}function na(){}var sE=op("C",void 0,void 0);function aE(n){return op("E",void 0,n)}function cE(n){return op("N",n,void 0)}function op(n,e,t){return{kind:n,value:e,error:t}}var ui=null;function Xi(n){if(Xt.useDeprecatedSynchronousErrorHandling){let e=!ui;if(e&&(ui={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=ui;if(ui=null,t)throw r}}else n()}function uE(n){Xt.useDeprecatedSynchronousErrorHandling&&ui&&(ui.errorThrown=!0,ui.error=n)}var li=class extends Be{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,vu(e)&&e.add(this)):this.destination=QM}static create(e,t,r){return new eo(e,t,r)}next(e){this.isStopped?ap(cE(e),this):this._next(e)}error(e){this.isStopped?ap(aE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ap(sE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},WM=Function.prototype.bind;function sp(n,e){return WM.call(n,e)}var cp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Iu(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Iu(r)}else Iu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Iu(t)}}},eo=class extends li{constructor(e,t,r){super();let i;if(oe(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Xt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&sp(e.next,o),error:e.error&&sp(e.error,o),complete:e.complete&&sp(e.complete,o)}):i=e}this.destination=new cp(i)}};function Iu(n){Xt.useDeprecatedSynchronousErrorHandling?uE(n):_u(n)}function KM(n){throw n}function ap(n,e){let{onStoppedNotification:t}=Xt;t&&Zi.setTimeout(()=>t(n,e))}var QM={closed:!0,next:na,error:KM,complete:na};var to=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Pt(n){return n}function wu(...n){return up(n)}function up(n){return n.length===0?Pt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var ue=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=JM(t)?t:new eo(t,r,i);return Xi(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=lE(r),new r((i,o)=>{let s=new eo({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[to](){return this}pipe(...t){return up(t)(this)}toPromise(t){return t=lE(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function lE(n){var e;return(e=n??Xt.Promise)!==null&&e!==void 0?e:Promise}function YM(n){return n&&oe(n.next)&&oe(n.error)&&oe(n.complete)}function JM(n){return n&&n instanceof li||YM(n)&&vu(n)}function lp(n){return oe(n?.lift)}function _e(n){return e=>{if(lp(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function pe(n,e,t,r,i){return new dp(n,e,t,r,i)}var dp=class extends li{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function no(){return _e((n,e)=>{let t=null;n._refCount++;let r=pe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var ro=class extends ue{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,lp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Be;let t=this.getSubject();e.add(this.source.subscribe(pe(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Be.EMPTY)}return e}refCount(){return no()(this)}};var dE=Ji(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var et=(()=>{class n extends ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Eu(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new dE}next(t){Xi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Xi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Xi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?ip:(this.currentObservers=null,o.push(t),new Be(()=>{this.currentObservers=null,ci(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new ue;return t.source=this,t}}return n.create=(e,t)=>new Eu(e,t),n})(),Eu=class extends et{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:ip}};var st=class extends et{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var hp={now(){return(hp.delegate||Date).now()},delegate:void 0};var bu=class extends Be{constructor(e,t){super()}schedule(e,t=0){return this}};var ra={setInterval(n,e,...t){let{delegate:r}=ra;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=ra;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var io=class extends bu{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return ra.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&ra.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,ci(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var oo=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};oo.now=hp.now;var so=class extends oo{constructor(e,t=oo.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var fp=new so(io);var Du=class extends io{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Cu=class extends so{};var pp=new Cu(Du);var Ot=new ue(n=>n.complete());function hE(n){return n&&oe(n.schedule)}function fE(n){return n[n.length-1]}function Tu(n){return oe(fE(n))?n.pop():void 0}function Ir(n){return hE(fE(n))?n.pop():void 0}function mp(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function mE(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function pE(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function di(n){return this instanceof di?(this.v=n,this):new di(n)}function gE(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(T){return Promise.resolve(T).then(g,p)}}function a(g,T){r[g]&&(i[g]=function(M){return new Promise(function(R,L){o.push([g,M,R,L])>1||u(g,M)})},T&&(i[g]=T(i[g])))}function u(g,T){try{l(r[g](T))}catch(M){y(o[0][3],M)}}function l(g){g.value instanceof di?Promise.resolve(g.value.v).then(h,p):y(o[0][2],g)}function h(g){u("next",g)}function p(g){u("throw",g)}function y(g,T){g(T),o.shift(),o.length&&u(o[0][0],o[0][1])}}function yE(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof pE=="function"?pE(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Au=n=>n&&typeof n.length=="number"&&typeof n!="function";function Su(n){return oe(n?.then)}function Ru(n){return oe(n[to])}function Mu(n){return Symbol.asyncIterator&&oe(n?.[Symbol.asyncIterator])}function xu(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function ZM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Nu=ZM();function Pu(n){return oe(n?.[Nu])}function Ou(n){return gE(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield di(t.read());if(i)return yield di(void 0);yield yield di(r)}}finally{t.releaseLock()}})}function ku(n){return oe(n?.getReader)}function Ge(n){if(n instanceof ue)return n;if(n!=null){if(Ru(n))return XM(n);if(Au(n))return ex(n);if(Su(n))return tx(n);if(Mu(n))return vE(n);if(Pu(n))return nx(n);if(ku(n))return rx(n)}throw xu(n)}function XM(n){return new ue(e=>{let t=n[to]();if(oe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function ex(n){return new ue(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function tx(n){return new ue(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,_u)})}function nx(n){return new ue(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function vE(n){return new ue(e=>{ix(n,e).catch(t=>e.error(t))})}function rx(n){return vE(Ou(n))}function ix(n,e){var t,r,i,o;return mE(this,void 0,void 0,function*(){try{for(t=yE(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function At(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function wr(n,e=0){return _e((t,r)=>{t.subscribe(pe(r,i=>At(r,n,()=>r.next(i),e),()=>At(r,n,()=>r.complete(),e),i=>At(r,n,()=>r.error(i),e)))})}function Er(n,e=0){return _e((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function _E(n,e){return Ge(n).pipe(Er(e),wr(e))}function IE(n,e){return Ge(n).pipe(Er(e),wr(e))}function wE(n,e){return new ue(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function EE(n,e){return new ue(t=>{let r;return At(t,e,()=>{r=n[Nu](),At(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>oe(r?.return)&&r.return()})}function Fu(n,e){if(!n)throw new Error("Iterable cannot be null");return new ue(t=>{At(t,e,()=>{let r=n[Symbol.asyncIterator]();At(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function bE(n,e){return Fu(Ou(n),e)}function DE(n,e){if(n!=null){if(Ru(n))return _E(n,e);if(Au(n))return wE(n,e);if(Su(n))return IE(n,e);if(Mu(n))return Fu(n,e);if(Pu(n))return EE(n,e);if(ku(n))return bE(n,e)}throw xu(n)}function Fe(n,e){return e?DE(n,e):Ge(n)}function Z(...n){let e=Ir(n);return Fe(n,e)}function ao(n,e){let t=oe(n)?n:()=>n,r=i=>i.error(t());return new ue(e?i=>e.schedule(r,0,i):r)}function gp(n){return!!n&&(n instanceof ue||oe(n.lift)&&oe(n.subscribe))}var Ln=Ji(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ee(n,e){return _e((t,r)=>{let i=0;t.subscribe(pe(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:ox}=Array;function sx(n,e){return ox(e)?n(...e):n(e)}function Lu(n){return ee(e=>sx(n,e))}var{isArray:ax}=Array,{getPrototypeOf:cx,prototype:ux,keys:lx}=Object;function Vu(n){if(n.length===1){let e=n[0];if(ax(e))return{args:e,keys:null};if(dx(e)){let t=lx(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function dx(n){return n&&typeof n=="object"&&cx(n)===ux}function Uu(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function ia(...n){let e=Ir(n),t=Tu(n),{args:r,keys:i}=Vu(n);if(r.length===0)return Fe([],e);let o=new ue(hx(r,e,i?s=>Uu(i,s):Pt));return t?o.pipe(Lu(t)):o}function hx(n,e,t=Pt){return r=>{CE(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)CE(e,()=>{let l=Fe(n[u],e),h=!1;l.subscribe(pe(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function CE(n,e,t){n?At(t,n,e):e()}function TE(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,y=()=>{p&&!u.length&&!l&&e.complete()},g=M=>l<r?T(M):u.push(M),T=M=>{o&&e.next(M),l++;let R=!1;Ge(t(M,h++)).subscribe(pe(e,L=>{i?.(L),o?g(L):e.next(L)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let L=u.shift();s?At(e,s,()=>T(L)):T(L)}y()}catch(L){e.error(L)}}))};return n.subscribe(pe(e,g,()=>{p=!0,y()})),()=>{a?.()}}function qe(n,e,t=1/0){return oe(e)?qe((r,i)=>ee((o,s)=>e(r,o,i,s))(Ge(n(r,i))),t):(typeof e=="number"&&(t=e),_e((r,i)=>TE(r,i,n,t)))}function co(n=1/0){return qe(Pt,n)}function AE(){return co(1)}function uo(...n){return AE()(Fe(n,Ir(n)))}function ju(n){return new ue(e=>{Ge(n()).subscribe(e)})}function yp(...n){let e=Tu(n),{args:t,keys:r}=Vu(n),i=new ue(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Ge(t[h]).subscribe(pe(o,y=>{p||(p=!0,l--),a[h]=y},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Uu(r,a):a),o.complete())}))}});return e?i.pipe(Lu(e)):i}function It(n,e){return _e((t,r)=>{let i=0;t.subscribe(pe(r,o=>n.call(e,o,i++)&&r.next(o)))})}function br(n){return _e((e,t)=>{let r=null,i=!1,o;r=e.subscribe(pe(t,void 0,void 0,s=>{o=Ge(n(s,br(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function SE(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(pe(s,h=>{let p=l++;u=a?n(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Vn(n,e){return oe(e)?qe(n,e,1):qe(n,1)}function Dr(n){return _e((e,t)=>{let r=!1;e.subscribe(pe(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Un(n){return n<=0?()=>Ot:_e((e,t)=>{let r=0;e.subscribe(pe(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function vp(n){return ee(()=>n)}function Bu(n=fx){return _e((e,t)=>{let r=!1;e.subscribe(pe(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function fx(){return new Ln}function hi(n){return _e((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function hn(n,e){let t=arguments.length>=2;return r=>r.pipe(n?It((i,o)=>n(i,o,r)):Pt,Un(1),t?Dr(e):Bu(()=>new Ln))}function lo(n){return n<=0?()=>Ot:_e((e,t)=>{let r=[];e.subscribe(pe(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function _p(n,e){let t=arguments.length>=2;return r=>r.pipe(n?It((i,o)=>n(i,o,r)):Pt,lo(1),t?Dr(e):Bu(()=>new Ln))}function $u(n,e){return _e(SE(n,e,arguments.length>=2,!0))}function Hu(...n){let e=Ir(n);return _e((t,r)=>{(e?uo(n,t,e):uo(n,t)).subscribe(r)})}function St(n,e){return _e((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(pe(r,u=>{i?.unsubscribe();let l=0,h=o++;Ge(n(u,h)).subscribe(i=pe(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Ip(n){return _e((e,t)=>{Ge(n).subscribe(pe(t,()=>t.complete(),na)),!t.closed&&e.subscribe(t)})}function We(n,e,t){let r=oe(n)||e||t?{next:n,error:e,complete:t}:n;return r?_e((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(pe(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Pt}var h0="https://g.co/ng/security#xss",W=class extends Error{constructor(e,t){super(bl(e,t)),this.code=e}};function bl(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function ya(n){return{toString:n}.toString()}var zu="__parameters__";function px(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function f0(n,e,t){return ya(()=>{let r=px(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(zu)?u[zu]:Object.defineProperty(u,zu,{value:[]})[zu];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var kp=globalThis;function ke(n){for(let e in n)if(n[e]===ke)return e;throw Error("Could not find renamed property on target object.")}function mx(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Et(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Et).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function RE(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var gx=ke({__forward_ref__:ke});function Nr(n){return n.__forward_ref__=Nr,n.toString=function(){return Et(this())},n}function wt(n){return p0(n)?n():n}function p0(n){return typeof n=="function"&&n.hasOwnProperty(gx)&&n.__forward_ref__===Nr}function z(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function vn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Dl(n){return ME(n,g0)||ME(n,y0)}function m0(n){return Dl(n)!==null}function ME(n,e){return n.hasOwnProperty(e)?n[e]:null}function yx(n){let e=n&&(n[g0]||n[y0]);return e||null}function xE(n){return n&&(n.hasOwnProperty(NE)||n.hasOwnProperty(vx))?n[NE]:null}var g0=ke({\u0275prov:ke}),NE=ke({\u0275inj:ke}),y0=ke({ngInjectableDef:ke}),vx=ke({ngInjectorDef:ke}),$=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=z({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function v0(n){return n&&!!n.\u0275providers}var _x=ke({\u0275cmp:ke}),Ix=ke({\u0275dir:ke}),wx=ke({\u0275pipe:ke}),Ex=ke({\u0275mod:ke}),el=ke({\u0275fac:ke}),sa=ke({__NG_ELEMENT_ID__:ke}),PE=ke({__NG_ENV_ID__:ke});function vo(n){return typeof n=="string"?n:n==null?"":String(n)}function bx(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():vo(n)}function Dx(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new W(-200,n)}function Sm(n,e){throw new W(-201,!1)}var le=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(le||{}),Fp;function _0(){return Fp}function Bt(n){let e=Fp;return Fp=n,e}function I0(n,e,t){let r=Dl(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&le.Optional)return null;if(e!==void 0)return e;Sm(n,"Injector")}var Cx={},aa=Cx,Lp="__NG_DI_FLAG__",tl="ngTempTokenPath",Tx="ngTokenPath",Ax=/\n/gm,Sx="\u0275",OE="__source",go;function Rx(){return go}function Cr(n){let e=go;return go=n,e}function Mx(n,e=le.Default){if(go===void 0)throw new W(-203,!1);return go===null?I0(n,void 0,e):go.get(n,e&le.Optional?null:void 0,e)}function Q(n,e=le.Default){return(_0()||Mx)(wt(n),e)}function P(n,e=le.Default){return Q(n,Cl(e))}function Cl(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Vp(n){let e=[];for(let t=0;t<n.length;t++){let r=wt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new W(900,!1);let i,o=le.Default;for(let s=0;s<r.length;s++){let a=r[s],u=xx(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(Q(i,o))}else e.push(Q(r))}return e}function w0(n,e){return n[Lp]=e,n.prototype[Lp]=e,n}function xx(n){return n[Lp]}function Nx(n,e,t,r){let i=n[tl];throw e[OE]&&i.unshift(e[OE]),n.message=Px(`
`+n.message,i,t,r),n[Tx]=i,n[tl]=null,n}function Px(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==Sx?n.slice(2):n;let i=Et(e);if(Array.isArray(e))i=e.map(Et).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Et(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(Ax,`
  `)}`}var Tt=w0(f0("Optional"),8);var E0=w0(f0("SkipSelf"),4);function _o(n,e){let t=n.hasOwnProperty(el);return t?n[el]:null}function Rm(n,e){n.forEach(t=>Array.isArray(t)?Rm(t,e):e(t))}function b0(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function nl(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Ox(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function kx(n,e,t){let r=va(n,e);return r>=0?n[r|1]=t:(r=~r,Ox(n,r,e,t)),r}function wp(n,e){let t=va(n,e);if(t>=0)return n[t|1]}function va(n,e){return Fx(n,e,1)}function Fx(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Io={},$t=[],wo=new $(""),D0=new $("",-1),C0=new $(""),rl=class{get(e,t=aa){if(t===aa){let r=new Error(`NullInjectorError: No provider for ${Et(e)}!`);throw r.name="NullInjectorError",r}return t}},T0=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(T0||{}),mn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(mn||{}),Sr=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Sr||{});function Lx(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function Up(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];Vx(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function A0(n){return n===3||n===4||n===6}function Vx(n){return n.charCodeAt(0)===64}function ca(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?kE(n,t,i,null,e[++r]):kE(n,t,i,null,null))}}return n}function kE(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}var S0="ng-template";function Ux(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&Lx(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Mm(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Mm(n){return n.type===4&&n.value!==S0}function jx(n,e,t){let r=n.type===4&&!t?S0:n.value;return e===r}function Bx(n,e,t){let r=4,i=n.attrs,o=i!==null?zx(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!en(r)&&!en(u))return!1;if(s&&en(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!jx(n,u,t)||u===""&&e.length===1){if(en(r))return!1;s=!0}}else if(r&8){if(i===null||!Ux(n,i,u,t)){if(en(r))return!1;s=!0}}else{let l=e[++a],h=$x(u,i,Mm(n),t);if(h===-1){if(en(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(en(r))return!1;s=!0}}}}return en(r)||s}function en(n){return(n&1)===0}function $x(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return Gx(e,n)}function Hx(n,e,t=!1){for(let r=0;r<e.length;r++)if(Bx(n,e[r],t))return!0;return!1}function zx(n){for(let e=0;e<n.length;e++){let t=n[e];if(A0(t))return e}return n.length}function Gx(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function FE(n,e){return n?":not("+e.trim()+")":e}function qx(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!en(s)&&(e+=FE(o,i),i=""),r=s,o=o||!en(r);t++}return i!==""&&(e+=FE(o,i)),e}function Wx(n){return n.map(qx).join(",")}function Kx(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!en(i))break;i=o}r++}return{attrs:e,classes:t}}function Ne(n){return ya(()=>{let e=P0(n),t=he(V({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===T0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||mn.Emulated,styles:n.styles||$t,_:null,schemas:n.schemas||null,tView:null,id:""});O0(t);let r=n.dependencies;return t.directiveDefs=VE(r,!1),t.pipeDefs=VE(r,!0),t.id=Jx(t),t})}function Qx(n){return Rr(n)||R0(n)}function Yx(n){return n!==null}function _n(n){return ya(()=>({type:n.type,bootstrap:n.bootstrap||$t,declarations:n.declarations||$t,imports:n.imports||$t,exports:n.exports||$t,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function LE(n,e){if(n==null)return Io;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=Sr.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=a!==Sr.None?[r,a]:r,e[o]=s):t[o]=r}return t}function Je(n){return ya(()=>{let e=P0(n);return O0(e),e})}function Rr(n){return n[_x]||null}function R0(n){return n[Ix]||null}function M0(n){return n[wx]||null}function x0(n){let e=Rr(n)||R0(n)||M0(n);return e!==null?e.standalone:!1}function N0(n,e){let t=n[Ex]||null;if(!t&&e===!0)throw new Error(`Type ${Et(n)} does not have '\u0275mod' property.`);return t}function P0(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Io,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||$t,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:LE(n.inputs,e),outputs:LE(n.outputs),debugInfo:null}}function O0(n){n.features?.forEach(e=>e(n))}function VE(n,e){if(!n)return null;let t=e?M0:Qx;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(Yx)}function Jx(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function zt(n){return{\u0275providers:n}}function Zx(...n){return{\u0275providers:k0(!0,n),\u0275fromNgModule:!0}}function k0(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Rm(e,s=>{let a=s;jp(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&F0(i,o),t}function F0(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];xm(i,o=>{e(o,r)})}}function jp(n,e,t,r){if(n=wt(n),!n)return!1;let i=null,o=xE(n),s=!o&&Rr(n);if(!o&&!s){let u=n.ngModule;if(o=xE(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)jp(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Rm(o.imports,h=>{jp(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&F0(l,e)}if(!a){let l=_o(i)||(()=>new i);e({provide:i,useFactory:l,deps:$t},i),e({provide:C0,useValue:i,multi:!0},i),e({provide:wo,useValue:()=>Q(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;xm(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function xm(n,e){for(let t of n)v0(t)&&(t=t.\u0275providers),Array.isArray(t)?xm(t,e):e(t)}var Xx=ke({provide:String,useValue:ke});function L0(n){return n!==null&&typeof n=="object"&&Xx in n}function eN(n){return!!(n&&n.useExisting)}function tN(n){return!!(n&&n.useFactory)}function Eo(n){return typeof n=="function"}function nN(n){return!!n.useClass}var Tl=new $(""),Qu={},rN={},Ep;function Nm(){return Ep===void 0&&(Ep=new rl),Ep}var Dt=class{},ua=class extends Dt{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,$p(e,s=>this.processProvider(s)),this.records.set(D0,ho(void 0,this)),i.has("environment")&&this.records.set(Dt,ho(void 0,this));let o=this.records.get(Tl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(C0,$t,le.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=fe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),fe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Cr(this),r=Bt(void 0),i;try{return e()}finally{Cr(t),Bt(r)}}get(e,t=aa,r=le.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(PE))return e[PE](this);r=Cl(r);let i,o=Cr(this),s=Bt(void 0);try{if(!(r&le.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=cN(e)&&Dl(e);l&&this.injectableDefInScope(l)?u=ho(Bp(e),Qu):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&le.Self?Nm():this.parent;return t=r&le.Optional&&t===aa?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[tl]=a[tl]||[]).unshift(Et(e)),o)throw a;return Nx(a,e,"R3InjectorError",this.source)}else throw a}finally{Bt(s),Cr(o)}}resolveInjectorInitializers(){let e=fe(null),t=Cr(this),r=Bt(void 0),i;try{let o=this.get(wo,$t,le.Self);for(let s of o)s()}finally{Cr(t),Bt(r),fe(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Et(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new W(205,!1)}processProvider(e){e=wt(e);let t=Eo(e)?e:wt(e&&e.provide),r=oN(e);if(!Eo(e)&&e.multi===!0){let i=this.records.get(t);i||(i=ho(void 0,Qu,!0),i.factory=()=>Vp(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=fe(null);try{return t.value===Qu&&(t.value=rN,t.value=t.factory()),typeof t.value=="object"&&t.value&&aN(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{fe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=wt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Bp(n){let e=Dl(n),t=e!==null?e.factory:_o(n);if(t!==null)return t;if(n instanceof $)throw new W(204,!1);if(n instanceof Function)return iN(n);throw new W(204,!1)}function iN(n){if(n.length>0)throw new W(204,!1);let t=yx(n);return t!==null?()=>t.factory(n):()=>new n}function oN(n){if(L0(n))return ho(void 0,n.useValue);{let e=V0(n);return ho(e,Qu)}}function V0(n,e,t){let r;if(Eo(n)){let i=wt(n);return _o(i)||Bp(i)}else if(L0(n))r=()=>wt(n.useValue);else if(tN(n))r=()=>n.useFactory(...Vp(n.deps||[]));else if(eN(n))r=()=>Q(wt(n.useExisting));else{let i=wt(n&&(n.useClass||n.provide));if(sN(n))r=()=>new i(...Vp(n.deps));else return _o(i)||Bp(i)}return r}function ho(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function sN(n){return!!n.deps}function aN(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function cN(n){return typeof n=="function"||typeof n=="object"&&n instanceof $}function $p(n,e){for(let t of n)Array.isArray(t)?$p(t,e):t&&v0(t)?$p(t.\u0275providers,e):e(t)}function Gt(n,e){n instanceof ua&&n.assertNotDestroyed();let t,r=Cr(n),i=Bt(void 0);try{return e()}finally{Cr(r),Bt(i)}}function U0(){return _0()!==void 0||Rx()!=null}function uN(n){if(!U0())throw new W(-203,!1)}function lN(n){return typeof n=="function"}var zn=0,ce=1,te=2,Ct=3,tn=4,on=5,la=6,il=7,ft=8,bo=9,gn=10,tt=11,da=12,UE=13,Po=14,nn=15,Do=16,fo=17,Co=18,Al=19,j0=20,Tr=21,bp=22,Ht=23,rn=25,B0=1;var pi=7,ol=8,sl=9,bt=10,al=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(al||{});function Ar(n){return Array.isArray(n)&&typeof n[B0]=="object"}function Gn(n){return Array.isArray(n)&&n[B0]===!0}function $0(n){return(n.flags&4)!==0}function Sl(n){return n.componentOffset>-1}function Pm(n){return(n.flags&1)===1}function Mr(n){return!!n.template}function Hp(n){return(n[te]&512)!==0}var zp=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function H0(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function Pr(){return z0}function z0(n){return n.type.prototype.ngOnChanges&&(n.setInput=hN),dN}Pr.ngInherit=!0;function dN(){let n=q0(this),e=n?.current;if(e){let t=n.previous;if(t===Io)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function hN(n,e,t,r,i){let o=this.declaredInputs[r],s=q0(n)||fN(n,{previous:Io,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new zp(l&&l.currentValue,t,u===Io),H0(n,e,i,t)}var G0="__ngSimpleChanges__";function q0(n){return n[G0]||null}function fN(n,e){return n[G0]=e}var jE=null;var fn=function(n,e,t){jE?.(n,e,t)},pN="svg",mN="math";function yn(n){for(;Array.isArray(n);)n=n[zn];return n}function W0(n,e){return yn(e[n])}function qt(n,e){return yn(e[n.index])}function Om(n,e){return n.data[e]}function Or(n,e){let t=e[n];return Ar(t)?t:t[zn]}function km(n){return(n[te]&128)===128}function gN(n){return Gn(n[Ct])}function To(n,e){return e==null?null:n[e]}function K0(n){n[fo]=0}function Q0(n){n[te]&1024||(n[te]|=1024,km(n)&&Ml(n))}function yN(n,e){for(;n>0;)e=e[Po],n--;return e}function Rl(n){return!!(n[te]&9216||n[Ht]?.dirty)}function Gp(n){n[gn].changeDetectionScheduler?.notify(8),n[te]&64&&(n[te]|=1024),Rl(n)&&Ml(n)}function Ml(n){n[gn].changeDetectionScheduler?.notify(0);let e=mi(n);for(;e!==null&&!(e[te]&8192||(e[te]|=8192,!km(e)));)e=mi(e)}function Y0(n,e){if((n[te]&256)===256)throw new W(911,!1);n[Tr]===null&&(n[Tr]=[]),n[Tr].push(e)}function vN(n,e){if(n[Tr]===null)return;let t=n[Tr].indexOf(e);t!==-1&&n[Tr].splice(t,1)}function mi(n){let e=n[Ct];return Gn(e)?e[Ct]:e}var de={lFrame:sb(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var J0=!1;function _N(){return de.lFrame.elementDepthCount}function IN(){de.lFrame.elementDepthCount++}function wN(){de.lFrame.elementDepthCount--}function Z0(){return de.bindingsEnabled}function EN(){return de.skipHydrationRootTNode!==null}function bN(n){return de.skipHydrationRootTNode===n}function DN(){de.skipHydrationRootTNode=null}function Ae(){return de.lFrame.lView}function kt(){return de.lFrame.tView}function xl(n){return de.lFrame.contextLView=n,n[ft]}function Nl(n){return de.lFrame.contextLView=null,n}function Rt(){let n=X0();for(;n!==null&&n.type===64;)n=n.parent;return n}function X0(){return de.lFrame.currentTNode}function CN(){let n=de.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function _a(n,e){let t=de.lFrame;t.currentTNode=n,t.isParent=e}function eb(){return de.lFrame.isParent}function TN(){de.lFrame.isParent=!1}function tb(){return J0}function BE(n){J0=n}function AN(){let n=de.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function SN(){return de.lFrame.bindingIndex}function RN(n){return de.lFrame.bindingIndex=n}function Ia(){return de.lFrame.bindingIndex++}function nb(n){let e=de.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function MN(){return de.lFrame.inI18n}function xN(n,e){let t=de.lFrame;t.bindingIndex=t.bindingRootIndex=n,qp(e)}function NN(){return de.lFrame.currentDirectiveIndex}function qp(n){de.lFrame.currentDirectiveIndex=n}function PN(n){let e=de.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function rb(n){de.lFrame.currentQueryIndex=n}function ON(n){let e=n[ce];return e.type===2?e.declTNode:e.type===1?n[on]:null}function ib(n,e,t){if(t&le.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&le.Host);)if(i=ON(o),i===null||(o=o[Po],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=de.lFrame=ob();return r.currentTNode=e,r.lView=n,!0}function Fm(n){let e=ob(),t=n[ce];de.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function ob(){let n=de.lFrame,e=n===null?null:n.child;return e===null?sb(n):e}function sb(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function ab(){let n=de.lFrame;return de.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var cb=ab;function Lm(){let n=ab();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function kN(n){return(de.lFrame.contextLView=yN(n,de.lFrame.contextLView))[ft]}function kr(){return de.lFrame.selectedIndex}function gi(n){de.lFrame.selectedIndex=n}function Vm(){let n=de.lFrame;return Om(n.tView,n.selectedIndex)}function FN(){return de.lFrame.currentNamespace}var ub=!0;function Um(){return ub}function jm(n){ub=n}function LN(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=z0(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Bm(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function Yu(n,e,t){lb(n,e,3,t)}function Ju(n,e,t,r){(n[te]&3)===t&&lb(n,e,t,r)}function Dp(n,e){let t=n[te];(t&3)===e&&(t&=16383,t+=1,n[te]=t)}function lb(n,e,t,r){let i=r!==void 0?n[fo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[fo]+=65536),(a<o||o==-1)&&(VN(n,t,e,u),n[fo]=(n[fo]&4294901760)+u+2),u++}function $E(n,e){fn(4,n,e);let t=fe(null);try{e.call(n)}finally{fe(t),fn(5,n,e)}}function VN(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[te]>>14<n[fo]>>16&&(n[te]&3)===e&&(n[te]+=16384,$E(a,o)):$E(a,o)}var yo=-1,yi=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function UN(n){return n instanceof yi}function jN(n){return(n.flags&8)!==0}function BN(n){return(n.flags&16)!==0}var Cp={},Wp=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Cl(r);let i=this.injector.get(e,Cp,r);return i!==Cp||t===Cp?i:this.parentInjector.get(e,t,r)}};function db(n){return n!==yo}function cl(n){return n&32767}function $N(n){return n>>16}function ul(n,e){let t=$N(n),r=e;for(;t>0;)r=r[Po],t--;return r}var Kp=!0;function HE(n){let e=Kp;return Kp=n,e}var HN=256,hb=HN-1,fb=5,zN=0,pn={};function GN(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(sa)&&(r=t[sa]),r==null&&(r=t[sa]=zN++);let i=r&hb,o=1<<i;e.data[n+(i>>fb)]|=o}function ll(n,e){let t=pb(n,e);if(t!==-1)return t;let r=e[ce];r.firstCreatePass&&(n.injectorIndex=e.length,Tp(r.data,n),Tp(e,null),Tp(r.blueprint,null));let i=$m(n,e),o=n.injectorIndex;if(db(i)){let s=cl(i),a=ul(i,e),u=a[ce].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function Tp(n,e){n.push(0,0,0,0,0,0,0,0,e)}function pb(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function $m(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=_b(i),r===null)return yo;if(t++,i=i[Po],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return yo}function Qp(n,e,t){GN(n,e,t)}function qN(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(A0(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function mb(n,e,t){if(t&le.Optional||n!==void 0)return n;Sm(e,"NodeInjector")}function gb(n,e,t,r){if(t&le.Optional&&r===void 0&&(r=null),!(t&(le.Self|le.Host))){let i=n[bo],o=Bt(void 0);try{return i?i.get(e,r,t&le.Optional):I0(e,r,t&le.Optional)}finally{Bt(o)}}return mb(r,e,t)}function yb(n,e,t,r=le.Default,i){if(n!==null){if(e[te]&2048&&!(r&le.Self)){let s=JN(n,e,t,r,pn);if(s!==pn)return s}let o=vb(n,e,t,r,pn);if(o!==pn)return o}return gb(e,t,r,i)}function vb(n,e,t,r,i){let o=QN(t);if(typeof o=="function"){if(!ib(e,n,r))return r&le.Host?mb(i,t,r):gb(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&le.Optional))Sm(t);else return s}finally{cb()}}else if(typeof o=="number"){let s=null,a=pb(n,e),u=yo,l=r&le.Host?e[nn][on]:null;for((a===-1||r&le.SkipSelf)&&(u=a===-1?$m(n,e):e[a+8],u===yo||!GE(r,!1)?a=-1:(s=e[ce],a=cl(u),e=ul(u,e)));a!==-1;){let h=e[ce];if(zE(o,a,h.data)){let p=WN(a,e,t,s,r,l);if(p!==pn)return p}u=e[a+8],u!==yo&&GE(r,e[ce].data[a+8]===l)&&zE(o,a,e)?(s=h,a=cl(u),e=ul(u,e)):a=-1}}return i}function WN(n,e,t,r,i,o){let s=e[ce],a=s.data[n+8],u=r==null?Sl(a)&&Kp:r!=s&&(a.type&3)!==0,l=i&le.Host&&o===a,h=KN(a,s,t,u,l);return h!==null?Ao(e,s,h,a):pn}function KN(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,y=i?a+h:l;for(let g=p;g<y;g++){let T=s[g];if(g<u&&t===T||g>=u&&T.type===t)return g}if(i){let g=s[u];if(g&&Mr(g)&&g.type===t)return u}return null}function Ao(n,e,t,r){let i=n[t],o=e.data;if(UN(i)){let s=i;s.resolving&&Dx(bx(o[t]));let a=HE(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?Bt(s.injectImpl):null,h=ib(n,r,le.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&LN(t,o[t],e)}finally{l!==null&&Bt(l),HE(a),s.resolving=!1,cb()}}return i}function QN(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(sa)?n[sa]:void 0;return typeof e=="number"?e>=0?e&hb:YN:e}function zE(n,e,t){let r=1<<n;return!!(t[e+(n>>fb)]&r)}function GE(n,e){return!(n&le.Self)&&!(n&le.Host&&e)}var fi=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return yb(this._tNode,this._lView,e,Cl(r),t)}};function YN(){return new fi(Rt(),Ae())}function wi(n){return ya(()=>{let e=n.prototype.constructor,t=e[el]||Yp(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[el]||Yp(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Yp(n){return p0(n)?()=>{let e=Yp(wt(n));return e&&e()}:_o(n)}function JN(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[te]&2048&&!(s[te]&512);){let a=vb(o,s,t,r|le.Self,pn);if(a!==pn)return a;let u=o.parent;if(!u){let l=s[j0];if(l){let h=l.get(t,pn,r);if(h!==pn)return h}u=_b(s),s=s[Po]}o=u}return i}function _b(n){let e=n[ce],t=e.type;return t===2?e.declTNode:t===1?n[on]:null}function Hm(n){return qN(Rt(),n)}function qE(n,e=null,t=null,r){let i=Ib(n,e,t,r);return i.resolveInjectorInitializers(),i}function Ib(n,e=null,t=null,r,i=new Set){let o=[t||$t,Zx(n)];return r=r||(typeof n=="object"?void 0:Et(n)),new ua(o,e||Nm(),r||null,i)}var at=class n{static{this.THROW_IF_NOT_FOUND=aa}static{this.NULL=new rl}static create(e,t){if(Array.isArray(e))return qE({name:""},t,e,"");{let r=e.name??"";return qE({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=z({token:n,providedIn:"any",factory:()=>Q(D0)})}static{this.__NG_ELEMENT_ID__=-1}};var ZN=new $("");ZN.__NG_ELEMENT_ID__=n=>{let e=Rt();if(e===null)throw new W(204,!1);if(e.type&2)return e.value;if(n&le.Optional)return null;throw new W(204,!1)};var XN="ngOriginalError";function Ap(n){return n[XN]}var wb=!0,zm=(()=>{class n{static{this.__NG_ELEMENT_ID__=eP}static{this.__NG_ENV_ID__=t=>t}}return n})(),Jp=class extends zm{constructor(e){super(),this._lView=e}onDestroy(e){return Y0(this._lView,e),()=>vN(this._lView,e)}};function eP(){return new Jp(Ae())}var Fr=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new st(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=z({token:n,providedIn:"root",factory:()=>new n})}}return n})();var Zp=class extends et{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,U0()&&(this.destroyRef=P(zm,{optional:!0})??void 0,this.pendingTasks=P(Fr,{optional:!0})??void 0)}emit(e){let t=fe(null);try{super.next(e)}finally{fe(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Be&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},xe=Zp;function dl(...n){}function Eb(n){let e,t;function r(){n=dl;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function WE(n){return queueMicrotask(()=>n()),()=>{n=dl}}var Gm="isAngularZone",hl=Gm+"_ID",tP=0,Ee=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xe(!1),this.onMicrotaskEmpty=new xe(!1),this.onStable=new xe(!1),this.onError=new xe(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=wb}=e;if(typeof Zone>"u")throw new W(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,iP(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Gm)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new W(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new W(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,nP,dl,dl);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},nP={};function qm(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function rP(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){Eb(()=>{n.callbackScheduled=!1,Xp(n),n.isCheckStableRunning=!0,qm(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Xp(n)}function iP(n){let e=()=>{rP(n)},t=tP++;n._inner=n._inner.fork({name:"angular",properties:{[Gm]:!0,[hl]:t,[hl+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(oP(u))return r.invokeTask(o,s,a,u);try{return KE(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),QE(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return KE(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!sP(u)&&e(),QE(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Xp(n),qm(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Xp(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function KE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function QE(n){n._nesting--,qm(n)}var em=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xe,this.onMicrotaskEmpty=new xe,this.onStable=new xe,this.onError=new xe}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function oP(n){return bb(n,"__ignore_ng_zone__")}function sP(n){return bb(n,"__scheduler_tick__")}function bb(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var jn=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Ap(e);for(;t&&Ap(t);)t=Ap(t);return t||null}},aP=new $("",{providedIn:"root",factory:()=>{let n=P(Ee),e=P(jn);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function cP(){return Pl(Rt(),Ae())}function Pl(n,e){return new sn(qt(n,e))}var sn=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=cP}}return n})();function Db(n){return(n.flags&128)===128}var Cb=new Map,uP=0;function lP(){return uP++}function dP(n){Cb.set(n[Al],n)}function tm(n){Cb.delete(n[Al])}var YE="__ngContext__";function vi(n,e){Ar(e)?(n[YE]=e[Al],dP(e)):n[YE]=e}function Tb(n){return Sb(n[da])}function Ab(n){return Sb(n[tn])}function Sb(n){for(;n!==null&&!Gn(n);)n=n[tn];return n}var nm;function Rb(n){nm=n}function hP(){if(nm!==void 0)return nm;if(typeof document<"u")return document;throw new W(210,!1)}var Wm=new $("",{providedIn:"root",factory:()=>fP}),fP="ng",Km=new $(""),Wt=new $("",{providedIn:"platform",factory:()=>"unknown"});var Qm=new $("",{providedIn:"root",factory:()=>hP().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var pP="h",mP="b";var gP=()=>null;function Ym(n,e,t=!1){return gP(n,e,t)}var Mb=!1,yP=new $("",{providedIn:"root",factory:()=>Mb});var Gu;function vP(){if(Gu===void 0&&(Gu=null,kp.trustedTypes))try{Gu=kp.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Gu}function JE(n){return vP()?.createScriptURL(n)||n}var fl=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${h0})`}};function wa(n){return n instanceof fl?n.changingThisBreaksApplicationSecurity:n}function Jm(n,e){let t=_P(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${h0})`)}return t===e}function _P(n){return n instanceof fl&&n.getTypeName()||null}var IP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function xb(n){return n=String(n),n.match(IP)?n:"unsafe:"+n}var Ol=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Ol||{});function Oo(n){let e=Pb();return e?e.sanitize(Ol.URL,n)||"":Jm(n,"URL")?wa(n):xb(vo(n))}function wP(n){let e=Pb();if(e)return JE(e.sanitize(Ol.RESOURCE_URL,n)||"");if(Jm(n,"ResourceURL"))return JE(wa(n));throw new W(904,!1)}function EP(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?wP:Oo}function Nb(n,e,t){return EP(e,t)(n)}function Pb(){let n=Ae();return n&&n[gn].sanitizer}function Ob(n){return n instanceof Function?n():n}function bP(n){return(n??P(at)).get(Wt)==="browser"}var Bn=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Bn||{}),DP;function Zm(n,e){return DP(n,e)}function po(n,e,t,r,i){if(r!=null){let o,s=!1;Gn(r)?o=r:Ar(r)&&(s=!0,r=r[zn]);let a=yn(r);n===0&&t!==null?i==null?Vb(e,t,a):pl(e,t,a,i||null,!0):n===1&&t!==null?pl(e,t,a,i||null,!0):n===2?UP(e,a,s):n===3&&e.destroyNode(a),o!=null&&BP(e,n,o,t,i)}}function CP(n,e){return n.createText(e)}function TP(n,e,t){n.setValue(e,t)}function kb(n,e,t){return n.createElement(e,t)}function AP(n,e){Fb(n,e),e[zn]=null,e[on]=null}function SP(n,e,t,r,i,o){r[zn]=i,r[on]=e,Fl(n,r,t,1,i,o)}function Fb(n,e){e[gn].changeDetectionScheduler?.notify(9),Fl(n,e,e[tt],2,null,null)}function RP(n){let e=n[da];if(!e)return Sp(n[ce],n);for(;e;){let t=null;if(Ar(e))t=e[da];else{let r=e[bt];r&&(t=r)}if(!t){for(;e&&!e[tn]&&e!==n;)Ar(e)&&Sp(e[ce],e),e=e[Ct];e===null&&(e=n),Ar(e)&&Sp(e[ce],e),t=e&&e[tn]}e=t}}function MP(n,e,t,r){let i=bt+r,o=t.length;r>0&&(t[i-1][tn]=e),r<o-bt?(e[tn]=t[i],b0(t,bt+r,e)):(t.push(e),e[tn]=null),e[Ct]=t;let s=e[Do];s!==null&&t!==s&&Lb(s,e);let a=e[Co];a!==null&&a.insertView(n),Gp(e),e[te]|=128}function Lb(n,e){let t=n[sl],r=e[Ct];if(Ar(r))n[te]|=al.HasTransplantedViews;else{let i=r[Ct][nn];e[nn]!==i&&(n[te]|=al.HasTransplantedViews)}t===null?n[sl]=[e]:t.push(e)}function Xm(n,e){let t=n[sl],r=t.indexOf(e);t.splice(r,1)}function ha(n,e){if(n.length<=bt)return;let t=bt+e,r=n[t];if(r){let i=r[Do];i!==null&&i!==n&&Xm(i,r),e>0&&(n[t-1][tn]=r[tn]);let o=nl(n,bt+e);AP(r[ce],r);let s=o[Co];s!==null&&s.detachView(o[ce]),r[Ct]=null,r[tn]=null,r[te]&=-129}return r}function kl(n,e){if(!(e[te]&256)){let t=e[tt];t.destroyNode&&Fl(n,e,t,3,null,null),RP(e)}}function Sp(n,e){if(e[te]&256)return;let t=fe(null);try{e[te]&=-129,e[te]|=256,e[Ht]&&np(e[Ht]),NP(n,e),xP(n,e),e[ce].type===1&&e[tt].destroy();let r=e[Do];if(r!==null&&Gn(e[Ct])){r!==e[Ct]&&Xm(r,e);let i=e[Co];i!==null&&i.detachView(n)}tm(e)}finally{fe(t)}}function xP(n,e){let t=n.cleanup,r=e[il];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[t[o+1]];t[o].call(s)}r!==null&&(e[il]=null);let i=e[Tr];if(i!==null){e[Tr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function NP(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof yi)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];fn(4,a,u);try{u.call(a)}finally{fn(5,a,u)}}else{fn(4,i,o);try{o.call(i)}finally{fn(5,i,o)}}}}}function PP(n,e,t){return OP(n,e.parent,t)}function OP(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[zn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===mn.None||o===mn.Emulated)return null}return qt(r,t)}}function pl(n,e,t,r,i){n.insertBefore(e,t,r,i)}function Vb(n,e,t){n.appendChild(e,t)}function ZE(n,e,t,r,i){r!==null?pl(n,e,t,r,i):Vb(n,e,t)}function Ub(n,e){return n.parentNode(e)}function kP(n,e){return n.nextSibling(e)}function FP(n,e,t){return VP(n,e,t)}function LP(n,e,t){return n.type&40?qt(n,t):null}var VP=LP,XE;function eg(n,e,t,r){let i=PP(n,r,e),o=e[tt],s=r.parent||e[on],a=FP(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)ZE(o,i,t[u],a,!1);else ZE(o,i,t,a,!1);XE!==void 0&&XE(o,r,e,t,i)}function oa(n,e){if(e!==null){let t=e.type;if(t&3)return qt(e,n);if(t&4)return rm(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return oa(n,r);{let i=n[e.index];return Gn(i)?rm(-1,i):yn(i)}}else{if(t&128)return oa(n,e.next);if(t&32)return Zm(e,n)()||yn(n[e.index]);{let r=jb(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=mi(n[nn]);return oa(i,r)}else return oa(n,e.next)}}}return null}function jb(n,e){if(e!==null){let r=n[nn][on],i=e.projection;return r.projection[i]}return null}function rm(n,e){let t=bt+n+1;if(t<e.length){let r=e[t],i=r[ce].firstChild;if(i!==null)return oa(r,i)}return e[pi]}function UP(n,e,t){n.removeChild(null,e,t)}function tg(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],u=t.type;if(s&&e===0&&(a&&vi(yn(a),r),t.flags|=2),(t.flags&32)!==32)if(u&8)tg(n,e,t.child,r,i,o,!1),po(e,n,i,a,o);else if(u&32){let l=Zm(t,r),h;for(;h=l();)po(e,n,i,h,o);po(e,n,i,a,o)}else u&16?jP(n,e,r,t,i,o):po(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Fl(n,e,t,r,i,o){tg(t,r,n.firstChild,e,i,o,!1)}function jP(n,e,t,r,i,o){let s=t[nn],u=s[on].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];po(e,n,i,h,o)}else{let l=u,h=s[Ct];Db(r)&&(l.flags|=128),tg(n,e,l,h,i,o,!0)}}function BP(n,e,t,r,i){let o=t[pi],s=yn(t);o!==s&&po(e,n,r,o,i);for(let a=bt;a<t.length;a++){let u=t[a];Fl(u[ce],u,n,e,r,o)}}function $P(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Bn.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Bn.Important),n.setStyle(t,r,i,o))}}function HP(n,e,t){n.setAttribute(e,"style",t)}function Bb(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function $b(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&Up(n,e,r),i!==null&&Bb(n,e,i),o!==null&&HP(n,e,o)}var an={};function j(n=1){Hb(kt(),Ae(),kr()+n,!1)}function Hb(n,e,t,r){if(!r)if((e[te]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Yu(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Ju(e,o,0,t)}gi(t)}function me(n,e=le.Default){let t=Ae();if(t===null)return Q(n,e);let r=Rt();return yb(r,t,wt(n),e)}function zb(){let n="invalid";throw new Error(n)}function Gb(n,e,t,r,i,o){let s=fe(null);try{let a=null;i&Sr.SignalBased&&(a=e[r][_r]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Sr.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,r):H0(e,a,r,o)}finally{fe(s)}}function zP(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)gi(~i);else{let o=i,s=t[++r],a=t[++r];xN(s,o);let u=e[o];a(2,u)}}}finally{gi(-1)}}function Ll(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[zn]=i,p[te]=r|4|128|8|64,(l!==null||n&&n[te]&2048)&&(p[te]|=2048),K0(p),p[Ct]=p[Po]=n,p[ft]=t,p[gn]=s||n&&n[gn],p[tt]=a||n&&n[tt],p[bo]=u||n&&n[bo]||null,p[on]=o,p[Al]=lP(),p[la]=h,p[j0]=l,p[nn]=e.type==2?n[nn]:p,p}function Vl(n,e,t,r,i){let o=n.data[e];if(o===null)o=GP(n,e,t,r,i),MN()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=CN();o.injectorIndex=s===null?-1:s.injectorIndex}return _a(o,!0),o}function GP(n,e,t,r,i){let o=X0(),s=eb(),a=s?o:o&&o.parent,u=n.data[e]=YP(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function qb(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Wb(n,e,t,r,i){let o=kr(),s=r&2;try{gi(-1),s&&e.length>rn&&Hb(n,e,rn,!1),fn(s?2:0,i),t(r,i)}finally{gi(o),fn(s?3:1,i)}}function Kb(n,e,t){if($0(e)){let r=fe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{fe(r)}}}function Qb(n,e,t){Z0()&&(nO(n,e,t,qt(t,e)),(t.flags&64)===64&&tD(n,e,t))}function Yb(n,e,t=qt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function Jb(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=ng(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function ng(n,e,t,r,i,o,s,a,u,l,h){let p=rn+r,y=p+i,g=qP(p,y),T=typeof l=="function"?l():l;return g[ce]={type:n,blueprint:g,template:t,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:T,incompleteFirstPass:!1,ssrId:h}}function qP(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:an);return t}function WP(n,e,t,r){let o=r.get(yP,Mb)||t===mn.ShadowDom,s=n.selectRootElement(e,o);return KP(s),s}function KP(n){QP(n)}var QP=()=>null;function YP(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return EN()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function e0(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=Sr.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}n===0?t0(r,t,l,a,u):t0(r,t,l,a)}return r}function t0(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],i!==void 0&&o.push(i)}function JP(n,e,t){let r=e.directiveStart,i=e.directiveEnd,o=n.data,s=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=o[h],y=t?t.get(p):null,g=y?y.inputs:null,T=y?y.outputs:null;u=e0(0,p.inputs,h,u,g),l=e0(1,p.outputs,h,l,T);let M=u!==null&&s!==null&&!Mm(e)?fO(u,h,s):null;a.push(M)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function ZP(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Zb(n,e,t,r,i,o,s,a){let u=qt(e,t),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(rg(n,t,h,r,i),Sl(e)&&XP(t,e.index)):e.type&3?(r=ZP(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function XP(n,e){let t=Or(e,n);t[te]&16||(t[te]|=64)}function Xb(n,e,t,r){if(Z0()){let i=r===null?null:{"":-1},o=iO(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&eD(n,e,t,s,i,a),i&&oO(t,r,i)}t.mergedAttrs=ca(t.mergedAttrs,t.attrs)}function eD(n,e,t,r,i,o){for(let l=0;l<r.length;l++)Qp(ll(t,e),n,r[l].type);aO(t,n.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=qb(n,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];t.mergedAttrs=ca(t.mergedAttrs,h.hostAttrs),cO(n,t,e,u,h),sO(u,h,i),h.contentQueries!==null&&(t.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(t.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),u++}JP(n,t,o)}function eO(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;tO(s)!=a&&s.push(a),s.push(t,r,o)}}function tO(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function nO(n,e,t,r){let i=t.directiveStart,o=t.directiveEnd;Sl(t)&&uO(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||ll(t,e),vi(r,e);let s=t.initialInputs;for(let a=i;a<o;a++){let u=n.data[a],l=Ao(e,n,a,t);if(vi(l,e),s!==null&&hO(e,a-i,l,u,t,s),Mr(u)){let h=Or(t.index,e);h[ft]=Ao(e,n,a,t)}}}function tD(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=NN();try{gi(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];qp(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&rO(u,l)}}finally{gi(-1),qp(s)}}function rO(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function iO(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(Hx(e,s.selectors,!1))if(r||(r=[]),Mr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;im(n,e,u)}else r.unshift(s),im(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function im(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function oO(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new W(-301,!1);r.push(e[i],o)}}}function sO(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Mr(e)&&(t[""]=n)}}function aO(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function cO(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=_o(i.type,!0)),s=new yi(o,Mr(i),me);n.blueprint[r]=s,t[r]=s,eO(n,e,r,qb(n,t,i.hostVars,an),i)}function uO(n,e,t){let r=qt(e,n),i=Jb(t),o=n[gn].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=Ul(n,Ll(n,i,null,s,r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=a}function lO(n,e,t,r,i,o){let s=qt(n,e);dO(e[tt],s,o,n.value,t,r,i)}function dO(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?vo(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function hO(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],l=s[a++],h=s[a++],p=s[a++];Gb(r,t,u,l,h,p)}}function fO(n,e,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function nD(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function rD(n,e){let t=n.contentQueries;if(t!==null){let r=fe(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];rb(o),a.contentQueries(2,e[s],s)}}}finally{fe(r)}}}function Ul(n,e){return n[da]?n[UE][tn]=e:n[da]=e,n[UE]=e,e}function om(n,e,t){rb(0);let r=fe(null);try{e(n,t)}finally{fe(r)}}function pO(n){return n[il]??=[]}function mO(n){return n.cleanup??=[]}function iD(n,e){let t=n[bo],r=t?t.get(jn,null):null;r&&r.handleError(e)}function rg(n,e,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],u=t[o++],l=e[s],h=n.data[s];Gb(h,l,r,a,u,i)}}function oD(n,e,t){let r=W0(e,n);TP(n[tt],r,t)}function gO(n,e){let t=Or(e,n),r=t[ce];yO(r,t);let i=t[zn];i!==null&&t[la]===null&&(t[la]=Ym(i,t[bo])),ig(r,t,t[ft])}function yO(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function ig(n,e,t){Fm(e);try{let r=n.viewQuery;r!==null&&om(1,r,t);let i=n.template;i!==null&&Wb(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Co]?.finishViewCreation(n),n.staticContentQueries&&rD(n,e),n.staticViewQueries&&om(2,n.viewQuery,t);let o=n.components;o!==null&&vO(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[te]&=-5,Lm()}}function vO(n,e){for(let t=0;t<e.length;t++)gO(n,e[t])}function jl(n,e,t,r){let i=fe(null);try{let o=e.tView,a=n[te]&4096?4096:16,u=Ll(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[Do]=l;let h=n[Co];return h!==null&&(u[Co]=h.createEmbeddedView(o)),ig(o,u,t),u}finally{fe(i)}}function sD(n,e){let t=bt+e;if(t<n.length)return n[t]}function fa(n,e){return!e||e.firstChild===null||Db(n)}function Bl(n,e,t,r=!0){let i=e[ce];if(MP(i,e,n,t),r){let s=rm(t,n),a=e[tt],u=Ub(a,n[pi]);u!==null&&SP(i,n[on],a,e,u,s)}let o=e[la];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function aD(n,e){let t=ha(n,e);return t!==void 0&&kl(t[ce],t),t}function ml(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(yn(o)),Gn(o)&&_O(o,r);let s=t.type;if(s&8)ml(n,e,t.child,r);else if(s&32){let a=Zm(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=jb(e,t);if(Array.isArray(a))r.push(...a);else{let u=mi(e[nn]);ml(u[ce],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function _O(n,e){for(let t=bt;t<n.length;t++){let r=n[t],i=r[ce].firstChild;i!==null&&ml(r[ce],r,i,e)}n[pi]!==n[zn]&&e.push(n[pi])}var cD=[];function IO(n){return n[Ht]??wO(n)}function wO(n){let e=cD.pop()??Object.create(bO);return e.lView=n,e}function EO(n){n.lView[Ht]!==n&&(n.lView=null,cD.push(n))}var bO=he(V({},ta),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Ml(n.lView)},consumerOnSignalRead(){this.lView[Ht]=this}});function DO(n){let e=n[Ht]??Object.create(CO);return e.lView=n,e}var CO=he(V({},ta),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=mi(n.lView);for(;e&&!uD(e[ce]);)e=mi(e);e&&Q0(e)},consumerOnSignalRead(){this.lView[Ht]=this}});function uD(n){return n.type!==2}var TO=100;function lD(n,e=!0,t=0){let r=n[gn],i=r.rendererFactory,o=!1;o||i.begin?.();try{AO(n,t)}catch(s){throw e&&iD(n,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function AO(n,e){let t=tb();try{BE(!0),sm(n,e);let r=0;for(;Rl(n);){if(r===TO)throw new W(103,!1);r++,sm(n,1)}}finally{BE(t)}}function SO(n,e,t,r){let i=e[te];if((i&256)===256)return;let o=!1,s=!1;!o&&e[gn].inlineEffectRunner?.flush(),Fm(e);let a=!0,u=null,l=null;o||(uD(n)?(l=IO(e),u=pu(l)):Gw()===null?(a=!1,l=DO(e),u=pu(l)):e[Ht]&&(np(e[Ht]),e[Ht]=null));try{K0(e),RN(n.bindingStartIndex),t!==null&&Wb(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let g=n.preOrderCheckHooks;g!==null&&Yu(e,g,null)}else{let g=n.preOrderHooks;g!==null&&Ju(e,g,0,null),Dp(e,0)}if(s||RO(e),dD(e,0),n.contentQueries!==null&&rD(n,e),!o)if(h){let g=n.contentCheckHooks;g!==null&&Yu(e,g)}else{let g=n.contentHooks;g!==null&&Ju(e,g,1),Dp(e,1)}zP(n,e);let p=n.components;p!==null&&fD(e,p,0);let y=n.viewQuery;if(y!==null&&om(2,y,r),!o)if(h){let g=n.viewCheckHooks;g!==null&&Yu(e,g)}else{let g=n.viewHooks;g!==null&&Ju(e,g,2),Dp(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[bp]){for(let g of e[bp])g();e[bp]=null}o||(e[te]&=-73)}catch(h){throw o||Ml(e),h}finally{l!==null&&(ep(l,u),a&&EO(l)),Lm()}}function dD(n,e){for(let t=Tb(n);t!==null;t=Ab(t))for(let r=bt;r<t.length;r++){let i=t[r];hD(i,e)}}function RO(n){for(let e=Tb(n);e!==null;e=Ab(e)){if(!(e[te]&al.HasTransplantedViews))continue;let t=e[sl];for(let r=0;r<t.length;r++){let i=t[r];Q0(i)}}}function MO(n,e,t){let r=Or(e,n);hD(r,t)}function hD(n,e){km(n)&&sm(n,e)}function sm(n,e){let r=n[ce],i=n[te],o=n[Ht],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&tp(o)),s||=!1,o&&(o.dirty=!1),n[te]&=-9217,s)SO(r,n,r.template,n[ft]);else if(i&8192){dD(n,1);let a=r.components;a!==null&&fD(n,a,1)}}function fD(n,e,t){for(let r=0;r<e.length;r++)MO(n,e[r],t)}function og(n,e){let t=tb()?64:1088;for(n[gn].changeDetectionScheduler?.notify(e);n;){n[te]|=t;let r=mi(n);if(Hp(n)&&!r)return n;n=r}return null}var _i=class{get rootNodes(){let e=this._lView,t=e[ce];return ml(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ft]}set context(e){this._lView[ft]=e}get destroyed(){return(this._lView[te]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ct];if(Gn(e)){let t=e[ol],r=t?t.indexOf(this):-1;r>-1&&(ha(e,r),nl(t,r))}this._attachedToViewContainer=!1}kl(this._lView[ce],this._lView)}onDestroy(e){Y0(this._lView,e)}markForCheck(){og(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[te]&=-129}reattach(){Gp(this._lView),this._lView[te]|=128}detectChanges(){this._lView[te]|=1024,lD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new W(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Hp(this._lView),t=this._lView[Do];t!==null&&!e&&Xm(t,this._lView),Fb(this._lView[ce],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new W(902,!1);this._appRef=e;let t=Hp(this._lView),r=this._lView[Do];r!==null&&!t&&Lb(r,this._lView),Gp(this._lView)}},sg=(()=>{class n{static{this.__NG_ELEMENT_ID__=PO}}return n})(),xO=sg,NO=class extends xO{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=jl(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new _i(i)}};function PO(){return OO(Rt(),Ae())}function OO(n,e){return n.type&4?new NO(e,n,Pl(n,e)):null}var rW=new RegExp(`^(\\d+)*(${mP}|${pP})*(.*)`);var kO=()=>null;function pa(n,e){return kO(n,e)}var So=class{},$l=new $("",{providedIn:"root",factory:()=>!1});var pD=new $(""),mD=new $(""),am=class{},gl=class{};function FO(n){let e=Error(`No component factory found for ${Et(n)}.`);return e[LO]=n,e}var LO="ngComponent";var cm=class{resolveComponentFactory(e){throw FO(e)}},Ro=class{static{this.NULL=new cm}},Mo=class{},In=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>VO()}}return n})();function VO(){let n=Ae(),e=Rt(),t=Or(e.index,n);return(Ar(t)?t:n)[tt]}var UO=(()=>{class n{static{this.\u0275prov=z({token:n,providedIn:"root",factory:()=>null})}}return n})();function um(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=RE(i,a);else if(o==2){let u=a,l=e[++s];r=RE(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var yl=class extends Ro{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Rr(e);return new xo(t,this.ngModule)}};function n0(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:Sr.None;e?t.push({propName:s,templateName:r,isSignal:(a&Sr.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function jO(n){let e=n.toLowerCase();return e==="svg"?pN:e==="math"?mN:null}var xo=class extends gl{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=n0(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return n0(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=Wx(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=fe(null);try{i=i||this.ngModule;let s=i instanceof Dt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Wp(e,s):e,u=a.get(Mo,null);if(u===null)throw new W(407,!1);let l=a.get(UO,null),h=a.get(So,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:h},y=u.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",T=r?WP(y,r,this.componentDef.encapsulation,a):kb(y,g,jO(g)),M=512;this.componentDef.signals?M|=4096:this.componentDef.onPush||(M|=16);let R=null;T!==null&&(R=Ym(T,a,!0));let L=ng(0,null,null,1,0,null,null,null,null,null,null),H=Ll(null,L,null,M,null,null,p,y,a,null,R);Fm(H);let B,ie,Te=null;try{let J=this.componentDef,E,v=null;J.findHostDirectiveDefs?(E=[],v=new Map,J.findHostDirectiveDefs(J,E,v),E.push(J)):E=[J];let _=BO(H,T);Te=$O(_,T,J,E,H,p,y),ie=Om(L,rn),T&&GO(y,J,T,r),t!==void 0&&qO(ie,this.ngContentSelectors,t),B=zO(Te,J,E,v,H,[WO]),ig(L,H,null)}catch(J){throw Te!==null&&tm(Te),tm(H),J}finally{Lm()}return new lm(this.componentType,B,Pl(ie,H),H,ie)}finally{fe(o)}}},lm=class extends am{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new _i(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;rg(o[ce],o,i,e,t),this.previousInputValues.set(e,t);let s=Or(this._tNode.index,o);og(s,1)}}get injector(){return new fi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function BO(n,e){let t=n[ce],r=rn;return n[r]=e,Vl(t,r,2,"#host",null)}function $O(n,e,t,r,i,o,s){let a=i[ce];HO(r,n,e,s);let u=null;e!==null&&(u=Ym(e,i[bo]));let l=o.rendererFactory.createRenderer(e,t),h=16;t.signals?h=4096:t.onPush&&(h=64);let p=Ll(i,Jb(t),null,h,i[n.index],n,o,l,null,null,u);return a.firstCreatePass&&im(a,n,r.length-1),Ul(i,p),i[n.index]=p}function HO(n,e,t,r){for(let i of n)e.mergedAttrs=ca(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(um(e,e.mergedAttrs,!0),t!==null&&$b(r,t,e))}function zO(n,e,t,r,i,o){let s=Rt(),a=i[ce],u=qt(s,i);eD(a,i,s,t,null,r);for(let h=0;h<t.length;h++){let p=s.directiveStart+h,y=Ao(i,a,p,s);vi(y,i)}tD(a,i,s),u&&vi(u,i);let l=Ao(i,a,s.directiveStart+s.componentOffset,s);if(n[ft]=i[ft]=l,o!==null)for(let h of o)h(l,e);return Kb(a,s,i),l}function GO(n,e,t,r){if(r)Up(n,t,["ng-version","18.2.8"]);else{let{attrs:i,classes:o}=Kx(e.selectors[0]);i&&Up(n,t,i),o&&o.length>0&&Bb(n,t,o.join(" "))}}function qO(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null?Array.from(o):null)}}function WO(){let n=Rt();Bm(Ae()[ce],n)}var Ea=(()=>{class n{static{this.__NG_ELEMENT_ID__=KO}}return n})();function KO(){let n=Rt();return YO(n,Ae())}var QO=Ea,gD=class extends QO{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Pl(this._hostTNode,this._hostLView)}get injector(){return new fi(this._hostTNode,this._hostLView)}get parentInjector(){let e=$m(this._hostTNode,this._hostLView);if(db(e)){let t=ul(e,this._hostLView),r=cl(e),i=t[ce].data[r+8];return new fi(i,t)}else return new fi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=r0(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-bt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=pa(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,fa(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!lN(e),a;if(s)a=t;else{let T=t||{};a=T.index,r=T.injector,i=T.projectableNodes,o=T.environmentInjector||T.ngModuleRef}let u=s?e:new xo(Rr(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let M=(s?l:this.parentInjector).get(Dt,null);M&&(o=M)}let h=Rr(u.componentType??{}),p=pa(this._lContainer,h?.id??null),y=p?.firstChild??null,g=u.create(l,i,y,o);return this.insertImpl(g.hostView,a,fa(this._hostTNode,p)),g}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(gN(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Ct],l=new gD(u,u[on],u[Ct]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Bl(s,i,o,r),e.attachToViewContainerRef(),b0(Rp(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=r0(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=ha(this._lContainer,t);r&&(nl(Rp(this._lContainer),t),kl(r[ce],r))}detach(e){let t=this._adjustIndex(e,-1),r=ha(this._lContainer,t);return r&&nl(Rp(this._lContainer),t)!=null?new _i(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function r0(n){return n[ol]}function Rp(n){return n[ol]||(n[ol]=[])}function YO(n,e){let t,r=e[n.index];return Gn(r)?t=r:(t=nD(r,e,null,n),e[n.index]=t,Ul(e,t)),ZO(t,e,n,r),new gD(t,n,e)}function JO(n,e){let t=n[tt],r=t.createComment(""),i=qt(e,n),o=Ub(t,i);return pl(t,o,r,kP(t,i),!1),r}var ZO=t1,XO=()=>!1;function e1(n,e,t){return XO(n,e,t)}function t1(n,e,t,r){if(n[pi])return;let i;t.type&8?i=yn(r):i=JO(e,t),n[pi]=i}var i0=new Set;function qn(n){i0.has(n)||(i0.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function ba(n,e){qn("NgSignals");let t=nE(n),r=t[_r];return e?.equal&&(r.equal=e.equal),t.set=i=>rp(r,i),t.update=i=>rE(r,i),t.asReadonly=n1.bind(t),t}function n1(){let n=this[_r];if(n.readonlyFn===void 0){let e=()=>this();e[_r]=n,n.readonlyFn=e}return n.readonlyFn}function r1(n){return Object.getPrototypeOf(n.prototype).constructor}function wn(n){let e=r1(n.type),t=!0,r=[n];for(;e;){let i;if(Mr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new W(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=qu(n.inputs),s.inputTransforms=qu(n.inputTransforms),s.declaredInputs=qu(n.declaredInputs),s.outputs=qu(n.outputs);let a=i.hostBindings;a&&c1(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&s1(n,u),l&&a1(n,l),i1(n,i),mx(n.outputs,i.outputs),Mr(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===wn&&(t=!1)}}e=Object.getPrototypeOf(e)}o1(r)}function i1(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function o1(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ca(i.hostAttrs,t=ca(t,i.hostAttrs))}}function qu(n){return n===Io?{}:n===$t?[]:n}function s1(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function a1(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function c1(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function ag(n){let e=n.inputConfig,t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}n.inputTransforms=t}var xr=class{},ma=class{};var dm=class extends xr{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new yl(this);let o=N0(e);this._bootstrapComponents=Ob(o.bootstrap),this._r3Injector=Ib(e,t,[{provide:xr,useValue:this},{provide:Ro,useValue:this.componentFactoryResolver},...r],Et(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},hm=class extends ma{constructor(e){super(),this.moduleType=e}create(e){return new dm(this.moduleType,e,[])}};var vl=class extends xr{constructor(e){super(),this.componentFactoryResolver=new yl(this),this.instance=null;let t=new ua([...e.providers,{provide:xr,useValue:this},{provide:Ro,useValue:this.componentFactoryResolver}],e.parent||Nm(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Hl(n,e,t=null){return new vl({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function u1(n,e,t){return n[e]=t}function $n(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function l1(n,e,t,r){let i=$n(n,e,t);return $n(n,e+1,r)||i}function d1(n){return(n.flags&32)===32}function h1(n,e,t,r,i,o,s,a,u){let l=e.consts,h=Vl(e,n,4,s||null,a||null);Xb(e,t,h,To(l,u)),Bm(e,h);let p=h.tView=ng(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function fm(n,e,t,r,i,o,s,a,u,l){let h=t+rn,p=e.firstCreatePass?h1(h,e,n,r,i,o,s,a,u):e.data[h];_a(p,!1);let y=f1(e,n,p,t);Um()&&eg(e,n,y,p),vi(y,n);let g=nD(y,n,y,p);return n[h]=g,Ul(n,g),e1(g,p,n),Pm(p)&&Qb(e,n,p),u!=null&&Yb(n,p,l),p}function ge(n,e,t,r,i,o,s,a){let u=Ae(),l=kt(),h=To(l.consts,o);return fm(u,l,n,e,t,r,i,h,s,a),ge}var f1=p1;function p1(n,e,t,r){return jm(!0),e[tt].createComment("")}var mo=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(mo||{}),yD=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=z({token:n,providedIn:"root",factory:()=>new n})}}return n})(),pm=class n{constructor(){this.ngZone=P(Ee),this.scheduler=P(So),this.errorHandler=P(jn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[mo.EarlyRead,mo.Write,mo.MixedReadWrite,mo.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=z({token:n,providedIn:"root",factory:()=>new n})}},mm=class{constructor(e,t,r,i){this.impl=e,this.hooks=t,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function cg(n,e){!e?.injector&&uN(cg);let t=e?.injector??P(at);return bP(t)?(qn("NgAfterNextRender"),g1(n,t,e,!0)):y1}function m1(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function g1(n,e,t,r){let i=e.get(yD);i.impl??=e.get(pm);let o=t?.phase??mo.MixedReadWrite,s=t?.manualCleanup!==!0?e.get(zm):null,a=new mm(i.impl,m1(n,o),r,s);return i.impl.register(a),a}var y1={destroy(){}};function zl(n,e,t,r){let i=Ae(),o=Ia();if($n(i,o,e)){let s=kt(),a=Vm();lO(a,i,n,e,t,r)}return zl}function vD(n,e,t,r){return $n(n,Ia(),t)?e+vo(t)+r:an}function v1(n,e,t,r,i,o){let s=SN(),a=l1(n,s,t,i);return nb(2),a?e+vo(t)+r+vo(i)+o:an}function Wu(n,e){return n<<17|e<<2}function Ii(n){return n>>17&32767}function _1(n){return(n&2)==2}function I1(n,e){return n&131071|e<<17}function gm(n){return n|2}function No(n){return(n&131068)>>2}function Mp(n,e){return n&-131069|e<<2}function w1(n){return(n&1)===1}function ym(n){return n|1}function E1(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Ii(s),u=No(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||va(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let y=Ii(n[a+1]);n[r+1]=Wu(y,a),y!==0&&(n[y+1]=Mp(n[y+1],r)),n[a+1]=I1(n[a+1],r)}else n[r+1]=Wu(a,0),a!==0&&(n[a+1]=Mp(n[a+1],r)),a=r;else n[r+1]=Wu(u,0),a===0?a=r:n[u+1]=Mp(n[u+1],r),u=r;l&&(n[r+1]=gm(n[r+1])),o0(n,h,r,!0),o0(n,h,r,!1),b1(e,h,n,r,o),s=Wu(a,u),o?e.classBindings=s:e.styleBindings=s}function b1(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&va(o,e)>=0&&(t[r+1]=ym(t[r+1]))}function o0(n,e,t,r){let i=n[t+1],o=e===null,s=r?Ii(i):No(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];D1(u,e)&&(a=!0,n[s+1]=r?ym(l):gm(l)),s=r?Ii(l):No(l)}a&&(n[t+1]=r?gm(i):ym(i))}function D1(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?va(n,e)>=0:!1}function G(n,e,t){let r=Ae(),i=Ia();if($n(r,i,e)){let o=kt(),s=Vm();Zb(o,s,r,n,e,r[tt],t,!1)}return G}function s0(n,e,t,r,i){let o=e.inputs,s=i?"class":"style";rg(n,t,o[s],s,r)}function Gl(n,e){return C1(n,e,null,!0),Gl}function C1(n,e,t,r){let i=Ae(),o=kt(),s=nb(2);if(o.firstUpdatePass&&A1(o,n,s,r),e!==an&&$n(i,s,e)){let a=o.data[kr()];N1(o,a,i,i[tt],n,i[s+1]=P1(e,t),r,s)}}function T1(n,e){return e>=n.expandoStartIndex}function A1(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[kr()],s=T1(n,t);O1(o,r)&&e===null&&!s&&(e=!1),e=S1(i,o,e,r),E1(i,o,e,t,s,r)}}function S1(n,e,t,r){let i=PN(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=xp(null,n,e,t,r),t=ga(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=xp(i,n,e,t,r),o===null){let u=R1(n,e,r);u!==void 0&&Array.isArray(u)&&(u=xp(null,n,e,u[1],r),u=ga(u,e.attrs,r),M1(n,e,r,u))}else o=x1(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function R1(n,e,t){let r=t?e.classBindings:e.styleBindings;if(No(r)!==0)return n[Ii(r)]}function M1(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Ii(i)]=r}function x1(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=ga(r,s,t)}return ga(r,e.attrs,t)}function xp(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=ga(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function ga(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),kx(n,s,t?!0:e[++o]))}return n===void 0?null:n}function N1(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=w1(l)?a0(u,e,t,i,No(l),s):void 0;if(!_l(h)){_l(o)||_1(l)&&(o=a0(u,null,t,i,a,s));let p=W0(kr(),t);$P(r,s,p,i,o)}}function a0(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,y=t[i+1];y===an&&(y=p?$t:void 0);let g=p?wp(y,r):h===r?y:void 0;if(l&&!_l(g)&&(g=wp(u,r)),_l(g)&&(a=g,s))return a;let T=n[i+1];i=s?Ii(T):No(T)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=wp(u,r))}return a}function _l(n){return n!==void 0}function P1(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Et(wa(n)))),n}function O1(n,e){return(n.flags&(e?8:16))!==0}var vm=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,t){this.attach(t,this.detach(e))}};function Np(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function k1(n,e,t){let r,i,o=0,s=n.length-1,a=void 0;if(Array.isArray(e)){let u=e.length-1;for(;o<=s&&o<=u;){let l=n.at(o),h=e[o],p=Np(o,l,o,h,t);if(p!==0){p<0&&n.updateValue(o,h),o++;continue}let y=n.at(s),g=e[u],T=Np(s,y,u,g,t);if(T!==0){T<0&&n.updateValue(s,g),s--,u--;continue}let M=t(o,l),R=t(s,y),L=t(o,h);if(Object.is(L,R)){let H=t(u,g);Object.is(H,M)?(n.swap(o,s),n.updateValue(s,g),u--,s--):n.move(s,o),n.updateValue(o,h),o++;continue}if(r??=new Il,i??=u0(n,o,s,t),_m(n,r,o,L))n.updateValue(o,h),o++,s++;else if(i.has(L))r.set(M,n.detach(o)),s--;else{let H=n.create(o,e[o]);n.attach(o,H),o++,s++}}for(;o<=u;)c0(n,r,t,o,e[o]),o++}else if(e!=null){let u=e[Symbol.iterator](),l=u.next();for(;!l.done&&o<=s;){let h=n.at(o),p=l.value,y=Np(o,h,o,p,t);if(y!==0)y<0&&n.updateValue(o,p),o++,l=u.next();else{r??=new Il,i??=u0(n,o,s,t);let g=t(o,p);if(_m(n,r,o,g))n.updateValue(o,p),o++,s++,l=u.next();else if(!i.has(g))n.attach(o,n.create(o,p)),o++,s++,l=u.next();else{let T=t(o,h);r.set(T,n.detach(o)),s--}}}for(;!l.done;)c0(n,r,t,n.length,l.value),l=u.next()}for(;o<=s;)n.destroy(n.detach(s--));r?.forEach(u=>{n.destroy(u)})}function _m(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function c0(n,e,t,r,i){if(_m(n,e,r,t(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function u0(n,e,t,r){let i=new Set;for(let o=e;o<=t;o++)i.add(r(o,n.at(o)));return i}var Il=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function cn(n,e){qn("NgControlFlow");let t=Ae(),r=Ia(),i=t[r]!==an?t[r]:-1,o=i!==-1?wl(t,rn+i):void 0,s=0;if($n(t,r,n)){let a=fe(null);try{if(o!==void 0&&aD(o,s),n!==-1){let u=rn+n,l=wl(t,u),h=bm(t[ce],u),p=pa(l,h.tView.ssrId),y=jl(t,h,e,{dehydratedView:p});Bl(l,y,s,fa(h,p))}}finally{fe(a)}}else if(o!==void 0){let a=sD(o,s);a!==void 0&&(a[ft]=e)}}var Im=class{constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-bt}};function ql(n){return n}var wm=class{constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function Wl(n,e,t,r,i,o,s,a,u,l,h,p,y){qn("NgControlFlow");let g=Ae(),T=kt(),M=u!==void 0,R=Ae(),L=a?s.bind(R[nn][ft]):s,H=new wm(M,L);R[rn+n]=H,fm(g,T,n+1,e,t,r,i,To(T.consts,o)),M&&fm(g,T,n+2,u,l,h,p,To(T.consts,y))}var Em=class extends vm{constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-bt}at(e){return this.getLView(e)[ft].$implicit}attach(e,t){let r=t[la];this.needsIndexUpdate||=e!==this.length,Bl(this.lContainer,t,e,fa(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,F1(this.lContainer,e)}create(e,t){let r=pa(this.lContainer,this.templateTNode.tView.ssrId),i=jl(this.hostLView,this.templateTNode,new Im(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){kl(e[ce],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[ft].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[ft].$index=e}getLView(e){return L1(this.lContainer,e)}};function Kl(n){let e=fe(null),t=kr();try{let r=Ae(),i=r[ce],o=r[t],s=t+1,a=wl(r,s);if(o.liveCollection===void 0){let l=bm(i,s);o.liveCollection=new Em(a,r,l)}else o.liveCollection.reset();let u=o.liveCollection;if(k1(u,n,o.trackByFn),u.updateIndexes(),o.hasEmptyBlock){let l=Ia(),h=u.length===0;if($n(r,l,h)){let p=t+2,y=wl(r,p);if(h){let g=bm(i,p),T=pa(y,g.tView.ssrId),M=jl(r,g,void 0,{dehydratedView:T});Bl(y,M,0,fa(g,T))}else aD(y,0)}}}finally{fe(e)}}function wl(n,e){return n[e]}function F1(n,e){return ha(n,e)}function L1(n,e){return sD(n,e)}function bm(n,e){return Om(n,e)}function V1(n,e,t,r,i,o){let s=e.consts,a=To(s,i),u=Vl(e,n,2,r,a);return Xb(e,t,u,To(s,o)),u.attrs!==null&&um(u,u.attrs,!1),u.mergedAttrs!==null&&um(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function x(n,e,t,r){let i=Ae(),o=kt(),s=rn+n,a=i[tt],u=o.firstCreatePass?V1(s,o,i,e,t,r):o.data[s],l=U1(o,i,u,a,e,n);i[s]=l;let h=Pm(u);return _a(u,!0),$b(a,l,u),!d1(u)&&Um()&&eg(o,i,l,u),_N()===0&&vi(l,i),IN(),h&&(Qb(o,i,u),Kb(o,u,i)),r!==null&&Yb(i,u),x}function N(){let n=Rt();eb()?TN():(n=n.parent,_a(n,!1));let e=n;bN(e)&&DN(),wN();let t=kt();return t.firstCreatePass&&(Bm(t,n),$0(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&jN(e)&&s0(t,e,Ae(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&BN(e)&&s0(t,e,Ae(),e.stylesWithoutHost,!1),N}function De(n,e,t,r){return x(n,e,t,r),N(),De}var U1=(n,e,t,r,i,o)=>(jm(!0),kb(r,i,FN()));function Ql(){return Ae()}var El="en-US";var j1=El;function B1(n){typeof n=="string"&&(j1=n.toLowerCase().replace(/_/g,"-"))}var $1=(n,e,t)=>{};function Le(n,e,t,r){let i=Ae(),o=kt(),s=Rt();return z1(o,i,i[tt],s,n,e,r),Le}function H1(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[il],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function z1(n,e,t,r,i,o,s){let a=Pm(r),l=n.firstCreatePass&&mO(n),h=e[ft],p=pO(e),y=!0;if(r.type&3||s){let M=qt(r,e),R=s?s(M):M,L=p.length,H=s?ie=>s(yn(ie[r.index])):r.index,B=null;if(!s&&a&&(B=H1(n,e,i,r.index)),B!==null){let ie=B.__ngLastListenerFn__||B;ie.__ngNextListenerFn__=o,B.__ngLastListenerFn__=o,y=!1}else{o=d0(r,e,h,o),$1(M,i,o);let ie=t.listen(R,i,o);p.push(o,ie),l&&l.push(i,H,L,L+1)}}else o=d0(r,e,h,o);let g=r.outputs,T;if(y&&g!==null&&(T=g[i])){let M=T.length;if(M)for(let R=0;R<M;R+=2){let L=T[R],H=T[R+1],Te=e[L][H].subscribe(o),J=p.length;p.push(o,Te),l&&l.push(i,r.index,J,-(J+1))}}}function l0(n,e,t,r){let i=fe(null);try{return fn(6,e,t),t(r)!==!1}catch(o){return iD(n,o),!1}finally{fn(7,e,t),fe(i)}}function d0(n,e,t,r){return function i(o){if(o===Function)return r;let s=n.componentOffset>-1?Or(n.index,e):e;og(s,5);let a=l0(e,t,r,o),u=i.__ngNextListenerFn__;for(;u;)a=l0(e,t,u,o)&&a,u=u.__ngNextListenerFn__;return a}}function Se(n=1){return kN(n)}function ko(n,e,t){return _D(n,"",e,"",t),ko}function _D(n,e,t,r,i){let o=Ae(),s=vD(o,e,t,r);if(s!==an){let a=kt(),u=Vm();Zb(a,u,o,n,s,o[tt],i,!1)}return _D}function k(n,e=""){let t=Ae(),r=kt(),i=n+rn,o=r.firstCreatePass?Vl(r,i,1,e,null):r.data[i],s=G1(r,t,o,e,n);t[i]=s,Um()&&eg(r,t,s,o),_a(o,!1)}var G1=(n,e,t,r,i)=>(jm(!0),CP(e[tt],r));function En(n,e,t){let r=Ae(),i=vD(r,n,e,t);return i!==an&&oD(r,kr(),i),En}function ug(n,e,t,r,i){let o=Ae(),s=v1(o,n,e,t,r,i);return s!==an&&oD(o,kr(),s),ug}function q1(n,e,t){let r=kt();if(r.firstCreatePass){let i=Mr(n);Dm(t,r.data,r.blueprint,i,!0),Dm(e,r.data,r.blueprint,i,!1)}}function Dm(n,e,t,r,i){if(n=wt(n),Array.isArray(n))for(let o=0;o<n.length;o++)Dm(n[o],e,t,r,i);else{let o=kt(),s=Ae(),a=Rt(),u=Eo(n)?n:wt(n.provide),l=V0(n),h=a.providerIndexes&1048575,p=a.directiveStart,y=a.providerIndexes>>20;if(Eo(n)||!n.multi){let g=new yi(l,i,me),T=Op(u,e,i?h:h+y,p);T===-1?(Qp(ll(a,s),o,u),Pp(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(g),s.push(g)):(t[T]=g,s[T]=g)}else{let g=Op(u,e,h+y,p),T=Op(u,e,h,h+y),M=g>=0&&t[g],R=T>=0&&t[T];if(i&&!R||!i&&!M){Qp(ll(a,s),o,u);let L=Q1(i?K1:W1,t.length,i,r,l);!i&&R&&(t[T].providerFactory=L),Pp(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(L),s.push(L)}else{let L=ID(t[i?T:g],l,!i&&r);Pp(o,n,g>-1?g:T,L)}!i&&r&&R&&t[T].componentProviders++}}}function Pp(n,e,t,r){let i=Eo(e),o=nN(e);if(i||o){let u=(o?wt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function ID(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Op(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function W1(n,e,t,r){return Cm(this.multi,[])}function K1(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Ao(t,t[ce],this.providerFactory.index,r);o=a.slice(0,s),Cm(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],Cm(i,o);return o}function Cm(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function Q1(n,e,t,r,i){let o=new yi(n,t,me);return o.multi=[],o.index=e,o.componentProviders=0,ID(o,i,r&&!t),o}function Fo(n,e=[]){return t=>{t.providersResolver=(r,i)=>q1(r,i?i(n):n,e)}}var Y1=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=k0(!1,t.type),i=r.length>0?Hl([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=z({token:n,providedIn:"environment",factory:()=>new n(Q(Dt))})}}return n})();function Pe(n){qn("NgStandalone"),n.getStandaloneInjector=e=>e.get(Y1).getOrCreateStandaloneInjector(n)}function Ft(n,e,t,r){return Z1(Ae(),AN(),n,e,t,r)}function J1(n,e){let t=n[e];return t===an?void 0:t}function Z1(n,e,t,r,i,o){let s=e+t;return $n(n,s,i)?u1(n,s+1,o?r.call(o,i):r(i)):J1(n,s+1)}var Hn=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},wD=new Hn("18.2.8");var Yl=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var ED=new $("");function Ei(n){return!!n&&typeof n.then=="function"}function bD(n){return!!n&&typeof n.subscribe=="function"}var Jl=new $(""),DD=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=P(Jl,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=i();if(Ei(o))t.push(o);else if(bD(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Da=new $("");function X1(){tE(()=>{throw new W(600,!1)})}function ek(n){return n.isBoundToModule}var tk=10;function nk(n,e,t){try{let r=t();return Ei(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Lr=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=P(aP),this.afterRenderManager=P(yD),this.zonelessEnabled=P($l),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new et,this.afterTick=new et,this.componentTypes=[],this.components=[],this.isStable=P(Fr).hasPendingTasks.pipe(ee(t=>!t)),this._injector=P(Dt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof gl;if(!this._injector.get(DD).done){let y=!i&&x0(t),g=!1;throw new W(405,g)}let s;i?s=t:s=this._injector.get(Ro).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=ek(s)?void 0:this._injector.get(xr),u=r||s.selector,l=s.create(at.NULL,[],u,a),h=l.location.nativeElement,p=l.injector.get(ED,null);return p?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),Zu(this.components,l),p?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new W(101,!1);let t=fe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,fe(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(Mo,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<tk;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)rk(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Rl(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Zu(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(Da,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Zu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new W(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Zu(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function rk(n,e,t,r){if(!t&&!Rl(n))return;lD(n,e,t&&!r?0:1)}var Tm=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Zl=(()=>{class n{compileModuleSync(t){return new hm(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=N0(t),o=Ob(i.declarations).reduce((s,a)=>{let u=Rr(a);return u&&s.push(new xo(u)),s},[]);return new Tm(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ik=(()=>{class n{constructor(){this.zone=P(Ee),this.changeDetectionScheduler=P(So),this.applicationRef=P(Lr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ok=new $("",{factory:()=>!1});function CD({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Ee(he(V({},AD()),{scheduleInRootZone:t})),[{provide:Ee,useFactory:n},{provide:wo,multi:!0,useFactory:()=>{let r=P(ik,{optional:!0});return()=>r.initialize()}},{provide:wo,multi:!0,useFactory:()=>{let r=P(sk);return()=>{r.initialize()}}},e===!0?{provide:pD,useValue:!0}:[],{provide:mD,useValue:t??wb}]}function TD(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=CD({ngZoneFactory:()=>{let i=AD(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&qn("NgZone_CoalesceEvent"),new Ee(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return zt([{provide:ok,useValue:!0},{provide:$l,useValue:!1},r])}function AD(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var sk=(()=>{class n{constructor(){this.subscription=new Be,this.initialized=!1,this.zone=P(Ee),this.pendingTasks=P(Fr)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ee.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ak=(()=>{class n{constructor(){this.appRef=P(Lr),this.taskService=P(Fr),this.ngZone=P(Ee),this.zonelessEnabled=P($l),this.disableScheduling=P(pD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Be,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(hl):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(P(mD,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof em||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?WE:Eb;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(hl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,WE(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function ck(){return typeof $localize<"u"&&$localize.locale||El}var lg=new $("",{providedIn:"root",factory:()=>P(lg,le.Optional|le.SkipSelf)||ck()});var Am=new $("");function Ku(n){return!n.moduleRef}function uk(n){let e=Ku(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Ee);return t.run(()=>{Ku(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(jn,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Ku(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Am);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Am);s.add(o),n.moduleRef.onDestroy(()=>{Zu(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return nk(r,t,()=>{let o=e.get(DD);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(lg,El);if(B1(s||El),Ku(n)){let a=e.get(Lr);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return lk(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function lk(n,e){let t=n.injector.get(Lr);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new W(-403,!1);e.push(n)}var Xu=null;function dk(n=[],e){return at.create({name:e,providers:[{provide:Tl,useValue:"platform"},{provide:Am,useValue:new Set([()=>Xu=null])},...n]})}function hk(n=[]){if(Xu)return Xu;let e=dk(n);return Xu=e,X1(),fk(e),e}function fk(n){n.get(Km,null)?.forEach(t=>t())}var Lo=(()=>{class n{static{this.__NG_ELEMENT_ID__=pk}}return n})();function pk(n){return mk(Rt(),Ae(),(n&16)===16)}function mk(n,e,t){if(Sl(n)&&!t){let r=Or(n.index,e);return new _i(r,r)}else if(n.type&175){let r=e[nn];return new _i(r,e)}return null}function SD(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=hk(r),o=[CD({}),{provide:So,useExisting:ak},...t||[]],s=new vl({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return uk({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function Vo(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Ca(n,e){qn("NgSignals");let t=Zw(n);return e?.equal&&(t[_r].equal=e.equal),t}function Wn(n){let e=fe(null);try{return n()}finally{fe(e)}}function RD(n){let e=Rr(n);if(!e)return null;let t=new xo(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var OD=null;function Qn(){return OD}function kD(n){OD??=n}var Xl=class{};var pt=new $(""),mg=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:()=>P(yk),providedIn:"platform"})}}return n})(),FD=new $(""),yk=(()=>{class n extends mg{constructor(){super(),this._doc=P(pt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Qn().getBaseHref(this._doc)}onPopState(t){let r=Qn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Qn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function gg(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function MD(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function Kn(n){return n&&n[0]!=="?"?"?"+n:n}var Yn=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:()=>P(yg),providedIn:"root"})}}return n})(),LD=new $(""),yg=(()=>{class n extends Yn{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??P(pt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return gg(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Kn(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Kn(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Kn(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(Q(mg),Q(LD,8))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),VD=(()=>{class n extends Yn{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=gg(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Kn(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Kn(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(Q(mg),Q(LD,8))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})(),jo=(()=>{class n{constructor(t){this._subject=new xe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=Ik(MD(xD(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Kn(r))}normalize(t){return n.stripTrailingSlash(_k(this._basePath,xD(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Kn(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Kn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=Kn}static{this.joinWithSlash=gg}static{this.stripTrailingSlash=MD}static{this.\u0275fac=function(r){return new(r||n)(Q(Yn))}}static{this.\u0275prov=z({token:n,factory:()=>vk(),providedIn:"root"})}}return n})();function vk(){return new jo(Q(Yn))}function _k(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function xD(n){return n.replace(/\/index.html$/,"")}function Ik(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function ed(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var dg=/\s+/,ND=[],td=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=ND,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(dg):ND}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(dg):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(dg).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(me(sn),me(In))}}static{this.\u0275dir=Je({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();var nd=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new hg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){PD("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){PD("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(me(Ea),me(sg))}}static{this.\u0275dir=Je({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),hg=class{constructor(){this.$implicit=null,this.ngIf=null}};function PD(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${Et(e)}'.`)}var Ta=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=_n({type:n})}static{this.\u0275inj=vn({})}}return n})(),vg="browser",wk="server";function Ek(n){return n===vg}function rd(n){return n===wk}var UD=(()=>{class n{static{this.\u0275prov=z({token:n,providedIn:"root",factory:()=>Ek(P(Wt))?new fg(P(pt),window):new pg})}}return n})(),fg=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=bk(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function bk(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var pg=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Uo=class{};var Sa=class{},Ra=class{},Jn=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Ig=class{encodeKey(e){return jD(e)}encodeValue(e){return jD(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function Dk(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}var Ck=/%(\d[a-f0-9])/gi,Tk={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function jD(n){return encodeURIComponent(n).replace(Ck,(e,t)=>Tk[t]??e)}function od(n){return`${n}`}var Ur=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Ig,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Dk(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(od):[od(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(od(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(od(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var wg=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function Ak(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function BD(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function $D(n){return typeof Blob<"u"&&n instanceof Blob}function HD(n){return typeof FormData<"u"&&n instanceof FormData}function Sk(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Aa=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(Ak(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Jn,this.context??=new wg,!this.params)this.params=new Ur,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),u=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||BD(this.body)||$D(this.body)||HD(this.body)||Sk(this.body)?this.body:this.body instanceof Ur?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||HD(this.body)?null:$D(this.body)?this.body.type||null:BD(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Ur?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((y,g)=>y.set(g,e.setHeaders[g]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((y,g)=>y.set(g,e.setParams[g]),h)),new n(t,r,s,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}},jr=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(jr||{}),Ma=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new Jn,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},sd=class n extends Ma{constructor(e={}){super(e),this.type=jr.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},xa=class n extends Ma{constructor(e={}){super(e),this.type=jr.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Vr=class extends Ma{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},WD=200,Rk=204;function _g(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var Cg=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Aa)o=t;else{let u;i.headers instanceof Jn?u=i.headers:u=new Jn(i.headers);let l;i.params&&(i.params instanceof Ur?l=i.params:l=new Ur({fromObject:i.params})),o=new Aa(t,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=Z(o).pipe(Vn(u=>this.handler.handle(u)));if(t instanceof Aa||i.observe==="events")return s;let a=s.pipe(It(u=>u instanceof xa));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ee(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(ee(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(ee(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return a.pipe(ee(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Ur().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,_g(i,r))}post(t,r,i={}){return this.request("POST",t,_g(i,r))}put(t,r,i={}){return this.request("PUT",t,_g(i,r))}static{this.\u0275fac=function(r){return new(r||n)(Q(Sa))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})(),Mk=/^\)\]\}',?\n/,xk="X-Request-URL";function zD(n){if(n.url)return n.url;let e=xk.toLocaleLowerCase();return n.headers.get(e)}var Eg=(()=>{class n{constructor(){this.fetchImpl=P(bg,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=P(Ee)}handle(t){return new ue(r=>{let i=new AbortController;return this.doRequest(t,i.signal,r).then(Dg,o=>r.error(new Vr({error:o}))),()=>i.abort()})}doRequest(t,r,i){return w(this,null,function*(){let o=this.createRequestInit(t),s;try{let g=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,V({signal:r},o)));Nk(g),i.next({type:jr.Sent}),s=yield g}catch(g){i.error(new Vr({error:g,status:g.status??0,statusText:g.statusText,url:t.urlWithParams,headers:g.headers}));return}let a=new Jn(s.headers),u=s.statusText,l=zD(s)??t.urlWithParams,h=s.status,p=null;if(t.reportProgress&&i.next(new sd({headers:a,status:h,statusText:u,url:l})),s.body){let g=s.headers.get("content-length"),T=[],M=s.body.getReader(),R=0,L,H,B=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>w(this,null,function*(){for(;;){let{done:Te,value:J}=yield M.read();if(Te)break;if(T.push(J),R+=J.length,t.reportProgress){H=t.responseType==="text"?(H??"")+(L??=new TextDecoder).decode(J,{stream:!0}):void 0;let E=()=>i.next({type:jr.DownloadProgress,total:g?+g:void 0,loaded:R,partialText:H});B?B.run(E):E()}}}));let ie=this.concatChunks(T,R);try{let Te=s.headers.get("Content-Type")??"";p=this.parseBody(t,ie,Te)}catch(Te){i.error(new Vr({error:Te,headers:new Jn(s.headers),status:s.status,statusText:s.statusText,url:zD(s)??t.urlWithParams}));return}}h===0&&(h=p?WD:0),h>=200&&h<300?(i.next(new xa({body:p,headers:a,status:h,statusText:u,url:l})),i.complete()):i.error(new Vr({error:p,headers:a,status:h,statusText:u,url:l}))})}parseBody(t,r,i){switch(t.responseType){case"json":let o=new TextDecoder().decode(r).replace(Mk,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((o,s)=>r[o]=s.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let o=t.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i}}concatChunks(t,r){let i=new Uint8Array(r),o=0;for(let s of t)i.set(s,o),o+=s.length;return i}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})(),bg=class{};function Dg(){}function Nk(n){n.then(Dg,Dg)}function Pk(n,e){return e(n)}function Ok(n,e,t){return(r,i)=>Gt(t,()=>e(r,o=>n(o,i)))}var KD=new $(""),kk=new $(""),Fk=new $("",{providedIn:"root",factory:()=>!0});var GD=(()=>{class n extends Sa{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=P(Fr),this.contributeToStability=P(Fk)}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(KD),...this.injector.get(kk,[])]));this.chain=r.reduceRight((i,o)=>Ok(i,o,this.injector),Pk)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(hi(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||n)(Q(Ra),Q(Dt))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})();var Lk=/^\)\]\}',?\n/;function Vk(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var qD=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new W(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Fe(r.\u0275loadImpl()):Z(null)).pipe(St(()=>new ue(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((M,R)=>s.setRequestHeader(M,R.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let M=t.detectContentTypeHeader();M!==null&&s.setRequestHeader("Content-Type",M)}if(t.responseType){let M=t.responseType.toLowerCase();s.responseType=M!=="json"?M:"text"}let a=t.serializeBody(),u=null,l=()=>{if(u!==null)return u;let M=s.statusText||"OK",R=new Jn(s.getAllResponseHeaders()),L=Vk(s)||t.url;return u=new sd({headers:R,status:s.status,statusText:M,url:L}),u},h=()=>{let{headers:M,status:R,statusText:L,url:H}=l(),B=null;R!==Rk&&(B=typeof s.response>"u"?s.responseText:s.response),R===0&&(R=B?WD:0);let ie=R>=200&&R<300;if(t.responseType==="json"&&typeof B=="string"){let Te=B;B=B.replace(Lk,"");try{B=B!==""?JSON.parse(B):null}catch(J){B=Te,ie&&(ie=!1,B={error:J,text:B})}}ie?(o.next(new xa({body:B,headers:M,status:R,statusText:L,url:H||void 0})),o.complete()):o.error(new Vr({error:B,headers:M,status:R,statusText:L,url:H||void 0}))},p=M=>{let{url:R}=l(),L=new Vr({error:M,status:s.status||0,statusText:s.statusText||"Unknown Error",url:R||void 0});o.error(L)},y=!1,g=M=>{y||(o.next(l()),y=!0);let R={type:jr.DownloadProgress,loaded:M.loaded};M.lengthComputable&&(R.total=M.total),t.responseType==="text"&&s.responseText&&(R.partialText=s.responseText),o.next(R)},T=M=>{let R={type:jr.UploadProgress,loaded:M.loaded};M.lengthComputable&&(R.total=M.total),o.next(R)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",g),a!==null&&s.upload&&s.upload.addEventListener("progress",T)),s.send(a),o.next({type:jr.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",g),a!==null&&s.upload&&s.upload.removeEventListener("progress",T)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(Q(Uo))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})(),QD=new $(""),Uk="XSRF-TOKEN",jk=new $("",{providedIn:"root",factory:()=>Uk}),Bk="X-XSRF-TOKEN",$k=new $("",{providedIn:"root",factory:()=>Bk}),ad=class{},Hk=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=ed(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(Q(pt),Q(Wt),Q(jk))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})();function zk(n,e){let t=n.url.toLowerCase();if(!P(QD)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=P(ad).getToken(),i=P($k);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var YD=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(YD||{});function Gk(n,e){return{\u0275kind:n,\u0275providers:e}}function JD(...n){let e=[Cg,qD,GD,{provide:Sa,useExisting:GD},{provide:Ra,useFactory:()=>P(Eg,{optional:!0})??P(qD)},{provide:KD,useValue:zk,multi:!0},{provide:QD,useValue:!0},{provide:ad,useClass:Hk}];for(let t of n)e.push(...t.\u0275providers);return zt(e)}function ZD(){return Gk(YD.Fetch,[Eg,{provide:Ra,useExisting:Eg}])}var Sg=class extends Xl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Rg=class n extends Sg{static makeCurrent(){kD(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=qk();return t==null?null:Wk(t)}resetBaseElement(){Na=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ed(document.cookie,e)}},Na=null;function qk(){return Na=Na||document.querySelector("base"),Na?Na.getAttribute("href"):null}function Wk(n){return new URL(n,document.baseURI).pathname}var Kk=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})(),Mg=new $(""),nC=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new W(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(Q(Mg),Q(Ee))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})(),cd=class{constructor(e){this._doc=e}},Tg="ng-app-id",rC=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=rd(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${Tg}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(Tg),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Tg,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(Q(pt),Q(Wm),Q(Qm,8),Q(Wt))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})(),Ag={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ng=/%COMP%/g,iC="%COMP%",Qk=`_nghost-${iC}`,Yk=`_ngcontent-${iC}`,Jk=!0,Zk=new $("",{providedIn:"root",factory:()=>Jk});function Xk(n){return Yk.replace(Ng,n)}function eF(n){return Qk.replace(Ng,n)}function oC(n,e){return e.map(t=>t.replace(Ng,n))}var XD=(()=>{class n{constructor(t,r,i,o,s,a,u,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=rd(a),this.defaultRenderer=new Pa(t,s,u,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===mn.ShadowDom&&(r=he(V({},r),{encapsulation:mn.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof ud?i.applyToHost(t):i instanceof Oa&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case mn.Emulated:o=new ud(u,l,r,this.appId,h,s,a,p);break;case mn.ShadowDom:return new xg(u,l,t,r,s,a,this.nonce,p);default:o=new Oa(u,l,r,h,s,a,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(Q(nC),Q(rC),Q(Wm),Q(Zk),Q(pt),Q(Wt),Q(Ee),Q(Qm))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})(),Pa=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Ag[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(eC(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(eC(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new W(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Ag[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Ag[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Bn.DashCase|Bn.Important)?e.style.setProperty(t,r,i&Bn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Bn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=Qn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function eC(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var xg=class extends Pa{constructor(e,t,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=oC(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Oa=class extends Pa{constructor(e,t,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=u?oC(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},ud=class extends Oa{constructor(e,t,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,t,r,o,s,a,u,l),this.contentAttr=Xk(l),this.hostAttr=eF(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},tF=(()=>{class n extends cd{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(Q(pt))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})(),tC=["alt","control","meta","shift"],nF={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},rF={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},iF=(()=>{class n extends cd{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Qn().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),tC.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=nF[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),tC.forEach(s=>{if(s!==i){let a=rF[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(Q(pt))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})();function sC(n,e){return SD(V({rootComponent:n},oF(e)))}function oF(n){return{appProviders:[...lF,...n?.providers??[]],platformProviders:uF}}function sF(){Rg.makeCurrent()}function aF(){return new jn}function cF(){return Rb(document),document}var uF=[{provide:Wt,useValue:vg},{provide:Km,useValue:sF,multi:!0},{provide:pt,useFactory:cF,deps:[]}];var lF=[{provide:Tl,useValue:"root"},{provide:jn,useFactory:aF,deps:[]},{provide:Mg,useClass:tF,multi:!0,deps:[pt,Ee,Wt]},{provide:Mg,useClass:iF,multi:!0,deps:[pt]},XD,rC,nC,{provide:Mo,useExisting:XD},{provide:Uo,useClass:Kk,deps:[]},[]];var aC=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(Q(pt))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ae="primary",Qa=Symbol("RouteTitle"),Lg=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function qo(n){return new Lg(n)}function hF(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function fF(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!bn(n[t],e[t]))return!1;return!0}function bn(n,e){let t=n?Vg(n):void 0,r=e?Vg(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!vC(n[i],e[i]))return!1;return!0}function Vg(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function vC(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function _C(n){return n.length>0?n[n.length-1]:null}function Hr(n){return gp(n)?n:Ei(n)?Fe(Promise.resolve(n)):Z(n)}var pF={exact:wC,subset:EC},IC={exact:mF,subset:gF,ignored:()=>!0};function cC(n,e,t){return pF[t.paths](n.root,e.root,t.matrixParams)&&IC[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function mF(n,e){return bn(n,e)}function wC(n,e,t){if(!Di(n.segments,e.segments)||!hd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!wC(n.children[r],e.children[r],t))return!1;return!0}function gF(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>vC(n[t],e[t]))}function EC(n,e,t){return bC(n,e,e.segments,t)}function bC(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Di(i,t)||e.hasChildren()||!hd(i,t,r))}else if(n.segments.length===t.length){if(!Di(n.segments,t)||!hd(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!EC(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Di(n.segments,i)||!hd(n.segments,i,r)||!n.children[ae]?!1:bC(n.children[ae],e,o,r)}}function hd(n,e,t){return e.every((r,i)=>IC[t](n[i].parameters,r.parameters))}var Xn=class{constructor(e=new Re([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=qo(this.queryParams),this._queryParamMap}toString(){return _F.serialize(this)}},Re=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fd(this)}},bi=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=qo(this.parameters),this._parameterMap}toString(){return CC(this)}};function yF(n,e){return Di(n,e)&&n.every((t,r)=>bn(t.parameters,e[r].parameters))}function Di(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function vF(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ae&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ae&&(t=t.concat(e(i,r)))}),t}var Ya=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:()=>new Wo,providedIn:"root"})}}return n})(),Wo=class{parse(e){let t=new jg(e);return new Xn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${ka(e.root,!0)}`,r=EF(e.queryParams),i=typeof e.fragment=="string"?`#${IF(e.fragment)}`:"";return`${t}${r}${i}`}},_F=new Wo;function fd(n){return n.segments.map(e=>CC(e)).join("/")}function ka(n,e){if(!n.hasChildren())return fd(n);if(e){let t=n.children[ae]?ka(n.children[ae],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ae&&r.push(`${i}:${ka(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=vF(n,(r,i)=>i===ae?[ka(n.children[ae],!1)]:[`${i}:${ka(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ae]!=null?`${fd(n)}/${t[0]}`:`${fd(n)}/(${t.join("//")})`}}function DC(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ld(n){return DC(n).replace(/%3B/gi,";")}function IF(n){return encodeURI(n)}function Ug(n){return DC(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pd(n){return decodeURIComponent(n)}function uC(n){return pd(n.replace(/\+/g,"%20"))}function CC(n){return`${Ug(n.path)}${wF(n.parameters)}`}function wF(n){return Object.entries(n).map(([e,t])=>`;${Ug(e)}=${Ug(t)}`).join("")}function EF(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${ld(t)}=${ld(i)}`).join("&"):`${ld(t)}=${ld(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var bF=/^[^\/()?;#]+/;function Pg(n){let e=n.match(bF);return e?e[0]:""}var DF=/^[^\/()?;=#]+/;function CF(n){let e=n.match(DF);return e?e[0]:""}var TF=/^[^=?&#]+/;function AF(n){let e=n.match(TF);return e?e[0]:""}var SF=/^[^&#]+/;function RF(n){let e=n.match(SF);return e?e[0]:""}var jg=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Re([],{}):new Re([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ae]=new Re(e,t)),r}parseSegment(){let e=Pg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new W(4009,!1);return this.capture(e),new bi(pd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=CF(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Pg(this.remaining);i&&(r=i,this.capture(r))}e[pd(t)]=pd(r)}parseQueryParam(e){let t=AF(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=RF(this.remaining);s&&(r=s,this.capture(r))}let i=uC(t),o=uC(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Pg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new W(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ae);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ae]:new Re([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new W(4011,!1)}};function TC(n){return n.segments.length>0?new Re([],{[ae]:n}):n}function AC(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=AC(i);if(r===ae&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Re(n.segments,e);return MF(t)}function MF(n){if(n.numberOfChildren===1&&n.children[ae]){let e=n.children[ae];return new Re(n.segments.concat(e.segments),e.children)}return n}function Ci(n){return n instanceof Xn}function xF(n,e,t=null,r=null){let i=SC(n);return RC(i,e,t,r)}function SC(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new Re(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=TC(r);return e??i}function RC(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Og(i,i,i,t,r);let o=NF(e);if(o.toRoot())return Og(i,i,new Re([],{}),t,r);let s=PF(o,i,n),a=s.processChildren?Va(s.segmentGroup,s.index,o.commands):xC(s.segmentGroup,s.index,o.commands);return Og(i,s.segmentGroup,a,t,r)}function md(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Ba(n){return typeof n=="object"&&n!=null&&n.outlets}function Og(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=MC(n,e,t);let a=TC(AC(s));return new Xn(a,o,i)}function MC(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=MC(o,e,t)}),new Re(n.segments,r)}var gd=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&md(r[0]))throw new W(4003,!1);let i=r.find(Ba);if(i&&i!==_C(r))throw new W(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function NF(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new gd(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new gd(t,e,r)}var Ho=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function PF(n,e,t){if(n.isAbsolute)return new Ho(e,!0,0);if(!t)return new Ho(e,!1,NaN);if(t.parent===null)return new Ho(t,!0,0);let r=md(n.commands[0])?0:1,i=t.segments.length-1+r;return OF(t,i,n.numberOfDoubleDots)}function OF(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new W(4005,!1);i=r.segments.length}return new Ho(r,!1,i-o)}function kF(n){return Ba(n[0])?n[0].outlets:{[ae]:n}}function xC(n,e,t){if(n??=new Re([],{}),n.segments.length===0&&n.hasChildren())return Va(n,e,t);let r=FF(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Re(n.segments.slice(0,r.pathIndex),{});return o.children[ae]=new Re(n.segments.slice(r.pathIndex),n.children),Va(o,0,i)}else return r.match&&i.length===0?new Re(n.segments,{}):r.match&&!n.hasChildren()?Bg(n,e,t):r.match?Va(n,0,i):Bg(n,e,t)}function Va(n,e,t){if(t.length===0)return new Re(n.segments,{});{let r=kF(t),i={};if(Object.keys(r).some(o=>o!==ae)&&n.children[ae]&&n.numberOfChildren===1&&n.children[ae].segments.length===0){let o=Va(n.children[ae],e,t);return new Re(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=xC(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Re(n.segments,i)}}function FF(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Ba(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!dC(u,l,s))return o;r+=2}else{if(!dC(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Bg(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Ba(o)){let u=LF(o.outlets);return new Re(r,u)}if(i===0&&md(t[0])){let u=n.segments[e];r.push(new bi(u.path,lC(t[0]))),i++;continue}let s=Ba(o)?o.outlets[ae]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&md(a)?(r.push(new bi(s,lC(a))),i+=2):(r.push(new bi(s,{})),i++)}return new Re(r,{})}function LF(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Bg(new Re([],{}),0,r))}),e}function lC(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function dC(n,e,t){return n==t.path&&bn(e,t.parameters)}var Ua="imperative",nt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(nt||{}),Kt=class{constructor(e,t){this.id=e,this.url=t}},Ko=class extends Kt{constructor(e,t,r="imperative",i=null){super(e,t),this.type=nt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Dn=class extends Kt{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=nt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Vt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Vt||{}),yd=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(yd||{}),Zn=class extends Kt{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=nt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Br=class extends Kt{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=nt.NavigationSkipped}},$a=class extends Kt{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=nt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},vd=class extends Kt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=nt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$g=class extends Kt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=nt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hg=class extends Kt{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=nt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},zg=class extends Kt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=nt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gg=class extends Kt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=nt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qg=class{constructor(e){this.route=e,this.type=nt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Wg=class{constructor(e){this.route=e,this.type=nt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Kg=class{constructor(e){this.snapshot=e,this.type=nt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Qg=class{constructor(e){this.snapshot=e,this.type=nt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yg=class{constructor(e){this.snapshot=e,this.type=nt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jg=class{constructor(e){this.snapshot=e,this.type=nt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_d=class{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=nt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Ha=class{},Qo=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function VF(n,e){return n.providers&&!n._injector&&(n._injector=Hl(n.providers,e,`Route: ${n.path}`)),n._injector??e}function un(n){return n.outlet||ae}function UF(n,e){let t=n.filter(r=>un(r)===e);return t.push(...n.filter(r=>un(r)!==e)),t}function Ja(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Zg=class{get injector(){return Ja(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Za(this.rootInjector),this.attachRef=null}},Za=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Zg(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(Q(Dt))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Id=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Xg(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Xg(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=ey(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return ey(e,this._root).map(t=>t.value)}};function Xg(n,e){if(n===e.value)return e;for(let t of e.children){let r=Xg(n,t);if(r)return r}return null}function ey(n,e){if(n===e.value)return[e];for(let t of e.children){let r=ey(n,t);if(r.length)return r.unshift(e),r}return[]}var Lt=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function $o(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var wd=class extends Id{constructor(e,t){super(e),this.snapshot=t,uy(this,e)}toString(){return this.snapshot.toString()}};function NC(n){let e=jF(n),t=new st([new bi("",{})]),r=new st({}),i=new st({}),o=new st({}),s=new st(""),a=new $r(t,r,o,s,i,ae,n,e.root);return a.snapshot=e.root,new wd(new Lt(a,[]),e)}function jF(n){let e={},t={},r={},i="",o=new zo([],e,r,i,t,ae,n,null,{});return new bd("",new Lt(o,[]))}var $r=class{constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ee(l=>l[Qa]))??Z(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ee(e=>qo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ee(e=>qo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ed(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:V(V({},e.params),n.params),data:V(V({},e.data),n.data),resolve:V(V(V(V({},n.data),e.data),i?.data),n._resolvedData)}:r={params:V({},n.params),data:V({},n.data),resolve:V(V({},n.data),n._resolvedData??{})},i&&OC(i)&&(r.resolve[Qa]=i.title),r}var zo=class{get title(){return this.data?.[Qa]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=qo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=qo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},bd=class extends Id{constructor(e,t){super(t),this.url=e,uy(this,t)}toString(){return PC(this._root)}};function uy(n,e){e.value._routerState=n,e.children.forEach(t=>uy(n,t))}function PC(n){let e=n.children.length>0?` { ${n.children.map(PC).join(", ")} } `:"";return`${n.value}${e}`}function kg(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,bn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),bn(e.params,t.params)||n.paramsSubject.next(t.params),fF(e.url,t.url)||n.urlSubject.next(t.url),bn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function ty(n,e){let t=bn(n.params,e.params)&&yF(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||ty(n.parent,e.parent))}function OC(n){return typeof n.title=="string"||n.title===null}var ly=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ae,this.activateEvents=new xe,this.deactivateEvents=new xe,this.attachEvents=new xe,this.detachEvents=new xe,this.parentContexts=P(Za),this.location=P(Ea),this.changeDetector=P(Lo),this.inputBinder=P(Ad,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new W(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new W(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new W(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new W(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new ny(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Je({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Pr]})}}return n})(),ny=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===$r?this.route:e===Za?this.childContexts:this.parent.get(e,t)}},Ad=new $(""),hC=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=ia([r.queryParams,r.params,r.data]).pipe(St(([o,s,a],u)=>(a=V(V(V({},o),s),a),u===0?Z(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=RD(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})();function BF(n,e,t){let r=za(n,e._root,t?t._root:void 0);return new wd(r,e)}function za(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=$F(n,e,t);return new Lt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>za(n,a)),s}}let r=HF(e.value),i=e.children.map(o=>za(n,o));return new Lt(r,i)}}function $F(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return za(n,r,i);return za(n,r)})}function HF(n){return new $r(new st(n.url),new st(n.params),new st(n.queryParams),new st(n.fragment),new st(n.data),n.outlet,n.component,n)}var Ga=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},kC="ngNavigationCancelingError";function Dd(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Ci(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=FC(!1,Vt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function FC(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[kC]=!0,t.cancellationCode=e,t}function zF(n){return LC(n)&&Ci(n.url)}function LC(n){return!!n&&n[kC]}var GF=(n,e,t,r)=>ee(i=>(new ry(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),ry=class{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),kg(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=$o(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=$o(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=$o(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=$o(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Jg(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Qg(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(kg(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),kg(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Cd=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Go=class{constructor(e,t){this.component=e,this.route=t}};function qF(n,e,t){let r=n._root,i=e?e._root:null;return Fa(r,i,t,[r.value])}function WF(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Jo(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!m0(n)?n:e.get(n):r}function Fa(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=$o(e);return n.children.forEach(s=>{KF(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ja(a,t.getContext(s),i)),i}function KF(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=QF(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Cd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Fa(n,e,a?a.children:null,r,i):Fa(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Go(a.outlet.component,s))}else s&&ja(e,a,i),i.canActivateChecks.push(new Cd(r)),o.component?Fa(n,null,a?a.children:null,r,i):Fa(n,null,t,r,i);return i}function QF(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Di(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Di(n.url,e.url)||!bn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ty(n,e)||!bn(n.queryParams,e.queryParams);case"paramsChange":default:return!ty(n,e)}}function ja(n,e,t){let r=$o(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?ja(s,e.children.getContext(o),t):ja(s,null,t):ja(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Go(e.outlet.component,i)):t.canDeactivateChecks.push(new Go(null,i)):t.canDeactivateChecks.push(new Go(null,i))}function Xa(n){return typeof n=="function"}function YF(n){return typeof n=="boolean"}function JF(n){return n&&Xa(n.canLoad)}function ZF(n){return n&&Xa(n.canActivate)}function XF(n){return n&&Xa(n.canActivateChild)}function eL(n){return n&&Xa(n.canDeactivate)}function tL(n){return n&&Xa(n.canMatch)}function VC(n){return n instanceof Ln||n?.name==="EmptyError"}var dd=Symbol("INITIAL_VALUE");function Yo(){return St(n=>ia(n.map(e=>e.pipe(Un(1),Hu(dd)))).pipe(ee(e=>{for(let t of e)if(t!==!0){if(t===dd)return dd;if(t===!1||nL(t))return t}return!0}),It(e=>e!==dd),Un(1)))}function nL(n){return Ci(n)||n instanceof Ga}function rL(n,e){return qe(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?Z(he(V({},t),{guardsResult:!0})):iL(s,r,i,n).pipe(qe(a=>a&&YF(a)?oL(r,o,n,e):Z(a)),ee(a=>he(V({},t),{guardsResult:a})))})}function iL(n,e,t,r){return Fe(n).pipe(qe(i=>lL(i.component,i.route,t,e,r)),hn(i=>i!==!0,!0))}function oL(n,e,t,r){return Fe(e).pipe(Vn(i=>uo(aL(i.route.parent,r),sL(i.route,r),uL(n,i.path,t),cL(n,i.route,t))),hn(i=>i!==!0,!0))}function sL(n,e){return n!==null&&e&&e(new Yg(n)),Z(!0)}function aL(n,e){return n!==null&&e&&e(new Kg(n)),Z(!0)}function cL(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Z(!0);let i=r.map(o=>ju(()=>{let s=Ja(e)??t,a=Jo(o,s),u=ZF(a)?a.canActivate(e,n):Gt(s,()=>a(e,n));return Hr(u).pipe(hn())}));return Z(i).pipe(Yo())}function uL(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>WF(s)).filter(s=>s!==null).map(s=>ju(()=>{let a=s.guards.map(u=>{let l=Ja(s.node)??t,h=Jo(u,l),p=XF(h)?h.canActivateChild(r,n):Gt(l,()=>h(r,n));return Hr(p).pipe(hn())});return Z(a).pipe(Yo())}));return Z(o).pipe(Yo())}function lL(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Z(!0);let s=o.map(a=>{let u=Ja(e)??i,l=Jo(a,u),h=eL(l)?l.canDeactivate(n,e,t,r):Gt(u,()=>l(n,e,t,r));return Hr(h).pipe(hn())});return Z(s).pipe(Yo())}function dL(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return Z(!0);let o=i.map(s=>{let a=Jo(s,n),u=JF(a)?a.canLoad(e,t):Gt(n,()=>a(e,t));return Hr(u)});return Z(o).pipe(Yo(),UC(r))}function UC(n){return wu(We(e=>{if(typeof e!="boolean")throw Dd(n,e)}),ee(e=>e===!0))}function hL(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return Z(!0);let o=i.map(s=>{let a=Jo(s,n),u=tL(a)?a.canMatch(e,t):Gt(n,()=>a(e,t));return Hr(u)});return Z(o).pipe(Yo(),UC(r))}var qa=class{constructor(e){this.segmentGroup=e||null}},Wa=class extends Error{constructor(e){super(),this.urlTree=e}};function Bo(n){return ao(new qa(n))}function fL(n){return ao(new W(4e3,!1))}function pL(n){return ao(FC(!1,Vt.GuardRejected))}var iy=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Z(r);if(i.numberOfChildren>1||!i.children[ae])return fL(`${e.redirectTo}`);i=i.children[ae]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:y,params:g,data:T,title:M}=i,R=Gt(o,()=>a({params:g,data:T,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:y,title:M}));if(R instanceof Xn)throw new Wa(R);t=R}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Wa(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Xn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Re(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new W(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},oy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function mL(n,e,t,r,i){let o=jC(n,e,t);return o.matched?(r=VF(e,r),hL(r,e,t,i).pipe(ee(s=>s===!0?o:V({},oy)))):Z(o)}function jC(n,e,t){if(e.path==="**")return gL(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?V({},oy):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||hF)(t,n,e);if(!i)return V({},oy);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?V(V({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function gL(n){return{matched:!0,parameters:n.length>0?_C(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function fC(n,e,t,r){return t.length>0&&_L(n,t,r)?{segmentGroup:new Re(e,vL(r,new Re(t,n.children))),slicedSegments:[]}:t.length===0&&IL(n,t,r)?{segmentGroup:new Re(n.segments,yL(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Re(n.segments,n.children),slicedSegments:t}}function yL(n,e,t,r){let i={};for(let o of t)if(Sd(n,e,o)&&!r[un(o)]){let s=new Re([],{});i[un(o)]=s}return V(V({},r),i)}function vL(n,e){let t={};t[ae]=e;for(let r of n)if(r.path===""&&un(r)!==ae){let i=new Re([],{});t[un(r)]=i}return t}function _L(n,e,t){return t.some(r=>Sd(n,e,r)&&un(r)!==ae)}function IL(n,e,t){return t.some(r=>Sd(n,e,r))}function Sd(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function wL(n,e,t){return e.length===0&&!n.children[t]}var sy=class{};function EL(n,e,t,r,i,o,s="emptyOnly"){return new ay(n,e,t,r,i,s,o).recognize()}var bL=31,ay=class{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new iy(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new W(4002,`'${e.segmentGroup}'`)}recognize(){let e=fC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ee(({children:t,rootSnapshot:r})=>{let i=new Lt(r,t),o=new bd("",i),s=xF(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new zo([],Object.freeze({}),Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ae,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ae,t).pipe(ee(r=>({children:r,rootSnapshot:t})),br(r=>{if(r instanceof Wa)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof qa?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(ee(s=>s instanceof Lt?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Fe(o).pipe(Vn(s=>{let a=r.children[s],u=UF(t,s);return this.processSegmentGroup(e,u,a,s,i)}),$u((s,a)=>(s.push(...a),s)),Dr(null),_p(),qe(s=>{if(s===null)return Bo(r);let a=BC(s);return DL(a),Z(a)}))}processSegment(e,t,r,i,o,s,a){return Fe(t).pipe(Vn(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(br(l=>{if(l instanceof qa)return Z(null);throw l}))),hn(u=>!!u),br(u=>{if(VC(u))return wL(r,i,o)?Z(new sy):Bo(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return un(r)!==s&&(s===ae||!Sd(i,o,r))?Bo(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):Bo(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:y}=jC(t,i,o);if(!u)return Bo(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>bL&&(this.allowRedirects=!1));let g=new zo(o,l,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,pC(i),un(i),i.component??i._loadedComponent??null,i,mC(i)),T=Ed(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(T.params),g.data=Object.freeze(T.data);let M=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,g,e);return this.applyRedirects.lineralizeSegments(i,M).pipe(qe(R=>this.processSegment(e,r,t,R.concat(y),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=mL(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(St(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(St(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:y,remainingSegments:g}=u,T=new zo(y,p,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,pC(r),un(r),r.component??r._loadedComponent??null,r,mC(r)),M=Ed(T,s,this.paramsInheritanceStrategy);T.params=Object.freeze(M.params),T.data=Object.freeze(M.data);let{segmentGroup:R,slicedSegments:L}=fC(t,y,g,l);if(L.length===0&&R.hasChildren())return this.processChildren(h,l,R,T).pipe(ee(B=>new Lt(T,B)));if(l.length===0&&L.length===0)return Z(new Lt(T,[]));let H=un(r)===o;return this.processSegment(h,l,R,L,H?ae:o,!0,T).pipe(ee(B=>new Lt(T,B instanceof Lt?[B]:[])))}))):Bo(t)))}getChildConfig(e,t,r){return t.children?Z({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?Z({routes:t._loadedRoutes,injector:t._loadedInjector}):dL(e,t,r,this.urlSerializer).pipe(qe(i=>i?this.configLoader.loadChildren(e,t).pipe(We(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):pL(t))):Z({routes:[],injector:e})}};function DL(n){n.sort((e,t)=>e.value.outlet===ae?-1:t.value.outlet===ae?1:e.value.outlet.localeCompare(t.value.outlet))}function CL(n){let e=n.value.routeConfig;return e&&e.path===""}function BC(n){let e=[],t=new Set;for(let r of n){if(!CL(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=BC(r.children);e.push(new Lt(r.value,i))}return e.filter(r=>!t.has(r))}function pC(n){return n.data||{}}function mC(n){return n.resolve||{}}function TL(n,e,t,r,i,o){return qe(s=>EL(n,e,t,r,s.extractedUrl,i,o).pipe(ee(({state:a,tree:u})=>he(V({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function AL(n,e){return qe(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Z(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of $C(u))s.add(l);let a=0;return Fe(s).pipe(Vn(u=>o.has(u)?SL(u,r,n,e):(u.data=Ed(u,u.parent,n).resolve,Z(void 0))),We(()=>a++),lo(1),qe(u=>a===s.size?Z(t):Ot))})}function $C(n){let e=n.children.map(t=>$C(t)).flat();return[n,...e]}function SL(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!OC(i)&&(o[Qa]=i.title),RL(o,n,e,r).pipe(ee(s=>(n._resolvedData=s,n.data=Ed(n,n.parent,t).resolve,null)))}function RL(n,e,t,r){let i=Vg(n);if(i.length===0)return Z({});let o={};return Fe(i).pipe(qe(s=>ML(n[s],e,t,r).pipe(hn(),We(a=>{if(a instanceof Ga)throw Dd(new Wo,a);o[s]=a}))),lo(1),vp(o),br(s=>VC(s)?Ot:ao(s)))}function ML(n,e,t,r){let i=Ja(e)??r,o=Jo(n,i),s=o.resolve?o.resolve(e,t):Gt(i,()=>o(e,t));return Hr(s)}function Fg(n){return St(e=>{let t=n(e);return t?Fe(t).pipe(ee(()=>e)):Z(e)})}var HC=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ae);return r}getResolvedTitleForRoute(t){return t.data[Qa]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:()=>P(xL),providedIn:"root"})}}return n})(),xL=(()=>{class n extends HC{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(Q(aC))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ec=new $("",{providedIn:"root",factory:()=>({})}),NL=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=Ne({type:n,selectors:[["ng-component"]],standalone:!0,features:[Pe],decls:1,vars:0,template:function(r,i){r&1&&De(0,"router-outlet")},dependencies:[ly],encapsulation:2})}}return n})();function dy(n){let e=n.children&&n.children.map(dy),t=e?he(V({},n),{children:e}):V({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ae&&(t.component=NL),t}var Ka=new $(""),hy=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=P(Zl)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Z(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Hr(t.loadComponent()).pipe(ee(zC),We(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),hi(()=>{this.componentLoaders.delete(t)})),i=new ro(r,()=>new et).pipe(no());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Z({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=PL(r,this.compiler,t,this.onLoadEndListener).pipe(hi(()=>{this.childrenLoaders.delete(r)})),s=new ro(o,()=>new et).pipe(no());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function PL(n,e,t,r){return Hr(n.loadChildren()).pipe(ee(zC),qe(i=>i instanceof ma||Array.isArray(i)?Z(i):Fe(e.compileModuleAsync(i))),ee(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Ka,[],{optional:!0,self:!0}).flat()),{routes:s.map(dy),injector:o}}))}function OL(n){return n&&typeof n=="object"&&"default"in n}function zC(n){return OL(n)?n.default:n}var fy=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:()=>P(kL),providedIn:"root"})}}return n})(),kL=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),GC=new $(""),qC=new $("");function FL(n,e,t){let r=n.get(qC),i=n.get(pt);return n.get(Ee).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),LL(n))),{onViewTransitionCreated:u}=r;return u&&Gt(n,()=>u({transition:a,from:e,to:t})),s})}function LL(n){return new Promise(e=>{cg({read:()=>setTimeout(e)},{injector:n})})}var VL=new $(""),py=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new et,this.transitionAbortSubject=new et,this.configLoader=P(hy),this.environmentInjector=P(Dt),this.urlSerializer=P(Ya),this.rootContexts=P(Za),this.location=P(jo),this.inputBindingEnabled=P(Ad,{optional:!0})!==null,this.titleStrategy=P(HC),this.options=P(ec,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=P(fy),this.createViewTransition=P(GC,{optional:!0}),this.navigationErrorHandler=P(VL,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Z(void 0),this.rootComponentType=null;let t=i=>this.events.next(new qg(i)),r=i=>this.events.next(new Wg(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(he(V(V({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new st({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Ua,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(It(o=>o.id!==0),ee(o=>he(V({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),St(o=>{let s=!1,a=!1;return Z(o).pipe(St(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Vt.SupersededByNewNavigation),Ot;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?he(V({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=u.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&h!=="reload"){let p="";return this.events.next(new Br(u.id,this.urlSerializer.serialize(u.rawUrl),p,yd.IgnoredSameUrlNavigation)),u.resolve(!1),Ot}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Z(u).pipe(St(p=>{let y=this.transitions?.getValue();return this.events.next(new Ko(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),y!==this.transitions?.getValue()?Ot:Promise.resolve(p)}),TL(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),We(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=he(V({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let y=new vd(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(y)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:y,source:g,restoredState:T,extras:M}=u,R=new Ko(p,this.urlSerializer.serialize(y),g,T);this.events.next(R);let L=NC(this.rootComponentType).snapshot;return this.currentTransition=o=he(V({},u),{targetSnapshot:L,urlAfterRedirects:y,extras:he(V({},M),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,Z(o)}else{let p="";return this.events.next(new Br(u.id,this.urlSerializer.serialize(u.extractedUrl),p,yd.IgnoredByUrlHandlingStrategy)),u.resolve(!1),Ot}}),We(u=>{let l=new $g(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),ee(u=>(this.currentTransition=o=he(V({},u),{guards:qF(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),rL(this.environmentInjector,u=>this.events.next(u)),We(u=>{if(o.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw Dd(this.urlSerializer,u.guardsResult);let l=new Hg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),It(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Vt.GuardRejected),!1)),Fg(u=>{if(u.guards.canActivateChecks.length)return Z(u).pipe(We(l=>{let h=new zg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),St(l=>{let h=!1;return Z(l).pipe(AL(this.paramsInheritanceStrategy,this.environmentInjector),We({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",Vt.NoDataFromResolver)}}))}),We(l=>{let h=new Gg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),Fg(u=>{let l=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(We(y=>{h.component=y}),ee(()=>{})));for(let y of h.children)p.push(...l(y));return p};return ia(l(u.targetSnapshot.root)).pipe(Dr(null),Un(1))}),Fg(()=>this.afterPreactivation()),St(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,h=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return h?Fe(h).pipe(ee(()=>o)):Z(o)}),ee(u=>{let l=BF(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=he(V({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),We(()=>{this.events.next(new Ha)}),GF(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Un(1),We({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Dn(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),Ip(this.transitionAbortSubject.pipe(We(u=>{throw u}))),hi(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Vt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),br(u=>{if(a=!0,LC(u))this.events.next(new Zn(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),zF(u)?this.events.next(new Qo(u.url,u.navigationBehaviorOptions)):o.resolve(!1);else{let l=new $a(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0);try{let h=Gt(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(h instanceof Ga){let{message:p,cancellationCode:y}=Dd(this.urlSerializer,h);this.events.next(new Zn(o.id,this.urlSerializer.serialize(o.extractedUrl),p,y)),this.events.next(new Qo(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(l);let p=t.errorHandler(u);o.resolve(!!p)}}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return Ot}))}))}cancelNavigationTransition(t,r,i){let o=new Zn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function UL(n){return n!==Ua}var jL=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:()=>P(BL),providedIn:"root"})}}return n})(),cy=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},BL=(()=>{class n extends cy{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=wi(n)))(i||n)}})()}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),WC=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:()=>P($L),providedIn:"root"})}}return n})(),$L=(()=>{class n extends WC{constructor(){super(...arguments),this.location=P(jo),this.urlSerializer=P(Ya),this.options=P(ec,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=P(fy),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Xn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=NC(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof Ko)this.stateMemento=this.createStateMemento();else if(t instanceof Br)this.rawUrlTree=r.initialUrl;else if(t instanceof vd){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof Ha?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof Zn&&(t.code===Vt.GuardRejected||t.code===Vt.NoDataFromResolver)?this.restoreHistory(r):t instanceof $a?this.restoreHistory(r,!0):t instanceof Dn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof Xn?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=V(V({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=V(V({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=wi(n)))(i||n)}})()}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),La=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(La||{});function KC(n,e){n.events.pipe(It(t=>t instanceof Dn||t instanceof Zn||t instanceof $a||t instanceof Br),ee(t=>t instanceof Dn||t instanceof Br?La.COMPLETE:(t instanceof Zn?t.code===Vt.Redirect||t.code===Vt.SupersededByNewNavigation:!1)?La.REDIRECTING:La.FAILED),It(t=>t!==La.REDIRECTING),Un(1)).subscribe(()=>{e()})}function HL(n){throw n}var zL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},GL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},er=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=P(Yl),this.stateManager=P(WC),this.options=P(ec,{optional:!0})||{},this.pendingTasks=P(Fr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=P(py),this.urlSerializer=P(Ya),this.location=P(jo),this.urlHandlingStrategy=P(fy),this._events=new et,this.errorHandler=this.options.errorHandler||HL,this.navigated=!1,this.routeReuseStrategy=P(jL),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=P(Ka,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!P(Ad,{optional:!0}),this.eventsSubscription=new Be,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Zn&&r.code!==Vt.Redirect&&r.code!==Vt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Dn)this.navigated=!0;else if(r instanceof Qo){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=V({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||UL(i.source)},s);this.scheduleNavigation(a,Ua,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}WL(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ua,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=V({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(dy),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=V(V({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let y=i?i.snapshot:this.routerState.snapshot.root;p=SC(y)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return RC(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Ci(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ua,null,r)}navigate(t,r={skipLocationChange:!1}){return qL(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=V({},zL):r===!1?i=V({},GL):i=r,Ci(t))return cC(this.currentUrlTree,t,i);let o=this.parseUrl(t);return cC(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,y)=>{a=p,u=y});let h=this.pendingTasks.add();return KC(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function qL(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new W(4008,!1)}function WL(n){return!(n instanceof Ha)&&!(n instanceof Qo)}var QC=(()=>{class n{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new et,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof Dn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Ci(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:Nb(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Ci(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(me(er),me($r),Hm("tabindex"),me(In),me(sn),me(Yn))}}static{this.\u0275dir=Je({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&Le("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&zl("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Vo],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Vo],replaceUrl:[2,"replaceUrl","replaceUrl",Vo],routerLink:"routerLink"},standalone:!0,features:[ag,Pr]})}}return n})();var Td=class{};var KL=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(It(t=>t instanceof Dn),Vn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Hl(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Fe(i).pipe(co())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=Z(null);let o=i.pipe(qe(s=>s===null?Z(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Fe([o,s]).pipe(co())}else return o})}static{this.\u0275fac=function(r){return new(r||n)(Q(er),Q(Zl),Q(Dt),Q(Td),Q(hy))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),YC=new $(""),QL=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ko?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Dn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Br&&t.code===yd.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof _d&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new _d(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){zb()}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})();function JC(n,...e){return zt([{provide:Ka,multi:!0,useValue:n},[],{provide:$r,useFactory:ZC,deps:[er]},{provide:Da,multi:!0,useFactory:XC},e.map(t=>t.\u0275providers)])}function ZC(n){return n.routerState.root}function tc(n,e){return{\u0275kind:n,\u0275providers:e}}function XC(){let n=P(at);return e=>{let t=n.get(Lr);if(e!==t.components[0])return;let r=n.get(er),i=n.get(eT);n.get(my)===1&&r.initialNavigation(),n.get(tT,null,le.Optional)?.setUpPreloading(),n.get(YC,null,le.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var eT=new $("",{factory:()=>new et}),my=new $("",{providedIn:"root",factory:()=>1});function YL(){return tc(2,[{provide:my,useValue:0},{provide:Jl,multi:!0,deps:[at],useFactory:e=>{let t=e.get(FD,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(er),o=e.get(eT);KC(i,()=>{r(!0)}),e.get(py).afterPreactivation=()=>(r(!0),o.closed?Z(void 0):o),i.initialNavigation()}))}}])}function JL(){return tc(3,[{provide:Jl,multi:!0,useFactory:()=>{let e=P(er);return()=>{e.setUpLocationChangeListener()}}},{provide:my,useValue:2}])}var tT=new $("");function ZL(n){return tc(0,[{provide:tT,useExisting:KL},{provide:Td,useExisting:n}])}function XL(){return tc(8,[hC,{provide:Ad,useExisting:hC}])}function eV(n){let e=[{provide:GC,useValue:FL},{provide:qC,useValue:V({skipNextTransition:!!n?.skipInitialTransition},n)}];return tc(9,e)}var gC=new $("ROUTER_FORROOT_GUARD"),tV=[jo,{provide:Ya,useClass:Wo},er,Za,{provide:$r,useFactory:ZC,deps:[er]},hy,[]],nT=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[tV,[],{provide:Ka,multi:!0,useValue:t},{provide:gC,useFactory:oV,deps:[[er,new Tt,new E0]]},{provide:ec,useValue:r||{}},r?.useHash?rV():iV(),nV(),r?.preloadingStrategy?ZL(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?sV(r):[],r?.bindToComponentInputs?XL().\u0275providers:[],r?.enableViewTransitions?eV().\u0275providers:[],aV()]}}static forChild(t){return{ngModule:n,providers:[{provide:Ka,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(Q(gC,8))}}static{this.\u0275mod=_n({type:n})}static{this.\u0275inj=vn({})}}return n})();function nV(){return{provide:YC,useFactory:()=>{let n=P(UD),e=P(Ee),t=P(ec),r=P(py),i=P(Ya);return t.scrollOffset&&n.setOffset(t.scrollOffset),new QL(i,r,n,e,t)}}}function rV(){return{provide:Yn,useClass:VD}}function iV(){return{provide:Yn,useClass:yg}}function oV(n){return"guarded"}function sV(n){return[n.initialNavigation==="disabled"?JL().\u0275providers:[],n.initialNavigation==="enabledBlocking"?YL().\u0275providers:[]]}var yC=new $("");function aV(){return[{provide:yC,useFactory:XC},{provide:Da,multi:!0,useExisting:yC}]}function uV(n,e){if(n&1){let t=Ql();x(0,"img",2),Le("click",function(){let i=xl(t).$index,o=Se();return Nl(o.seleccionarPelicula(i))}),N()}if(n&2){let t=e.$index,r=Se();ko("src",r.peliculas[t].foto,Oo)}}var Rd=class n{peliculas=[];detallePelicula=new xe;seleccionarPelicula(e){this.detallePelicula.emit(this.peliculas[e])}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ne({type:n,selectors:[["app-tabla-peliculas"]],inputs:{peliculas:"peliculas"},outputs:{detallePelicula:"detallePelicula"},standalone:!0,features:[Pe],decls:3,vars:0,consts:[[1,"card-fondo"],[1,"imagen",3,"src"],[1,"imagen",3,"click","src"]],template:function(t,r){t&1&&(x(0,"div",0),Wl(1,uV,1,1,"img",1,ql),N()),t&2&&(j(),Kl(r.peliculas))},styles:[".imagen[_ngcontent-%COMP%]{top:5%;position:relative;width:auto;height:200px;max-width:12%;cursor:pointer;transition:transform .5s;border-radius:10px;left:1%}.imagen[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.imagen[_ngcontent-%COMP%]:active{transform:scale(.85)}.card-fondo[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;position:absolute;width:100%;height:100%;background-color:#f2f2f2;border-radius:25px;box-shadow:2px 2px 15px #c1c1c1;overflow-y:auto;gap:10px}"]})};var Md=class n{set obtenerDetallePelicula(e){e&&this.actualizarDetalle(e)}actualizarDetalle(e){let t="";t+=`
    <tr>
    <td><img src="${e.foto}" width="100" height="100"></td>
    <td>${e.nombre}</td>
    <td>${e.tipo}</td>
    <td>${e.fechaEstreno}</td>
    <td>${e.cantidadPublico}</td>
    <td>${e.protagonista}</td>
    </tr>
    `,document.getElementById("table_pelicula").innerHTML=t}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ne({type:n,selectors:[["app-detalle-peliculas"]],inputs:{obtenerDetallePelicula:"obtenerDetallePelicula"},standalone:!0,features:[Pe],decls:18,vars:0,consts:[[1,"card"],[2,"margin-left","10px"],["id","table_pelicula"]],template:function(t,r){t&1&&(x(0,"div",0)(1,"div",1)(2,"table")(3,"thead")(4,"tr")(5,"th"),k(6,"Foto"),N(),x(7,"th"),k(8,"Nombre"),N(),x(9,"th"),k(10,"Tipo"),N(),x(11,"th"),k(12,"Fecha Estreno"),N(),x(13,"th"),k(14,"Publico"),N(),x(15,"th"),k(16,"Protagonista"),N()()(),De(17,"tbody",2),N()()())},styles:[".card[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background-color:#000;border-radius:5px;transition:all .2s;color:#fff}.card[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.card[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#333}.card[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:left;color:#fff;border-bottom:2px solid #444;width:10%;margin:0;padding:10px 15px}.card[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid #444;width:16.67%;text-align:left}"]})};var iT=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},lV=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},oT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,y=(a&15)<<2|l>>6,g=l&63;u||(g=64,s||(y=64)),r.push(t[h],t[p],t[y],t[g])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(iT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):lV(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new yy;let y=o<<2|a>>4;if(r.push(y),l!==64){let g=a<<4&240|l>>2;if(r.push(g),p!==64){let T=l<<6&192|p;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},yy=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},dV=function(n){let e=iT(n);return oT.encodeByteArray(e,!0)},nc=function(n){return dV(n).replace(/\./g,"")},_y=function(n){try{return oT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function hV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var fV=()=>hV().__FIREBASE_DEFAULTS__,pV=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},mV=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&_y(n[1]);return e&&JSON.parse(e)},Nd=()=>{try{return fV()||pV()||mV()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Iy=n=>{var e,t;return(t=(e=Nd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},sT=n=>{let e=Iy(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},wy=()=>{var n;return(n=Nd())===null||n===void 0?void 0:n.config},Ey=n=>{var e;return(e=Nd())===null||e===void 0?void 0:e[`_${n}`]};var xd=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function aT(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[nc(JSON.stringify(t)),nc(JSON.stringify(s)),""].join(".")}function rt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rt())}function gV(){var n;let e=(n=Nd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lT(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function dT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hT(){let n=rt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function fT(){return!gV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function by(){try{return typeof indexedDB=="object"}catch{return!1}}function pT(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var yV="FirebaseError",Ut=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=yV,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tr.prototype.create)}},tr=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?vV(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Ut(i,a,r)}};function vV(n,e){return n.replace(_V,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var _V=/\{\$([^}]+)}/g;function mT(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ti(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(rT(o)&&rT(s)){if(!Ti(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function rT(n){return n!==null&&typeof n=="object"}function rc(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function gT(n,e){let t=new vy(n,e);return t.subscribe.bind(t)}var vy=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");IV(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=gy),i.error===void 0&&(i.error=gy),i.complete===void 0&&(i.complete=gy);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function IV(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function gy(){}var $8=4*60*60*1e3;function Mt(n){return n&&n._delegate?n._delegate:n}var Yt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ai="[DEFAULT]";var Dy=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new xd;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(EV(e))try{this.getOrInitializeService({instanceIdentifier:Ai})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ai){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ai){return this.instances.has(e)}getOptions(e=Ai){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:wV(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ai){return this.component?this.component.multipleInstances?e:Ai:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function wV(n){return n===Ai?void 0:n}function EV(n){return n.instantiationMode==="EAGER"}var Pd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Dy(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var bV=[],ye=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(ye||{}),DV={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},CV=ye.INFO,TV={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},AV=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=TV[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},zr=class{constructor(e){this.name=e,this._logLevel=CV,this._logHandler=AV,this._userLogHandler=null,bV.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}};var SV=(n,e)=>e.some(t=>n instanceof t),yT,vT;function RV(){return yT||(yT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MV(){return vT||(vT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var _T=new WeakMap,Ty=new WeakMap,IT=new WeakMap,Cy=new WeakMap,Sy=new WeakMap;function xV(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Cn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&_T.set(t,n)}).catch(()=>{}),Sy.set(e,n),e}function NV(n){if(Ty.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Ty.set(n,e)}var Ay={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Ty.get(n);if(e==="objectStoreNames")return n.objectStoreNames||IT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Cn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function wT(n){Ay=n(Ay)}function PV(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Od(this),e,...t);return IT.set(r,e.sort?e.sort():[e]),Cn(r)}:MV().includes(n)?function(...e){return n.apply(Od(this),e),Cn(_T.get(this))}:function(...e){return Cn(n.apply(Od(this),e))}}function OV(n){return typeof n=="function"?PV(n):(n instanceof IDBTransaction&&NV(n),SV(n,RV())?new Proxy(n,Ay):n)}function Cn(n){if(n instanceof IDBRequest)return xV(n);if(Cy.has(n))return Cy.get(n);let e=OV(n);return e!==n&&(Cy.set(n,e),Sy.set(e,n)),e}var Od=n=>Sy.get(n);function bT(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Cn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Cn(s.result),u.oldVersion,u.newVersion,Cn(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var kV=["get","getKey","getAll","getAllKeys","count"],FV=["put","add","delete","clear"],Ry=new Map;function ET(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Ry.get(e))return Ry.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=FV.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||kV.includes(t)))return;let o=function(s,...a){return w(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&u.done]))[0]})};return Ry.set(e,o),o}wT(n=>he(V({},n),{get:(e,t,r)=>ET(e,t)||n.get(e,t,r),has:(e,t)=>!!ET(e,t)||n.has(e,t)}));var xy=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(LV(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function LV(n){let e=n.getComponent();return e?.type==="VERSION"}var Ny="@firebase/app",DT="0.10.13";var nr=new zr("@firebase/app"),VV="@firebase/app-compat",UV="@firebase/analytics-compat",jV="@firebase/analytics",BV="@firebase/app-check-compat",$V="@firebase/app-check",HV="@firebase/auth",zV="@firebase/auth-compat",GV="@firebase/database",qV="@firebase/data-connect",WV="@firebase/database-compat",KV="@firebase/functions",QV="@firebase/functions-compat",YV="@firebase/installations",JV="@firebase/installations-compat",ZV="@firebase/messaging",XV="@firebase/messaging-compat",e2="@firebase/performance",t2="@firebase/performance-compat",n2="@firebase/remote-config",r2="@firebase/remote-config-compat",i2="@firebase/storage",o2="@firebase/storage-compat",s2="@firebase/firestore",a2="@firebase/vertexai-preview",c2="@firebase/firestore-compat",u2="firebase",l2="10.14.1";var Py="[DEFAULT]",d2={[Ny]:"fire-core",[VV]:"fire-core-compat",[jV]:"fire-analytics",[UV]:"fire-analytics-compat",[$V]:"fire-app-check",[BV]:"fire-app-check-compat",[HV]:"fire-auth",[zV]:"fire-auth-compat",[GV]:"fire-rtdb",[qV]:"fire-data-connect",[WV]:"fire-rtdb-compat",[KV]:"fire-fn",[QV]:"fire-fn-compat",[YV]:"fire-iid",[JV]:"fire-iid-compat",[ZV]:"fire-fcm",[XV]:"fire-fcm-compat",[e2]:"fire-perf",[t2]:"fire-perf-compat",[n2]:"fire-rc",[r2]:"fire-rc-compat",[i2]:"fire-gcs",[o2]:"fire-gcs-compat",[s2]:"fire-fst",[c2]:"fire-fst-compat",[a2]:"fire-vertex","fire-js":"fire-js",[u2]:"fire-js-all"};var ic=new Map,h2=new Map,Oy=new Map;function CT(n,e){try{n.container.addComponent(e)}catch(t){nr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function qr(n){let e=n.name;if(Oy.has(e))return nr.debug(`There were multiple attempts to register component ${e}.`),!1;Oy.set(e,n);for(let t of ic.values())CT(t,n);for(let t of h2.values())CT(t,n);return!0}function sc(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function rr(n){return n.settings!==void 0}var f2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gr=new tr("app","Firebase",f2);var ky=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gr.create("app-deleted",{appName:this._name})}};var Wr=l2;function Vy(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Py,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Gr.create("bad-app-name",{appName:String(i)});if(t||(t=wy()),!t)throw Gr.create("no-options");let o=ic.get(i);if(o){if(Ti(t,o.options)&&Ti(r,o.config))return o;throw Gr.create("duplicate-app",{appName:i})}let s=new Pd(i);for(let u of Oy.values())s.addComponent(u);let a=new ky(t,r,s);return ic.set(i,a),a}function Zo(n=Py){let e=ic.get(n);if(!e&&n===Py&&wy())return Vy();if(!e)throw Gr.create("no-app",{appName:n});return e}function kd(){return Array.from(ic.values())}function Ze(n,e,t){var r;let i=(r=d2[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),nr.warn(a.join(" "));return}qr(new Yt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var p2="firebase-heartbeat-database",m2=1,oc="firebase-heartbeat-store",My=null;function RT(){return My||(My=bT(p2,m2,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(oc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Gr.create("idb-open",{originalErrorMessage:n.message})})),My}function g2(n){return w(this,null,function*(){try{let t=(yield RT()).transaction(oc),r=yield t.objectStore(oc).get(MT(n));return yield t.done,r}catch(e){if(e instanceof Ut)nr.warn(e.message);else{let t=Gr.create("idb-get",{originalErrorMessage:e?.message});nr.warn(t.message)}}})}function TT(n,e){return w(this,null,function*(){try{let r=(yield RT()).transaction(oc,"readwrite");yield r.objectStore(oc).put(e,MT(n)),yield r.done}catch(t){if(t instanceof Ut)nr.warn(t.message);else{let r=Gr.create("idb-set",{originalErrorMessage:t?.message});nr.warn(r.message)}}})}function MT(n){return`${n.name}!${n.options.appId}`}var y2=1024,v2=30*24*60*60*1e3,Fy=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Ly(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=AT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=v2}),this._storage.overwrite(this._heartbeatsCache))}catch(r){nr.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=AT(),{heartbeatsToSend:r,unsentEntries:i}=_2(this._heartbeatsCache.heartbeats),o=nc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return nr.warn(t),""}})}};function AT(){return new Date().toISOString().substring(0,10)}function _2(n,e=y2){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),ST(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),ST(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Ly=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return by()?pT().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield g2(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return TT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return TT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function ST(n){return nc(JSON.stringify({version:2,heartbeats:n})).length}function I2(n){qr(new Yt("platform-logger",e=>new xy(e),"PRIVATE")),qr(new Yt("heartbeat",e=>new Fy(e),"PRIVATE")),Ze(Ny,DT,n),Ze(Ny,DT,"esm2017"),Ze("fire-js","")}I2("");var w2="firebase",E2="10.14.1";Ze(w2,E2,"app");var Ri=new Hn("ANGULARFIRE2_VERSION");function Ld(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var ac=(n,e)=>{let t=e?[e]:kd(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},es=class{constructor(){return ac(b2)}},b2="app-check";function Xo(){}var Fd=class{zone;delegate;constructor(e,t=pp){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,t,r)}},Uy=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xo,{},Xo,Xo)),t.pipe(We({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ts=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Fd(Zone.current)),this.insideAngular=t.run(()=>new Fd(Zone.current,fp)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(Q(Ee))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Vd(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function D2(n){return Vd().ngZone.runOutsideAngular(()=>n())}function Si(n){return Vd().ngZone.run(()=>n())}function C2(n){return T2(Vd())(n)}function T2(n){return function(t){return t=t.lift(new Uy(n.ngZone)),t.pipe(Er(n.outsideAngular),wr(n.insideAngular))}}var A2=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Si(()=>n.apply(void 0,r))},ir=(n,e)=>function(){let t,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(t||=Si(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xo,{},Xo,Xo))),r[o]=A2(r[o],t));let i=D2(()=>n.apply(this,r));if(!e)if(i instanceof ue){let o=Vd();return i.pipe(Er(o.outsideAngular),wr(o.insideAngular))}else return Si(()=>i);return i instanceof ue?i.pipe(C2):i instanceof Promise?Si(()=>new Promise((o,s)=>i.then(a=>Si(()=>o(a)),a=>Si(()=>s(a))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:Si(()=>i)};var or=class{constructor(e){return e}},Mi=class{constructor(){return kd()}};function S2(n){return n&&n.length===1?n[0]:new or(Zo())}var jy=new $("angularfire2._apps"),R2={provide:or,useFactory:S2,deps:[[new Tt,jy]]},M2={provide:Mi,deps:[[new Tt,jy]]};function x2(n){return(e,t)=>{let r=t.get(Wt);Ze("angularfire",Ri.full,"core"),Ze("angularfire",Ri.full,"app"),Ze("angular",wD.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new or(i)}}function xT(n,...e){return zt([R2,M2,{provide:jy,useFactory:x2(n),multi:!0,deps:[Ee,at,ts,...e]}])}var NT=ir(Vy,!0);function WT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var KT=WT,QT=new tr("auth","Firebase",WT());var zd=new zr("@firebase/auth");function N2(n,...e){zd.logLevel<=ye.WARN&&zd.warn(`Auth (${Wr}): ${n}`,...e)}function jd(n,...e){zd.logLevel<=ye.ERROR&&zd.error(`Auth (${Wr}): ${n}`,...e)}function Qr(n,...e){throw sv(n,...e)}function Ni(n,...e){return sv(n,...e)}function YT(n,e,t){let r=Object.assign(Object.assign({},KT()),{[e]:t});return new tr("auth","Firebase",r).create(e,{appName:n.name})}function xi(n){return YT(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sv(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return QT.create(n,...e)}function ne(n,e,...t){if(!n)throw sv(e,...t)}function sr(n){let e="INTERNAL ASSERTION FAILED: "+n;throw jd(e),new Error(e)}function Yr(n,e){n||sr(e)}function zy(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function P2(){return PT()==="http:"||PT()==="https:"}function PT(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function O2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(P2()||lT()||"connection"in navigator)?navigator.onLine:!0}function k2(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Pi=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Yr(t>e,"Short delay should be less than long delay!"),this.isMobile=cT()||dT()}get(){return O2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function av(n,e){Yr(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Gd=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var F2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var L2=new Pi(3e4,6e4);function cv(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function rs(o,s,a,u){return w(this,arguments,function*(n,e,t,r,i={}){return JT(n,i,()=>w(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=rc(Object.assign({key:n.config.apiKey},h)).slice(1),y=yield n._getAdditionalHeaders();y["Content-Type"]="application/json",n.languageCode&&(y["X-Firebase-Locale"]=n.languageCode);let g=Object.assign({method:e,headers:y},l);return uT()||(g.referrerPolicy="no-referrer"),Gd.fetch()(ZT(n,n.config.apiHost,t,p),g)}))})}function JT(n,e,t){return w(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},F2),e);try{let i=new Gy(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Ud(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ud(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Ud(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw Ud(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw YT(n,h,l);Qr(n,h)}}catch(i){if(i instanceof Ut)throw i;Qr(n,"network-request-failed",{message:String(i)})}})}function V2(o,s,a,u){return w(this,arguments,function*(n,e,t,r,i={}){let l=yield rs(n,e,t,r,i);return"mfaPendingCredential"in l&&Qr(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function ZT(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?av(n.config,i):`${n.config.apiScheme}://${i}`}var Gy=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ni(this.auth,"network-request-failed")),L2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Ud(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Ni(n,e,r);return i.customData._tokenResponse=t,i}function U2(n,e){return w(this,null,function*(){return rs(n,"POST","/v1/accounts:delete",e)})}function XT(n,e){return w(this,null,function*(){return rs(n,"POST","/v1/accounts:lookup",e)})}function cc(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function uv(n,e=!1){return w(this,null,function*(){let t=Mt(n),r=yield t.getIdToken(e),i=lv(r);ne(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:cc(By(i.auth_time)),issuedAtTime:cc(By(i.iat)),expirationTime:cc(By(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function By(n){return Number(n)*1e3}function lv(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return jd("JWT malformed, contained fewer than 3 sections"),null;try{let i=_y(t);return i?JSON.parse(i):(jd("Failed to decode base64 JWT payload"),null)}catch(i){return jd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function OT(n){let e=lv(n);return ne(e,"internal-error"),ne(typeof e.exp<"u","internal-error"),ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function lc(n,e,t=!1){return w(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Ut&&j2(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function j2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var qy=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),t)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var dc=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=cc(this.lastLoginAt),this.creationTime=cc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function qd(n){return w(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield lc(n,XT(t,{idToken:r}));ne(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?eA(o.providerUserInfo):[],a=B2(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new dc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function dv(n){return w(this,null,function*(){let e=Mt(n);yield qd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function B2(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function eA(n){return n.map(e=>{var{providerId:t}=e,r=mp(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function $2(n,e){return w(this,null,function*(){let t=yield JT(n,{},()=>w(this,null,function*(){let r=rc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=ZT(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Gd.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function H2(n,e){return w(this,null,function*(){return rs(n,"POST","/v2/accounts:revokeToken",cv(n,e))})}var uc=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ne(e.idToken,"internal-error"),ne(typeof e.idToken<"u","internal-error"),ne(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):OT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ne(e.length!==0,"internal-error");let t=OT(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return w(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield $2(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(ne(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ne(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ne(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return sr("not implemented")}};function Kr(n,e){ne(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var ns=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=mp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new dc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let t=yield lc(this,this.stsTokenManager.getToken(this.auth,e));return ne(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return uv(this,e)}reload(){return dv(this)}_assign(e){this!==e&&(ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield qd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(rr(this.auth.app))return Promise.reject(xi(this.auth));let e=yield this.getIdToken();return yield lc(this,U2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,y=(i=t.email)!==null&&i!==void 0?i:void 0,g=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,T=(s=t.photoURL)!==null&&s!==void 0?s:void 0,M=(a=t.tenantId)!==null&&a!==void 0?a:void 0,R=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,L=(l=t.createdAt)!==null&&l!==void 0?l:void 0,H=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:B,emailVerified:ie,isAnonymous:Te,providerData:J,stsTokenManager:E}=t;ne(B&&E,e,"internal-error");let v=uc.fromJSON(this.name,E);ne(typeof B=="string",e,"internal-error"),Kr(p,e.name),Kr(y,e.name),ne(typeof ie=="boolean",e,"internal-error"),ne(typeof Te=="boolean",e,"internal-error"),Kr(g,e.name),Kr(T,e.name),Kr(M,e.name),Kr(R,e.name),Kr(L,e.name),Kr(H,e.name);let _=new n({uid:B,auth:e,email:y,emailVerified:ie,displayName:p,isAnonymous:Te,photoURL:T,phoneNumber:g,tenantId:M,stsTokenManager:v,createdAt:L,lastLoginAt:H});return J&&Array.isArray(J)&&(_.providerData=J.map(b=>Object.assign({},b))),R&&(_._redirectEventId=R),_}static _fromIdTokenResponse(e,t,r=!1){return w(this,null,function*(){let i=new uc;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield qd(o),o})}static _fromGetAccountInfoResponse(e,t,r){return w(this,null,function*(){let i=t.users[0];ne(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?eA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new uc;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new dc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var kT=new Map;function ar(n){Yr(n instanceof Function,"Expected a class definition");let e=kT.get(n);return e?(Yr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,kT.set(n,e),e)}var z2=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(t,r){return w(this,null,function*(){this.storage[t]=r})}_get(t){return w(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return w(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Wy=z2;function Bd(n,e,t){return`firebase:${n}:${e}:${t}`}var Wd=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Bd(this.userKey,i.apiKey,o),this.fullPersistenceKey=Bd("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?ns._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return w(this,null,function*(){if(!t.length)return new n(ar(Wy),e,r);let i=(yield Promise.all(t.map(l=>w(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||ar(Wy),s=Bd(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(s);if(h){let p=ns._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>w(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function FT(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sA(e))return"Blackberry";if(aA(e))return"Webos";if(nA(e))return"Safari";if((e.includes("chrome/")||rA(e))&&!e.includes("edge/"))return"Chrome";if(oA(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function tA(n=rt()){return/firefox\//i.test(n)}function nA(n=rt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rA(n=rt()){return/crios\//i.test(n)}function iA(n=rt()){return/iemobile/i.test(n)}function oA(n=rt()){return/android/i.test(n)}function sA(n=rt()){return/blackberry/i.test(n)}function aA(n=rt()){return/webos/i.test(n)}function hv(n=rt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function G2(n=rt()){var e;return hv(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function q2(){return hT()&&document.documentMode===10}function cA(n=rt()){return hv(n)||oA(n)||aA(n)||sA(n)||/windows phone/i.test(n)||iA(n)}function uA(n,e=[]){let t;switch(n){case"Browser":t=FT(rt());break;case"Worker":t=`${FT(rt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Wr}/${r}`}var Ky=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function W2(t){return w(this,arguments,function*(n,e={}){return rs(n,"GET","/v2/passwordPolicy",cv(n,e))})}var K2=6,Qy=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:K2,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Yy=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kd(this),this.idTokenSubscription=new Kd(this),this.beforeStateQueue=new Ky(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ar(t)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Wd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let t=yield XT(this,{idToken:e}),r=yield ns._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var t;if(rr(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ne(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield qd(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=k2()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(rr(this.app))return Promise.reject(xi(this));let t=e?Mt(e):null;return t&&ne(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return w(this,null,function*(){if(!this._deleted)return e&&ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return rr(this.app)?Promise.reject(xi(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return rr(this.app)?Promise.reject(xi(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(ar(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield W2(this),t=new Qy(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new tr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield H2(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&ar(e)||this._popupRedirectResolver;ne(t,this,"argument-error"),this.redirectPersistenceManager=yield Wd.create(this,[ar(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ne(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return w(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&N2(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function fv(n){return Mt(n)}var Kd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=gT(t=>this.observer=t)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var pv={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Q2(n){pv=n}function Y2(n){return pv.loadJS(n)}function J2(){return pv.gapiScript}function lA(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function mv(n,e){let t=sc(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Ti(o,e??{}))return i;Qr(i,"already-initialized")}return t.initialize({options:e})}function Z2(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ar);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function gv(n,e,t){let r=fv(n);ne(r._canInitEmulator,r,"emulator-config-failed"),ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=dA(e),{host:s,port:a}=X2(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||eU()}function dA(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function X2(n){let e=dA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:LT(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:LT(s)}}}function LT(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function eU(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Qd=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return sr("not implemented")}_getIdTokenResponse(e){return sr("not implemented")}_linkToIdToken(e,t){return sr("not implemented")}_getReauthenticationResolver(e){return sr("not implemented")}};function $y(n,e){return w(this,null,function*(){return V2(n,"POST","/v1/accounts:signInWithIdp",cv(n,e))})}var Yd=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Jy=class extends Yd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var hc=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return w(this,null,function*(){let o=yield ns._fromIdTokenResponse(e,r,i),s=VT(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return w(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=VT(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function VT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var Zy=class n extends Ut{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function hA(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Zy._fromErrorAndOperation(n,o,e,r):o})}function tU(n,e,t=!1){return w(this,null,function*(){let r=yield lc(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return hc._forOperation(n,"link",r)})}function nU(n,e,t=!1){return w(this,null,function*(){let{auth:r}=n;if(rr(r.app))return Promise.reject(xi(r));let i="reauthenticate";try{let o=yield lc(n,hA(r,i,e,n),t);ne(o.idToken,r,"internal-error");let s=lv(o.idToken);ne(s,r,"internal-error");let{sub:a}=s;return ne(n.uid===a,r,"user-mismatch"),hc._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Qr(r,"user-mismatch"),o}})}function rU(n,e,t=!1){return w(this,null,function*(){if(rr(n.app))return Promise.reject(xi(n));let r="signIn",i=yield hA(n,r,e),o=yield hc._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function yv(n,e,t,r){return Mt(n).onIdTokenChanged(e,t,r)}function vv(n,e,t){return Mt(n).beforeAuthStateChanged(e,t)}var Jd="__sak";var Zd=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Jd,"1"),this.storage.removeItem(Jd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var iU=1e3,oU=10,sU=(()=>{class n extends Zd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);q2()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,oU):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},iU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return w(this,null,function*(){yield vr(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return w(this,null,function*(){let r=yield vr(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return w(this,null,function*(){yield vr(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),fA=sU;var aU=(()=>{class n extends Zd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),_v=aU;function cU(n){return Promise.all(n.map(e=>w(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var uU=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return w(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>w(this,null,function*(){return h(r.origin,s)})),l=yield cU(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function pA(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var Xy=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return w(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=pA("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let y=p;if(y.data.eventId===l)switch(y.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(y.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Tn(){return window}function lU(n){Tn().location.href=n}function mA(){return typeof Tn().WorkerGlobalScope<"u"&&typeof Tn().importScripts=="function"}function dU(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function hU(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function fU(){return mA()?self:null}var gA="firebaseLocalStorageDb",pU=1,Xd="firebaseLocalStorage",yA="fbase_key",Oi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function th(n,e){return n.transaction([Xd],e?"readwrite":"readonly").objectStore(Xd)}function mU(){let n=indexedDB.deleteDatabase(gA);return new Oi(n).toPromise()}function ev(){let n=indexedDB.open(gA,pU);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Xd,{keyPath:yA})}catch(i){t(i)}}),n.addEventListener("success",()=>w(this,null,function*(){let r=n.result;r.objectStoreNames.contains(Xd)?e(r):(r.close(),yield mU(),e(yield ev()))}))})}function UT(n,e,t){return w(this,null,function*(){let r=th(n,!0).put({[yA]:e,value:t});return new Oi(r).toPromise()})}function gU(n,e){return w(this,null,function*(){let t=th(n,!1).get(e),r=yield new Oi(t).toPromise();return r===void 0?null:r.value})}function jT(n,e){let t=th(n,!0).delete(e);return new Oi(t).toPromise()}var yU=800,vU=3,_U=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield ev(),this.db)})}_withRetries(t){return w(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>vU)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return mA()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=uU._getInstance(fU()),this.receiver._subscribe("keyChanged",(t,r)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var t,r;if(this.activeServiceWorker=yield dU(),!this.activeServiceWorker)return;this.sender=new Xy(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||hU()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let t=yield ev();return yield UT(t,Jd,"1"),yield jT(t,Jd),!0}catch{}return!1})}_withPendingWrite(t){return w(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>UT(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return w(this,null,function*(){let r=yield this._withRetries(i=>gU(i,t));return this.localCache[t]=r,r})}_remove(t){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(r=>jT(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return w(this,null,function*(){let t=yield this._withRetries(o=>{let s=th(o,!1).getAll();return new Oi(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),yU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),vA=_U;var L6=lA("rcb"),V6=new Pi(3e4,6e4);function IU(n,e){return e?ar(e):(ne(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var fc=class extends Qd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $y(e,this._buildIdpRequest())}_linkToIdToken(e,t){return $y(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return $y(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function wU(n){return rU(n.auth,new fc(n),n.bypassAuthState)}function EU(n){let{auth:e,user:t}=n;return ne(t,e,"internal-error"),nU(t,new fc(n),n.bypassAuthState)}function bU(n){return w(this,null,function*(){let{auth:e,user:t}=n;return ne(t,e,"internal-error"),tU(t,new fc(n),n.bypassAuthState)})}var tv=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wU;case"linkViaPopup":case"linkViaRedirect":return bU;case"reauthViaPopup":case"reauthViaRedirect":return EU;default:Qr(this.auth,"internal-error")}}resolve(e){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var U6=new Pi(2e3,1e4);var DU="pendingRedirect",$d=new Map,nv=class n extends tv{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return w(this,null,function*(){let e=$d.get(this.auth._key());if(!e){try{let r=(yield CU(this.resolver,this.auth))?yield vr(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}$d.set(this.auth._key(),e)}return this.bypassAuthState||$d.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return vr(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,vr(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function CU(n,e){return w(this,null,function*(){let t=SU(e),r=AU(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function TU(n,e){$d.set(n._key(),e)}function AU(n){return ar(n._redirectPersistence)}function SU(n){return Bd(DU,n.config.apiKey,n.name)}function RU(n,e,t=!1){return w(this,null,function*(){if(rr(n.app))return Promise.reject(xi(n));let r=fv(n),i=IU(r,e),s=yield new nv(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var MU=10*60*1e3,rv=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!xU(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!_A(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ni(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=MU&&this.cachedEventUids.clear(),this.cachedEventUids.has(BT(e))}saveEventToCache(e){this.cachedEventUids.add(BT(e)),this.lastProcessedEventTime=Date.now()}};function BT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function _A({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function xU(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _A(n);default:return!1}}function NU(t){return w(this,arguments,function*(n,e={}){return rs(n,"GET","/v1/projects",e)})}var PU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OU=/^https?/;function kU(n){return w(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield NU(n);for(let t of e)try{if(FU(t))return}catch{}Qr(n,"unauthorized-domain")})}function FU(n){let e=zy(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!OU.test(t))return!1;if(PU.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var LU=new Pi(3e4,6e4);function $T(){let n=Tn().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function VU(n){return new Promise((e,t)=>{var r,i,o;function s(){$T(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$T(),t(Ni(n,"network-request-failed"))},timeout:LU.get()})}if(!((i=(r=Tn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Tn().gapi)===null||o===void 0)&&o.load)s();else{let a=lA("iframefcb");return Tn()[a]=()=>{gapi.load?s():t(Ni(n,"network-request-failed"))},Y2(`${J2()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw Hd=null,e})}var Hd=null;function UU(n){return Hd=Hd||VU(n),Hd}var jU=new Pi(5e3,15e3),BU="__/auth/iframe",$U="emulator/auth/iframe",HU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GU(n){let e=n.config;ne(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?av(e,$U):`https://${n.config.authDomain}/${BU}`,r={apiKey:e.apiKey,appName:n.name,v:Wr},i=zU.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${rc(r).slice(1)}`}function qU(n){return w(this,null,function*(){let e=yield UU(n),t=Tn().gapi;return ne(t,n,"internal-error"),e.open({where:document.body,url:GU(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HU,dontclear:!0},r=>new Promise((i,o)=>w(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Ni(n,"network-request-failed"),a=Tn().setTimeout(()=>{o(s)},jU.get());function u(){Tn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var WU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KU=500,QU=600,YU="_blank",JU="http://localhost",eh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function ZU(n,e,t,r=KU,i=QU){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},WU),{width:r.toString(),height:i.toString(),top:o,left:s}),l=rt().toLowerCase();t&&(a=rA(l)?YU:t),tA(l)&&(e=e||JU,u.scrollbars="yes");let h=Object.entries(u).reduce((y,[g,T])=>`${y}${g}=${T},`,"");if(G2(l)&&a!=="_self")return XU(e||"",a),new eh(null);let p=window.open(e||"",a,h);ne(p,n,"popup-blocked");try{p.focus()}catch{}return new eh(p)}function XU(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var ej="__/auth/handler",tj="emulator/auth/handler",nj=encodeURIComponent("fac");function HT(n,e,t,r,i,o){return w(this,null,function*(){ne(n.config.authDomain,n,"auth-domain-config-required"),ne(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Wr,eventId:i};if(e instanceof Yd){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",mT(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof Jy){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield n._getAppCheckToken(),l=u?`#${nj}=${encodeURIComponent(u)}`:"";return`${rj(n)}?${rc(a).slice(1)}${l}`})}function rj({config:n}){return n.emulator?av(n,tj):`https://${n.authDomain}/${ej}`}var Hy="webStorageSupport",iv=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_v,this._completeRedirectFn=RU,this._overrideRedirectResult=TU}_openPopup(e,t,r,i){return w(this,null,function*(){var o;Yr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield HT(e,t,r,zy(),i);return ZU(e,s,pA())})}_openRedirect(e,t,r,i){return w(this,null,function*(){yield this._originValidation(e);let o=yield HT(e,t,r,zy(),i);return lU(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Yr(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return w(this,null,function*(){let t=yield qU(e),r=new rv(e);return t.register("authEvent",i=>(ne(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Hy,{type:Hy},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Hy];s!==void 0&&t(!!s),Qr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=kU(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return cA()||nA()||hv()}},IA=iv;var zT="@firebase/auth",GT="1.7.9";var ov=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function ij(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function oj(n){qr(new Yt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ne(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uA(n)},l=new Yy(r,i,o,u);return Z2(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),qr(new Yt("auth-internal",e=>{let t=fv(e.getProvider("auth").getImmediate());return(r=>new ov(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ze(zT,GT,ij(n)),Ze(zT,GT,"esm2017")}var sj=5*60,aj=Ey("authIdTokenMaxAge")||sj,qT=null,cj=n=>e=>w(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>aj)return;let i=t?.token;qT!==i&&(qT=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Iv(n=Zo()){let e=sc(n,"auth");if(e.isInitialized())return e.getImmediate();let t=mv(n,{popupRedirectResolver:IA,persistence:[vA,fA,_v]}),r=Ey("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=cj(o.toString());vv(t,s,()=>s(t.currentUser)),yv(t,a=>s(a))}}let i=Iy("auth");return i&&gv(t,`http://${i}`),t}function uj(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Q2({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Ni("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",uj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});oj("Browser");var wA="auth",pc=class{constructor(e){return e}},mc=class{constructor(){return ac(wA)}};var wv=new $("angularfire2.auth-instances");function rB(n,e){let t=Ld(wA,n,e);return t&&new pc(t)}function iB(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new pc(r)}}var oB={provide:mc,deps:[[new Tt,wv]]},sB={provide:pc,useFactory:rB,deps:[[new Tt,wv],or]};function EA(n,...e){return Ze("angularfire",Ri.full,"auth"),zt([sB,oB,{provide:wv,useFactory:iB(n),multi:!0,deps:[Ee,at,ts,Mi,[new Tt,es],...e]}])}var bA=ir(Iv,!0);var DA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},CA={};var Jr,Ev;(function(){var n;function e(E,v){function _(){}_.prototype=v.prototype,E.D=v.prototype,E.prototype=new _,E.prototype.constructor=E,E.C=function(b,D,A){for(var I=Array(arguments.length-2),On=2;On<arguments.length;On++)I[On-2]=arguments[On];return v.prototype[D].apply(b,I)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,v,_){_||(_=0);var b=Array(16);if(typeof v=="string")for(var D=0;16>D;++D)b[D]=v.charCodeAt(_++)|v.charCodeAt(_++)<<8|v.charCodeAt(_++)<<16|v.charCodeAt(_++)<<24;else for(D=0;16>D;++D)b[D]=v[_++]|v[_++]<<8|v[_++]<<16|v[_++]<<24;v=E.g[0],_=E.g[1],D=E.g[2];var A=E.g[3],I=v+(A^_&(D^A))+b[0]+3614090360&4294967295;v=_+(I<<7&4294967295|I>>>25),I=A+(D^v&(_^D))+b[1]+3905402710&4294967295,A=v+(I<<12&4294967295|I>>>20),I=D+(_^A&(v^_))+b[2]+606105819&4294967295,D=A+(I<<17&4294967295|I>>>15),I=_+(v^D&(A^v))+b[3]+3250441966&4294967295,_=D+(I<<22&4294967295|I>>>10),I=v+(A^_&(D^A))+b[4]+4118548399&4294967295,v=_+(I<<7&4294967295|I>>>25),I=A+(D^v&(_^D))+b[5]+1200080426&4294967295,A=v+(I<<12&4294967295|I>>>20),I=D+(_^A&(v^_))+b[6]+2821735955&4294967295,D=A+(I<<17&4294967295|I>>>15),I=_+(v^D&(A^v))+b[7]+4249261313&4294967295,_=D+(I<<22&4294967295|I>>>10),I=v+(A^_&(D^A))+b[8]+1770035416&4294967295,v=_+(I<<7&4294967295|I>>>25),I=A+(D^v&(_^D))+b[9]+2336552879&4294967295,A=v+(I<<12&4294967295|I>>>20),I=D+(_^A&(v^_))+b[10]+4294925233&4294967295,D=A+(I<<17&4294967295|I>>>15),I=_+(v^D&(A^v))+b[11]+2304563134&4294967295,_=D+(I<<22&4294967295|I>>>10),I=v+(A^_&(D^A))+b[12]+1804603682&4294967295,v=_+(I<<7&4294967295|I>>>25),I=A+(D^v&(_^D))+b[13]+4254626195&4294967295,A=v+(I<<12&4294967295|I>>>20),I=D+(_^A&(v^_))+b[14]+2792965006&4294967295,D=A+(I<<17&4294967295|I>>>15),I=_+(v^D&(A^v))+b[15]+1236535329&4294967295,_=D+(I<<22&4294967295|I>>>10),I=v+(D^A&(_^D))+b[1]+4129170786&4294967295,v=_+(I<<5&4294967295|I>>>27),I=A+(_^D&(v^_))+b[6]+3225465664&4294967295,A=v+(I<<9&4294967295|I>>>23),I=D+(v^_&(A^v))+b[11]+643717713&4294967295,D=A+(I<<14&4294967295|I>>>18),I=_+(A^v&(D^A))+b[0]+3921069994&4294967295,_=D+(I<<20&4294967295|I>>>12),I=v+(D^A&(_^D))+b[5]+3593408605&4294967295,v=_+(I<<5&4294967295|I>>>27),I=A+(_^D&(v^_))+b[10]+38016083&4294967295,A=v+(I<<9&4294967295|I>>>23),I=D+(v^_&(A^v))+b[15]+3634488961&4294967295,D=A+(I<<14&4294967295|I>>>18),I=_+(A^v&(D^A))+b[4]+3889429448&4294967295,_=D+(I<<20&4294967295|I>>>12),I=v+(D^A&(_^D))+b[9]+568446438&4294967295,v=_+(I<<5&4294967295|I>>>27),I=A+(_^D&(v^_))+b[14]+3275163606&4294967295,A=v+(I<<9&4294967295|I>>>23),I=D+(v^_&(A^v))+b[3]+4107603335&4294967295,D=A+(I<<14&4294967295|I>>>18),I=_+(A^v&(D^A))+b[8]+1163531501&4294967295,_=D+(I<<20&4294967295|I>>>12),I=v+(D^A&(_^D))+b[13]+2850285829&4294967295,v=_+(I<<5&4294967295|I>>>27),I=A+(_^D&(v^_))+b[2]+4243563512&4294967295,A=v+(I<<9&4294967295|I>>>23),I=D+(v^_&(A^v))+b[7]+1735328473&4294967295,D=A+(I<<14&4294967295|I>>>18),I=_+(A^v&(D^A))+b[12]+2368359562&4294967295,_=D+(I<<20&4294967295|I>>>12),I=v+(_^D^A)+b[5]+4294588738&4294967295,v=_+(I<<4&4294967295|I>>>28),I=A+(v^_^D)+b[8]+2272392833&4294967295,A=v+(I<<11&4294967295|I>>>21),I=D+(A^v^_)+b[11]+1839030562&4294967295,D=A+(I<<16&4294967295|I>>>16),I=_+(D^A^v)+b[14]+4259657740&4294967295,_=D+(I<<23&4294967295|I>>>9),I=v+(_^D^A)+b[1]+2763975236&4294967295,v=_+(I<<4&4294967295|I>>>28),I=A+(v^_^D)+b[4]+1272893353&4294967295,A=v+(I<<11&4294967295|I>>>21),I=D+(A^v^_)+b[7]+4139469664&4294967295,D=A+(I<<16&4294967295|I>>>16),I=_+(D^A^v)+b[10]+3200236656&4294967295,_=D+(I<<23&4294967295|I>>>9),I=v+(_^D^A)+b[13]+681279174&4294967295,v=_+(I<<4&4294967295|I>>>28),I=A+(v^_^D)+b[0]+3936430074&4294967295,A=v+(I<<11&4294967295|I>>>21),I=D+(A^v^_)+b[3]+3572445317&4294967295,D=A+(I<<16&4294967295|I>>>16),I=_+(D^A^v)+b[6]+76029189&4294967295,_=D+(I<<23&4294967295|I>>>9),I=v+(_^D^A)+b[9]+3654602809&4294967295,v=_+(I<<4&4294967295|I>>>28),I=A+(v^_^D)+b[12]+3873151461&4294967295,A=v+(I<<11&4294967295|I>>>21),I=D+(A^v^_)+b[15]+530742520&4294967295,D=A+(I<<16&4294967295|I>>>16),I=_+(D^A^v)+b[2]+3299628645&4294967295,_=D+(I<<23&4294967295|I>>>9),I=v+(D^(_|~A))+b[0]+4096336452&4294967295,v=_+(I<<6&4294967295|I>>>26),I=A+(_^(v|~D))+b[7]+1126891415&4294967295,A=v+(I<<10&4294967295|I>>>22),I=D+(v^(A|~_))+b[14]+2878612391&4294967295,D=A+(I<<15&4294967295|I>>>17),I=_+(A^(D|~v))+b[5]+4237533241&4294967295,_=D+(I<<21&4294967295|I>>>11),I=v+(D^(_|~A))+b[12]+1700485571&4294967295,v=_+(I<<6&4294967295|I>>>26),I=A+(_^(v|~D))+b[3]+2399980690&4294967295,A=v+(I<<10&4294967295|I>>>22),I=D+(v^(A|~_))+b[10]+4293915773&4294967295,D=A+(I<<15&4294967295|I>>>17),I=_+(A^(D|~v))+b[1]+2240044497&4294967295,_=D+(I<<21&4294967295|I>>>11),I=v+(D^(_|~A))+b[8]+1873313359&4294967295,v=_+(I<<6&4294967295|I>>>26),I=A+(_^(v|~D))+b[15]+4264355552&4294967295,A=v+(I<<10&4294967295|I>>>22),I=D+(v^(A|~_))+b[6]+2734768916&4294967295,D=A+(I<<15&4294967295|I>>>17),I=_+(A^(D|~v))+b[13]+1309151649&4294967295,_=D+(I<<21&4294967295|I>>>11),I=v+(D^(_|~A))+b[4]+4149444226&4294967295,v=_+(I<<6&4294967295|I>>>26),I=A+(_^(v|~D))+b[11]+3174756917&4294967295,A=v+(I<<10&4294967295|I>>>22),I=D+(v^(A|~_))+b[2]+718787259&4294967295,D=A+(I<<15&4294967295|I>>>17),I=_+(A^(D|~v))+b[9]+3951481745&4294967295,E.g[0]=E.g[0]+v&4294967295,E.g[1]=E.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,E.g[2]=E.g[2]+D&4294967295,E.g[3]=E.g[3]+A&4294967295}r.prototype.u=function(E,v){v===void 0&&(v=E.length);for(var _=v-this.blockSize,b=this.B,D=this.h,A=0;A<v;){if(D==0)for(;A<=_;)i(this,E,A),A+=this.blockSize;if(typeof E=="string"){for(;A<v;)if(b[D++]=E.charCodeAt(A++),D==this.blockSize){i(this,b),D=0;break}}else for(;A<v;)if(b[D++]=E[A++],D==this.blockSize){i(this,b),D=0;break}}this.h=D,this.o+=v},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var v=1;v<E.length-8;++v)E[v]=0;var _=8*this.o;for(v=E.length-8;v<E.length;++v)E[v]=_&255,_/=256;for(this.u(E),E=Array(16),v=_=0;4>v;++v)for(var b=0;32>b;b+=8)E[_++]=this.g[v]>>>b&255;return E};function o(E,v){var _=a;return Object.prototype.hasOwnProperty.call(_,E)?_[E]:_[E]=v(E)}function s(E,v){this.h=v;for(var _=[],b=!0,D=E.length-1;0<=D;D--){var A=E[D]|0;b&&A==v||(_[D]=A,b=!1)}this.g=_}var a={};function u(E){return-128<=E&&128>E?o(E,function(v){return new s([v|0],0>v?-1:0)}):new s([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return R(l(-E));for(var v=[],_=1,b=0;E>=_;b++)v[b]=E/_|0,_*=4294967296;return new s(v,0)}function h(E,v){if(E.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(E.charAt(0)=="-")return R(h(E.substring(1),v));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(v,8)),b=p,D=0;D<E.length;D+=8){var A=Math.min(8,E.length-D),I=parseInt(E.substring(D,D+A),v);8>A?(A=l(Math.pow(v,A)),b=b.j(A).add(l(I))):(b=b.j(_),b=b.add(l(I)))}return b}var p=u(0),y=u(1),g=u(16777216);n=s.prototype,n.m=function(){if(M(this))return-R(this).m();for(var E=0,v=1,_=0;_<this.g.length;_++){var b=this.i(_);E+=(0<=b?b:4294967296+b)*v,v*=4294967296}return E},n.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(T(this))return"0";if(M(this))return"-"+R(this).toString(E);for(var v=l(Math.pow(E,6)),_=this,b="";;){var D=ie(_,v).g;_=L(_,D.j(v));var A=((0<_.g.length?_.g[0]:_.h)>>>0).toString(E);if(_=D,T(_))return A+b;for(;6>A.length;)A="0"+A;b=A+b}},n.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function T(E){if(E.h!=0)return!1;for(var v=0;v<E.g.length;v++)if(E.g[v]!=0)return!1;return!0}function M(E){return E.h==-1}n.l=function(E){return E=L(this,E),M(E)?-1:T(E)?0:1};function R(E){for(var v=E.g.length,_=[],b=0;b<v;b++)_[b]=~E.g[b];return new s(_,~E.h).add(y)}n.abs=function(){return M(this)?R(this):this},n.add=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],b=0,D=0;D<=v;D++){var A=b+(this.i(D)&65535)+(E.i(D)&65535),I=(A>>>16)+(this.i(D)>>>16)+(E.i(D)>>>16);b=I>>>16,A&=65535,I&=65535,_[D]=I<<16|A}return new s(_,_[_.length-1]&-2147483648?-1:0)};function L(E,v){return E.add(R(v))}n.j=function(E){if(T(this)||T(E))return p;if(M(this))return M(E)?R(this).j(R(E)):R(R(this).j(E));if(M(E))return R(this.j(R(E)));if(0>this.l(g)&&0>E.l(g))return l(this.m()*E.m());for(var v=this.g.length+E.g.length,_=[],b=0;b<2*v;b++)_[b]=0;for(b=0;b<this.g.length;b++)for(var D=0;D<E.g.length;D++){var A=this.i(b)>>>16,I=this.i(b)&65535,On=E.i(D)>>>16,ks=E.i(D)&65535;_[2*b+2*D]+=I*ks,H(_,2*b+2*D),_[2*b+2*D+1]+=A*ks,H(_,2*b+2*D+1),_[2*b+2*D+1]+=I*On,H(_,2*b+2*D+1),_[2*b+2*D+2]+=A*On,H(_,2*b+2*D+2)}for(b=0;b<v;b++)_[b]=_[2*b+1]<<16|_[2*b];for(b=v;b<2*v;b++)_[b]=0;return new s(_,0)};function H(E,v){for(;(E[v]&65535)!=E[v];)E[v+1]+=E[v]>>>16,E[v]&=65535,v++}function B(E,v){this.g=E,this.h=v}function ie(E,v){if(T(v))throw Error("division by zero");if(T(E))return new B(p,p);if(M(E))return v=ie(R(E),v),new B(R(v.g),R(v.h));if(M(v))return v=ie(E,R(v)),new B(R(v.g),v.h);if(30<E.g.length){if(M(E)||M(v))throw Error("slowDivide_ only works with positive integers.");for(var _=y,b=v;0>=b.l(E);)_=Te(_),b=Te(b);var D=J(_,1),A=J(b,1);for(b=J(b,2),_=J(_,2);!T(b);){var I=A.add(b);0>=I.l(E)&&(D=D.add(_),A=I),b=J(b,1),_=J(_,1)}return v=L(E,D.j(v)),new B(D,v)}for(D=p;0<=E.l(v);){for(_=Math.max(1,Math.floor(E.m()/v.m())),b=Math.ceil(Math.log(_)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),A=l(_),I=A.j(v);M(I)||0<I.l(E);)_-=b,A=l(_),I=A.j(v);T(A)&&(A=y),D=D.add(A),E=L(E,I)}return new B(D,E)}n.A=function(E){return ie(this,E).h},n.and=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],b=0;b<v;b++)_[b]=this.i(b)&E.i(b);return new s(_,this.h&E.h)},n.or=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],b=0;b<v;b++)_[b]=this.i(b)|E.i(b);return new s(_,this.h|E.h)},n.xor=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],b=0;b<v;b++)_[b]=this.i(b)^E.i(b);return new s(_,this.h^E.h)};function Te(E){for(var v=E.g.length+1,_=[],b=0;b<v;b++)_[b]=E.i(b)<<1|E.i(b-1)>>>31;return new s(_,E.h)}function J(E,v){var _=v>>5;v%=32;for(var b=E.g.length-_,D=[],A=0;A<b;A++)D[A]=0<v?E.i(A+_)>>>v|E.i(A+_+1)<<32-v:E.i(A+_);return new s(D,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Ev=CA.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Jr=CA.Integer=s}).apply(typeof DA<"u"?DA:typeof self<"u"?self:typeof window<"u"?window:{});var nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},cr={};var bv,aB,is,Dv,gc,rh,Cv,Tv,Av;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof nh=="object"&&nh];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var C=c[m];if(!(C in f))break e;f=f[C]}c=c[c.length-1],m=f[c],d=d(m),d!=m&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,m=!1,C={next:function(){if(!m&&f<c.length){var S=f++;return{value:d(S,c[S]),done:!1}}return m=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,m),c.apply(d,C)}}return function(){return c.apply(d,arguments)}}function y(c,d,f){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,y.apply(null,arguments)}function g(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function T(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(m,C,S){for(var U=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)U[Oe-2]=arguments[Oe];return d.prototype[C].apply(m,U)}}function M(c){let d=c.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=c[m];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(u(m)){let C=c.length||0,S=m.length||0;c.length=C+S;for(let U=0;U<S;U++)c[C+U]=m[U]}else c.push(m)}}class L{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function H(c){return/^[\s\xa0]*$/.test(c)}function B(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function ie(c){return ie[" "](c),c}ie[" "]=function(){};var Te=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function J(c,d,f){for(let m in c)d.call(f,c[m],m,c)}function E(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(c,d){let f,m;for(let C=1;C<arguments.length;C++){m=arguments[C];for(f in m)c[f]=m[f];for(let S=0;S<_.length;S++)f=_[S],Object.prototype.hasOwnProperty.call(m,f)&&(c[f]=m[f])}}function D(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function A(c){a.setTimeout(()=>{throw c},0)}function I(){var c=Tf;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class On{constructor(){this.h=this.g=null}add(d,f){let m=ks.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var ks=new L(()=>new eM,c=>c.reset());class eM{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Fs,Ls=!1,Tf=new On,BI=()=>{let c=a.Promise.resolve(void 0);Fs=()=>{c.then(tM)}};var tM=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(f){A(f)}var d=ks;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Ls=!1};function pr(){this.s=this.s,this.C=this.C}pr.prototype.s=!1,pr.prototype.ma=function(){this.s||(this.s=!0,this.N())},pr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ut(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}ut.prototype.h=function(){this.defaultPrevented=!0};var nM=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Vs(c,d){if(ut.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Te){e:{try{ie(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:rM[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Vs.aa.h.call(this)}}T(Vs,ut);var rM={2:"touch",3:"pen",4:"mouse"};Vs.prototype.h=function(){Vs.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Us="closure_listenable_"+(1e6*Math.random()|0),iM=0;function oM(c,d,f,m,C){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=C,this.key=++iM,this.da=this.fa=!1}function Kc(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Qc(c){this.src=c,this.g={},this.h=0}Qc.prototype.add=function(c,d,f,m,C){var S=c.toString();c=this.g[S],c||(c=this.g[S]=[],this.h++);var U=Sf(c,d,m,C);return-1<U?(d=c[U],f||(d.fa=!1)):(d=new oM(d,this.src,S,!!m,C),d.fa=f,c.push(d)),d};function Af(c,d){var f=d.type;if(f in c.g){var m=c.g[f],C=Array.prototype.indexOf.call(m,d,void 0),S;(S=0<=C)&&Array.prototype.splice.call(m,C,1),S&&(Kc(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Sf(c,d,f,m){for(var C=0;C<c.length;++C){var S=c[C];if(!S.da&&S.listener==d&&S.capture==!!f&&S.ha==m)return C}return-1}var Rf="closure_lm_"+(1e6*Math.random()|0),Mf={};function $I(c,d,f,m,C){if(m&&m.once)return zI(c,d,f,m,C);if(Array.isArray(d)){for(var S=0;S<d.length;S++)$I(c,d[S],f,m,C);return null}return f=Of(f),c&&c[Us]?c.K(d,f,l(m)?!!m.capture:!!m,C):HI(c,d,f,!1,m,C)}function HI(c,d,f,m,C,S){if(!d)throw Error("Invalid event type");var U=l(C)?!!C.capture:!!C,Oe=Nf(c);if(Oe||(c[Rf]=Oe=new Qc(c)),f=Oe.add(d,f,m,U,S),f.proxy)return f;if(m=sM(),f.proxy=m,m.src=c,m.listener=f,c.addEventListener)nM||(C=U),C===void 0&&(C=!1),c.addEventListener(d.toString(),m,C);else if(c.attachEvent)c.attachEvent(qI(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function sM(){function c(f){return d.call(c.src,c.listener,f)}let d=aM;return c}function zI(c,d,f,m,C){if(Array.isArray(d)){for(var S=0;S<d.length;S++)zI(c,d[S],f,m,C);return null}return f=Of(f),c&&c[Us]?c.L(d,f,l(m)?!!m.capture:!!m,C):HI(c,d,f,!0,m,C)}function GI(c,d,f,m,C){if(Array.isArray(d))for(var S=0;S<d.length;S++)GI(c,d[S],f,m,C);else m=l(m)?!!m.capture:!!m,f=Of(f),c&&c[Us]?(c=c.i,d=String(d).toString(),d in c.g&&(S=c.g[d],f=Sf(S,f,m,C),-1<f&&(Kc(S[f]),Array.prototype.splice.call(S,f,1),S.length==0&&(delete c.g[d],c.h--)))):c&&(c=Nf(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Sf(d,f,m,C)),(f=-1<c?d[c]:null)&&xf(f))}function xf(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Us])Af(d.i,c);else{var f=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(f,m,c.capture):d.detachEvent?d.detachEvent(qI(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=Nf(d))?(Af(f,c),f.h==0&&(f.src=null,d[Rf]=null)):Kc(c)}}}function qI(c){return c in Mf?Mf[c]:Mf[c]="on"+c}function aM(c,d){if(c.da)c=!0;else{d=new Vs(d,this);var f=c.listener,m=c.ha||c.src;c.fa&&xf(c),c=f.call(m,d)}return c}function Nf(c){return c=c[Rf],c instanceof Qc?c:null}var Pf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Of(c){return typeof c=="function"?c:(c[Pf]||(c[Pf]=function(d){return c.handleEvent(d)}),c[Pf])}function lt(){pr.call(this),this.i=new Qc(this),this.M=this,this.F=null}T(lt,pr),lt.prototype[Us]=!0,lt.prototype.removeEventListener=function(c,d,f,m){GI(this,c,d,f,m)};function vt(c,d){var f,m=c.F;if(m)for(f=[];m;m=m.F)f.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new ut(d,c);else if(d instanceof ut)d.target=d.target||c;else{var C=d;d=new ut(m,c),b(d,C)}if(C=!0,f)for(var S=f.length-1;0<=S;S--){var U=d.g=f[S];C=Yc(U,m,!0,d)&&C}if(U=d.g=c,C=Yc(U,m,!0,d)&&C,C=Yc(U,m,!1,d)&&C,f)for(S=0;S<f.length;S++)U=d.g=f[S],C=Yc(U,m,!1,d)&&C}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],m=0;m<f.length;m++)Kc(f[m]);delete c.g[d],c.h--}}this.F=null},lt.prototype.K=function(c,d,f,m){return this.i.add(String(c),d,!1,f,m)},lt.prototype.L=function(c,d,f,m){return this.i.add(String(c),d,!0,f,m)};function Yc(c,d,f,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,S=0;S<d.length;++S){var U=d[S];if(U&&!U.da&&U.capture==f){var Oe=U.listener,ot=U.ha||U.src;U.fa&&Af(c.i,U),C=Oe.call(ot,m)!==!1&&C}}return C&&!m.defaultPrevented}function WI(c,d,f){if(typeof c=="function")f&&(c=y(c,f));else if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function KI(c){c.g=WI(()=>{c.g=null,c.i&&(c.i=!1,KI(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class cM extends pr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:KI(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function js(c){pr.call(this),this.h=c,this.g={}}T(js,pr);var QI=[];function YI(c){J(c.g,function(d,f){this.g.hasOwnProperty(f)&&xf(d)},c),c.g={}}js.prototype.N=function(){js.aa.N.call(this),YI(this)},js.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var kf=a.JSON.stringify,uM=a.JSON.parse,lM=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Ff(){}Ff.prototype.h=null;function JI(c){return c.h||(c.h=c.i())}function ZI(){}var Bs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Lf(){ut.call(this,"d")}T(Lf,ut);function Vf(){ut.call(this,"c")}T(Vf,ut);var ii={},XI=null;function Jc(){return XI=XI||new lt}ii.La="serverreachability";function ew(c){ut.call(this,ii.La,c)}T(ew,ut);function $s(c){let d=Jc();vt(d,new ew(d))}ii.STAT_EVENT="statevent";function tw(c,d){ut.call(this,ii.STAT_EVENT,c),this.stat=d}T(tw,ut);function _t(c){let d=Jc();vt(d,new tw(d,c))}ii.Ma="timingevent";function nw(c,d){ut.call(this,ii.Ma,c),this.size=d}T(nw,ut);function Hs(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function zs(){this.g=!0}zs.prototype.xa=function(){this.g=!1};function dM(c,d,f,m,C,S){c.info(function(){if(c.g)if(S)for(var U="",Oe=S.split("&"),ot=0;ot<Oe.length;ot++){var we=Oe[ot].split("=");if(1<we.length){var dt=we[0];we=we[1];var ht=dt.split("_");U=2<=ht.length&&ht[1]=="type"?U+(dt+"="+we+"&"):U+(dt+"=redacted&")}}else U=null;else U=S;return"XMLHTTP REQ ("+m+") [attempt "+C+"]: "+d+`
`+f+`
`+U})}function hM(c,d,f,m,C,S,U){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+C+"]: "+d+`
`+f+`
`+S+" "+U})}function Wi(c,d,f,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+pM(c,f)+(m?" "+m:"")})}function fM(c,d){c.info(function(){return"TIMEOUT: "+d})}zs.prototype.info=function(){};function pM(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var m=f[c];if(!(2>m.length)){var C=m[1];if(Array.isArray(C)&&!(1>C.length)){var S=C[0];if(S!="noop"&&S!="stop"&&S!="close")for(var U=1;U<C.length;U++)C[U]=""}}}}return kf(f)}catch{return d}}var Zc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},rw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Uf;function Xc(){}T(Xc,Ff),Xc.prototype.g=function(){return new XMLHttpRequest},Xc.prototype.i=function(){return{}},Uf=new Xc;function mr(c,d,f,m){this.j=c,this.i=d,this.l=f,this.R=m||1,this.U=new js(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new iw}function iw(){this.i=null,this.g="",this.h=!1}var ow={},jf={};function Bf(c,d,f){c.L=1,c.v=ru(kn(d)),c.m=f,c.P=!0,sw(c,null)}function sw(c,d){c.F=Date.now(),eu(c),c.A=kn(c.v);var f=c.A,m=c.R;Array.isArray(m)||(m=[String(m)]),Iw(f.i,"t",m),c.C=0,f=c.j.J,c.h=new iw,c.g=Vw(c.j,f?d:null,!c.m),0<c.O&&(c.M=new cM(y(c.Y,c,c.g),c.O)),d=c.U,f=c.g,m=c.ca;var C="readystatechange";Array.isArray(C)||(C&&(QI[0]=C.toString()),C=QI);for(var S=0;S<C.length;S++){var U=$I(f,C[S],m||d.handleEvent,!1,d.h||d);if(!U)break;d.g[U.key]=U}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),$s(),dM(c.i,c.u,c.A,c.l,c.R,c.m)}mr.prototype.ca=function(c){c=c.target;let d=this.M;d&&Fn(c)==3?d.j():this.Y(c)},mr.prototype.Y=function(c){try{if(c==this.g)e:{let ht=Fn(this.g);var d=this.g.Ba();let Yi=this.g.Z();if(!(3>ht)&&(ht!=3||this.g&&(this.h.h||this.g.oa()||Aw(this.g)))){this.J||ht!=4||d==7||(d==8||0>=Yi?$s(3):$s(2)),$f(this);var f=this.g.Z();this.X=f;t:if(aw(this)){var m=Aw(this.g);c="";var C=m.length,S=Fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){oi(this),Gs(this);var U="";break t}this.h.i=new a.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,c+=this.h.i.decode(m[d],{stream:!(S&&d==C-1)});m.length=0,this.h.g+=c,this.C=0,U=this.h.g}else U=this.g.oa();if(this.o=f==200,hM(this.i,this.u,this.A,this.l,this.R,ht,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Oe,ot=this.g;if((Oe=ot.g?ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(Oe)){var we=Oe;break t}}we=null}if(f=we)Wi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hf(this,f);else{this.o=!1,this.s=3,_t(12),oi(this),Gs(this);break e}}if(this.P){f=!0;let Zt;for(;!this.J&&this.C<U.length;)if(Zt=mM(this,U),Zt==jf){ht==4&&(this.s=4,_t(14),f=!1),Wi(this.i,this.l,null,"[Incomplete Response]");break}else if(Zt==ow){this.s=4,_t(15),Wi(this.i,this.l,U,"[Invalid Chunk]"),f=!1;break}else Wi(this.i,this.l,Zt,null),Hf(this,Zt);if(aw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ht!=4||U.length!=0||this.h.h||(this.s=1,_t(16),f=!1),this.o=this.o&&f,!f)Wi(this.i,this.l,U,"[Invalid Chunked Response]"),oi(this),Gs(this);else if(0<U.length&&!this.W){this.W=!0;var dt=this.j;dt.g==this&&dt.ba&&!dt.M&&(dt.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),Qf(dt),dt.M=!0,_t(11))}}else Wi(this.i,this.l,U,null),Hf(this,U);ht==4&&oi(this),this.o&&!this.J&&(ht==4?Ow(this.j,this):(this.o=!1,eu(this)))}else NM(this.g),f==400&&0<U.indexOf("Unknown SID")?(this.s=3,_t(12)):(this.s=0,_t(13)),oi(this),Gs(this)}}}catch{}finally{}};function aw(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function mM(c,d){var f=c.C,m=d.indexOf(`
`,f);return m==-1?jf:(f=Number(d.substring(f,m)),isNaN(f)?ow:(m+=1,m+f>d.length?jf:(d=d.slice(m,m+f),c.C=m+f,d)))}mr.prototype.cancel=function(){this.J=!0,oi(this)};function eu(c){c.S=Date.now()+c.I,cw(c,c.I)}function cw(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Hs(y(c.ba,c),d)}function $f(c){c.B&&(a.clearTimeout(c.B),c.B=null)}mr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(fM(this.i,this.A),this.L!=2&&($s(),_t(17)),oi(this),this.s=2,Gs(this)):cw(this,this.S-c)};function Gs(c){c.j.G==0||c.J||Ow(c.j,c)}function oi(c){$f(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,YI(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Hf(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||zf(f.h,c))){if(!c.K&&zf(f.h,c)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var C=m;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)cu(f),su(f);else break e;Kf(f),_t(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=Hs(y(f.Za,f),6e3));if(1>=dw(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else ai(f,11)}else if((c.K||f.g==c)&&cu(f),!H(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let we=C[d];if(f.T=we[0],we=we[1],f.G==2)if(we[0]=="c"){f.K=we[1],f.ia=we[2];let dt=we[3];dt!=null&&(f.la=dt,f.j.info("VER="+f.la));let ht=we[4];ht!=null&&(f.Aa=ht,f.j.info("SVER="+f.Aa));let Yi=we[5];Yi!=null&&typeof Yi=="number"&&0<Yi&&(m=1.5*Yi,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let Zt=c.g;if(Zt){let lu=Zt.g?Zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(lu){var S=m.h;S.g||lu.indexOf("spdy")==-1&&lu.indexOf("quic")==-1&&lu.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(Gf(S,S.h),S.h=null))}if(m.D){let Yf=Zt.g?Zt.g.getResponseHeader("X-HTTP-Session-Id"):null;Yf&&(m.ya=Yf,Ve(m.I,m.D,Yf))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var U=c;if(m.qa=Lw(m,m.J?m.ia:null,m.W),U.K){hw(m.h,U);var Oe=U,ot=m.L;ot&&(Oe.I=ot),Oe.B&&($f(Oe),eu(Oe)),m.g=U}else Nw(m);0<f.i.length&&au(f)}else we[0]!="stop"&&we[0]!="close"||ai(f,7);else f.G==3&&(we[0]=="stop"||we[0]=="close"?we[0]=="stop"?ai(f,7):Wf(f):we[0]!="noop"&&f.l&&f.l.ta(we),f.v=0)}}$s(4)}catch{}}var gM=class{constructor(c,d){this.g=c,this.map=d}};function uw(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function lw(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function dw(c){return c.h?1:c.g?c.g.size:0}function zf(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Gf(c,d){c.g?c.g.add(d):c.h=d}function hw(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}uw.prototype.cancel=function(){if(this.i=fw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function fw(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return M(c.i)}function yM(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,m=0;m<f;m++)d.push(c[m]);return d}d=[],f=0;for(m in c)d[f++]=c[m];return d}function vM(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let m in c)d[f++]=m;return d}}}function pw(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=vM(c),m=yM(c),C=m.length,S=0;S<C;S++)d.call(void 0,m[S],f&&f[S],c)}var mw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _M(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var m=c[f].indexOf("="),C=null;if(0<=m){var S=c[f].substring(0,m);C=c[f].substring(m+1)}else S=c[f];d(S,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function si(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof si){this.h=c.h,tu(this,c.j),this.o=c.o,this.g=c.g,nu(this,c.s),this.l=c.l;var d=c.i,f=new Ks;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),gw(this,f),this.m=c.m}else c&&(d=String(c).match(mw))?(this.h=!1,tu(this,d[1]||"",!0),this.o=qs(d[2]||""),this.g=qs(d[3]||"",!0),nu(this,d[4]),this.l=qs(d[5]||"",!0),gw(this,d[6]||"",!0),this.m=qs(d[7]||"")):(this.h=!1,this.i=new Ks(null,this.h))}si.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Ws(d,yw,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Ws(d,yw,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Ws(f,f.charAt(0)=="/"?EM:wM,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Ws(f,DM)),c.join("")};function kn(c){return new si(c)}function tu(c,d,f){c.j=f?qs(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function nu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function gw(c,d,f){d instanceof Ks?(c.i=d,CM(c.i,c.h)):(f||(d=Ws(d,bM)),c.i=new Ks(d,c.h))}function Ve(c,d,f){c.i.set(d,f)}function ru(c){return Ve(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function qs(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ws(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,IM),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function IM(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var yw=/[#\/\?@]/g,wM=/[#\?:]/g,EM=/[#\?]/g,bM=/[#\?@]/g,DM=/#/g;function Ks(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function gr(c){c.g||(c.g=new Map,c.h=0,c.i&&_M(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=Ks.prototype,n.add=function(c,d){gr(this),this.i=null,c=Ki(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function vw(c,d){gr(c),d=Ki(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function _w(c,d){return gr(c),d=Ki(c,d),c.g.has(d)}n.forEach=function(c,d){gr(this),this.g.forEach(function(f,m){f.forEach(function(C){c.call(d,C,m,this)},this)},this)},n.na=function(){gr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let C=c[m];for(let S=0;S<C.length;S++)f.push(d[m])}return f},n.V=function(c){gr(this);let d=[];if(typeof c=="string")_w(this,c)&&(d=d.concat(this.g.get(Ki(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return gr(this),this.i=null,c=Ki(this,c),_w(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function Iw(c,d,f){vw(c,d),0<f.length&&(c.i=null,c.g.set(Ki(c,d),M(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let S=encodeURIComponent(String(m)),U=this.V(m);for(m=0;m<U.length;m++){var C=S;U[m]!==""&&(C+="="+encodeURIComponent(String(U[m]))),c.push(C)}}return this.i=c.join("&")};function Ki(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function CM(c,d){d&&!c.j&&(gr(c),c.i=null,c.g.forEach(function(f,m){var C=m.toLowerCase();m!=C&&(vw(this,m),Iw(this,C,f))},c)),c.j=d}function TM(c,d){let f=new zs;if(a.Image){let m=new Image;m.onload=g(yr,f,"TestLoadImage: loaded",!0,d,m),m.onerror=g(yr,f,"TestLoadImage: error",!1,d,m),m.onabort=g(yr,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=g(yr,f,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function AM(c,d){let f=new zs,m=new AbortController,C=setTimeout(()=>{m.abort(),yr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(S=>{clearTimeout(C),S.ok?yr(f,"TestPingServer: ok",!0,d):yr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),yr(f,"TestPingServer: error",!1,d)})}function yr(c,d,f,m,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),m(f)}catch{}}function SM(){this.g=new lM}function RM(c,d,f){let m=f||"";try{pw(c,function(C,S){let U=C;l(C)&&(U=kf(C)),d.push(m+S+"="+encodeURIComponent(U))})}catch(C){throw d.push(m+"type="+encodeURIComponent("_badmap")),C}}function Qs(c){this.l=c.Ub||null,this.j=c.eb||!1}T(Qs,Ff),Qs.prototype.g=function(){return new iu(this.l,this.j)},Qs.prototype.i=function(c){return function(){return c}}({});function iu(c,d){lt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(iu,lt),n=iu.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Js(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ys(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Js(this)),this.g&&(this.readyState=3,Js(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ww(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ww(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Ys(this):Js(this),this.readyState==3&&ww(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Ys(this))},n.Qa=function(c){this.g&&(this.response=c,Ys(this))},n.ga=function(){this.g&&Ys(this)};function Ys(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Js(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Js(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(iu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ew(c){let d="";return J(c,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function qf(c,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=Ew(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Ve(c,d,f))}function je(c){lt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(je,lt);var MM=/^https?$/i,xM=["POST","PUT"];n=je.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Uf.g(),this.v=this.o?JI(this.o):JI(Uf),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(S){bw(this,S);return}if(c=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var C in m)f.set(C,m[C]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let S of m.keys())f.set(S,m.get(S));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(S=>S.toLowerCase()=="content-type"),C=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(xM,d,void 0))||m||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,U]of f)this.g.setRequestHeader(S,U);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Tw(this),this.u=!0,this.g.send(c),this.u=!1}catch(S){bw(this,S)}};function bw(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,Dw(c),ou(c)}function Dw(c){c.A||(c.A=!0,vt(c,"complete"),vt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,vt(this,"complete"),vt(this,"abort"),ou(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ou(this,!0)),je.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Cw(this):this.bb())},n.bb=function(){Cw(this)};function Cw(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Fn(c)!=4||c.Z()!=2)){if(c.u&&Fn(c)==4)WI(c.Ea,0,c);else if(vt(c,"readystatechange"),Fn(c)==4){c.h=!1;try{let U=c.Z();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=U===0){var C=String(c.D).match(mw)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),m=!MM.test(C?C.toLowerCase():"")}f=m}if(f)vt(c,"complete"),vt(c,"success");else{c.m=6;try{var S=2<Fn(c)?c.g.statusText:""}catch{S=""}c.l=S+" ["+c.Z()+"]",Dw(c)}}finally{ou(c)}}}}function ou(c,d){if(c.g){Tw(c);let f=c.g,m=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||vt(c,"ready");try{f.onreadystatechange=m}catch{}}}function Tw(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Fn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Fn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),uM(d)}};function Aw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function NM(c){let d={};c=(c.g&&2<=Fn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(H(c[m]))continue;var f=D(c[m]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let S=d[C]||[];d[C]=S,S.push(f)}E(d,function(m){return m.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zs(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function Sw(c){this.Aa=0,this.i=[],this.j=new zs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zs("baseRetryDelayMs",5e3,c),this.cb=Zs("retryDelaySeedMs",1e4,c),this.Wa=Zs("forwardChannelMaxRetries",2,c),this.wa=Zs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new uw(c&&c.concurrentRequestLimit),this.Da=new SM,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Sw.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,m){_t(0),this.W=c,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=Lw(this,null,this.W),au(this)};function Wf(c){if(Rw(c),c.G==3){var d=c.U++,f=kn(c.I);if(Ve(f,"SID",c.K),Ve(f,"RID",d),Ve(f,"TYPE","terminate"),Xs(c,f),d=new mr(c,c.j,d),d.L=2,d.v=ru(kn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=Vw(d.j,null),d.g.ea(d.v)),d.F=Date.now(),eu(d)}Fw(c)}function su(c){c.g&&(Qf(c),c.g.cancel(),c.g=null)}function Rw(c){su(c),c.u&&(a.clearTimeout(c.u),c.u=null),cu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function au(c){if(!lw(c.h)&&!c.s){c.s=!0;var d=c.Ga;Fs||BI(),Ls||(Fs(),Ls=!0),Tf.add(d,c),c.B=0}}function PM(c,d){return dw(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Hs(y(c.Ga,c,d),kw(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let C=new mr(this,this.j,c),S=this.o;if(this.S&&(S?(S=v(S),b(S,this.S)):S=this.S),this.m!==null||this.O||(C.H=S,S=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=xw(this,C,d),f=kn(this.I),Ve(f,"RID",c),Ve(f,"CVER",22),this.D&&Ve(f,"X-HTTP-Session-Id",this.D),Xs(this,f),S&&(this.O?d="headers="+encodeURIComponent(String(Ew(S)))+"&"+d:this.m&&qf(f,this.m,S)),Gf(this.h,C),this.Ua&&Ve(f,"TYPE","init"),this.P?(Ve(f,"$req",d),Ve(f,"SID","null"),C.T=!0,Bf(C,f,null)):Bf(C,f,d),this.G=2}}else this.G==3&&(c?Mw(this,c):this.i.length==0||lw(this.h)||Mw(this))};function Mw(c,d){var f;d?f=d.l:f=c.U++;let m=kn(c.I);Ve(m,"SID",c.K),Ve(m,"RID",f),Ve(m,"AID",c.T),Xs(c,m),c.m&&c.o&&qf(m,c.m,c.o),f=new mr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=xw(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Gf(c.h,f),Bf(f,m,d)}function Xs(c,d){c.H&&J(c.H,function(f,m){Ve(d,m,f)}),c.l&&pw({},function(f,m){Ve(d,m,f)})}function xw(c,d,f){f=Math.min(c.i.length,f);var m=c.l?y(c.l.Na,c.l,c):null;e:{var C=c.i;let S=-1;for(;;){let U=["count="+f];S==-1?0<f?(S=C[0].g,U.push("ofs="+S)):S=0:U.push("ofs="+S);let Oe=!0;for(let ot=0;ot<f;ot++){let we=C[ot].g,dt=C[ot].map;if(we-=S,0>we)S=Math.max(0,C[ot].g-100),Oe=!1;else try{RM(dt,U,"req"+we+"_")}catch{m&&m(dt)}}if(Oe){m=U.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,m}function Nw(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Fs||BI(),Ls||(Fs(),Ls=!0),Tf.add(d,c),c.v=0}}function Kf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Hs(y(c.Fa,c),kw(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Pw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Hs(y(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_t(10),su(this),Pw(this))};function Qf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Pw(c){c.g=new mr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=kn(c.qa);Ve(d,"RID","rpc"),Ve(d,"SID",c.K),Ve(d,"AID",c.T),Ve(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ve(d,"TO",c.ja),Ve(d,"TYPE","xmlhttp"),Xs(c,d),c.m&&c.o&&qf(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=ru(kn(d)),f.m=null,f.P=!0,sw(f,c)}n.Za=function(){this.C!=null&&(this.C=null,su(this),Kf(this),_t(19))};function cu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Ow(c,d){var f=null;if(c.g==d){cu(c),Qf(c),c.g=null;var m=2}else if(zf(c.h,d))f=d.D,hw(c.h,d),m=1;else return;if(c.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=c.B;m=Jc(),vt(m,new nw(m,f)),au(c)}else Nw(c);else if(C=d.s,C==3||C==0&&0<d.X||!(m==1&&PM(c,d)||m==2&&Kf(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),C){case 1:ai(c,5);break;case 4:ai(c,10);break;case 3:ai(c,6);break;default:ai(c,2)}}}function kw(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function ai(c,d){if(c.j.info("Error code "+d),d==2){var f=y(c.fb,c),m=c.Xa;let C=!m;m=new si(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||tu(m,"https"),ru(m),C?TM(m.toString(),f):AM(m.toString(),f)}else _t(2);c.G=0,c.l&&c.l.sa(d),Fw(c),Rw(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function Fw(c){if(c.G=0,c.ka=[],c.l){let d=fw(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function Lw(c,d,f){var m=f instanceof si?kn(f):new si(f);if(m.g!="")d&&(m.g=d+"."+m.g),nu(m,m.s);else{var C=a.location;m=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var S=new si(null);m&&tu(S,m),d&&(S.g=d),C&&nu(S,C),f&&(S.l=f),m=S}return f=c.D,d=c.ya,f&&d&&Ve(m,f,d),Ve(m,"VER",c.la),Xs(c,m),m}function Vw(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new je(new Qs({eb:f})):new je(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uw(){}n=Uw.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function uu(){}uu.prototype.g=function(c,d){return new Nt(c,d)};function Nt(c,d){lt.call(this),this.g=new Sw(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!H(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!H(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Qi(this)}T(Nt,lt),Nt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Nt.prototype.close=function(){Wf(this.g)},Nt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=kf(c),c=f);d.i.push(new gM(d.Ya++,c)),d.G==3&&au(d)},Nt.prototype.N=function(){this.g.l=null,delete this.j,Wf(this.g),delete this.g,Nt.aa.N.call(this)};function jw(c){Lf.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}T(jw,Lf);function Bw(){Vf.call(this),this.status=1}T(Bw,Vf);function Qi(c){this.g=c}T(Qi,Uw),Qi.prototype.ua=function(){vt(this.g,"a")},Qi.prototype.ta=function(c){vt(this.g,new jw(c))},Qi.prototype.sa=function(c){vt(this.g,new Bw)},Qi.prototype.ra=function(){vt(this.g,"b")},uu.prototype.createWebChannel=uu.prototype.g,Nt.prototype.send=Nt.prototype.o,Nt.prototype.open=Nt.prototype.m,Nt.prototype.close=Nt.prototype.close,Av=cr.createWebChannelTransport=function(){return new uu},Tv=cr.getStatEventTarget=function(){return Jc()},Cv=cr.Event=ii,rh=cr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Zc.NO_ERROR=0,Zc.TIMEOUT=8,Zc.HTTP_ERROR=6,gc=cr.ErrorCode=Zc,rw.COMPLETE="complete",Dv=cr.EventType=rw,ZI.EventType=Bs,Bs.OPEN="a",Bs.CLOSE="b",Bs.ERROR="c",Bs.MESSAGE="d",lt.prototype.listen=lt.prototype.K,is=cr.WebChannel=ZI,aB=cr.FetchXmlHttpFactory=Qs,je.prototype.listenOnce=je.prototype.L,je.prototype.getLastError=je.prototype.Ka,je.prototype.getLastErrorCode=je.prototype.Ba,je.prototype.getStatus=je.prototype.Z,je.prototype.getResponseJson=je.prototype.Oa,je.prototype.getResponseText=je.prototype.oa,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Ha,bv=cr.XhrIo=je}).apply(typeof nh<"u"?nh:typeof self<"u"?self:typeof window<"u"?window:{});var TA="@firebase/firestore";var it=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};it.UNAUTHENTICATED=new it(null),it.GOOGLE_CREDENTIALS=new it("google-credentials-uid"),it.FIRST_PARTY=new it("first-party-uid"),it.MOCK_USER=new it("mock-user");var Cs="10.14.0";var Ui=new zr("@firebase/firestore");function yc(){return Ui.logLevel}function q(n,...e){if(Ui.logLevel<=ye.DEBUG){let t=e.map(cI);Ui.debug(`Firestore (${Cs}): ${n}`,...t)}}function lr(n,...e){if(Ui.logLevel<=ye.ERROR){let t=e.map(cI);Ui.error(`Firestore (${Cs}): ${n}`,...t)}}function ds(n,...e){if(Ui.logLevel<=ye.WARN){let t=e.map(cI);Ui.warn(`Firestore (${Cs}): ${n}`,...t)}}function cI(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function X(n="Unexpected state"){let e=`FIRESTORE (${Cs}) INTERNAL ASSERTION FAILED: `+n;throw lr(e),new Error(e)}function Me(n,e){n||X()}function re(n,e){return n}var O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},K=class extends Ut{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var ur=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var ch=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Nv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(it.UNAUTHENTICATED))}shutdown(){}},Pv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Ov=class{constructor(e){this.t=e,this.currentUser=it.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Me(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new ur;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ur,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>w(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ur)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Me(typeof r.accessToken=="string"),new ch(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Me(e===null||typeof e=="string"),new it(e)}},kv=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=it.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Fv=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new kv(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(it.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Lv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Vv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Me(this.o===void 0);let r=o=>{o.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,q("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Me(typeof t.token=="string"),this.R=t.token,new Lv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function cB(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var uh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=cB(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}};function be(n,e){return n<e?-1:n>e?1:0}function hs(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var ct=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new K(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new K(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new K(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var se=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new ct(0,0))}static max(){return new n(new ct(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var lh=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&X(),r===void 0?r=e.length-t:r>e.length-t&&X(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},$e=class n extends lh{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new K(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},uB=/^[_a-zA-Z][_a-zA-Z0-9]*$/,jt=class n extends lh{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return uB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new K(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new K(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new K(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new K(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var Y=class n{constructor(e){this.path=e}static fromPath(e){return new n($e.fromString(e))}static fromName(e){return new n($e.fromString(e).popFirst(5))}static empty(){return new n($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return $e.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new $e(e.slice()))}};var Uv=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};Uv.UNKNOWN_ID=-1;function lB(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=se.fromTimestamp(r===1e9?new ct(t+1,0):new ct(t,r));return new ji(i,Y.empty(),e)}function dB(n){return new ji(n.readTime,n.key,-1)}var ji=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(se.min(),Y.empty(),-1)}static max(){return new n(se.max(),Y.empty(),-1)}};function hB(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Y.comparator(n.documentKey,e.documentKey),t!==0?t:be(n.largestBatchId,e.largestBatchId))}var fB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",jv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function kc(n){return w(this,null,function*(){if(n.code!==O.FAILED_PRECONDITION||n.message!==fB)throw n;q("LocalStore","Unexpectedly lost primary lease")})}var F=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&X(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function pB(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Fc(n){return n.name==="IndexedDbTransactionError"}var oS=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function Uh(n){return n==null}function Dc(n){return n===0&&1/n==-1/0}function mB(n){return typeof n=="number"&&Number.isInteger(n)&&!Dc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var gB=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],VK=[...gB,"documentOverlays"],yB=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],vB=yB,_B=[...vB,"indexConfiguration","indexState","indexEntries"];var UK=[..._B,"globals"];function AA(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ts(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function sS(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var He=class n{constructor(e,t){this.comparator=e,this.root=t||Rn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Rn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cs(this.root,e,this.comparator,!1)}getReverseIterator(){return new cs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cs(this.root,e,this.comparator,!0)}},cs=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Rn=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw X();let e=this.left.check();if(e!==this.right.check())throw X();return e+(this.isRed()?0:1)}};Rn.EMPTY=null,Rn.RED=!0,Rn.BLACK=!1;Rn.EMPTY=new class{constructor(){this.size=0}get key(){throw X()}get value(){throw X()}get color(){throw X()}get left(){throw X()}get right(){throw X()}copy(e,t,r,i,o){return this}insert(e,t,r){return new Rn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var gt=class n{constructor(e){this.comparator=e,this.data=new He(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new dh(this.data.getIterator())}getIteratorFrom(e){return new dh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},dh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Sn=class n{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new n([])}unionWith(e){let t=new gt(jt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return hs(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var hh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var yt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new hh("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};yt.EMPTY_BYTE_STRING=new yt("");var IB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dr(n){if(Me(!!n),typeof n=="string"){let e=0,t=IB.exec(n);if(Me(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ue(n.seconds),nanos:Ue(n.nanos)}}function Ue(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Xr(n){return typeof n=="string"?yt.fromBase64String(n):yt.fromUint8Array(n)}function uI(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function lI(n){let e=n.mapValue.fields.__previous_value__;return uI(e)?lI(e):e}function Cc(n){let e=dr(n.mapValue.fields.__local_write_time__.timestampValue);return new ct(e.seconds,e.nanos)}var Bv=class{constructor(e,t,r,i,o,s,a,u,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},fh=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var ih={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Bi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?uI(n)?4:cS(n)?9007199254740991:aS(n)?10:11:X()}function Nn(n,e){if(n===e)return!0;let t=Bi(n);if(t!==Bi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Cc(n).isEqual(Cc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=dr(i.timestampValue),a=dr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Xr(i.bytesValue).isEqual(Xr(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Ue(i.geoPointValue.latitude)===Ue(o.geoPointValue.latitude)&&Ue(i.geoPointValue.longitude)===Ue(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ue(i.integerValue)===Ue(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ue(i.doubleValue),a=Ue(o.doubleValue);return s===a?Dc(s)===Dc(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return hs(n.arrayValue.values||[],e.arrayValue.values||[],Nn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(AA(s)!==AA(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Nn(s[u],a[u])))return!1;return!0}(n,e);default:return X()}}function Tc(n,e){return(n.values||[]).find(t=>Nn(t,e))!==void 0}function fs(n,e){if(n===e)return 0;let t=Bi(n),r=Bi(e);if(t!==r)return be(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return be(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ue(o.integerValue||o.doubleValue),u=Ue(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return SA(n.timestampValue,e.timestampValue);case 4:return SA(Cc(n),Cc(e));case 5:return be(n.stringValue,e.stringValue);case 6:return function(o,s){let a=Xr(o),u=Xr(s);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=be(a[l],u[l]);if(h!==0)return h}return be(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=be(Ue(o.latitude),Ue(s.latitude));return a!==0?a:be(Ue(o.longitude),Ue(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return RA(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},y=s.fields||{},g=(a=p.value)===null||a===void 0?void 0:a.arrayValue,T=(u=y.value)===null||u===void 0?void 0:u.arrayValue,M=be(((l=g?.values)===null||l===void 0?void 0:l.length)||0,((h=T?.values)===null||h===void 0?void 0:h.length)||0);return M!==0?M:RA(g,T)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===ih.mapValue&&s===ih.mapValue)return 0;if(o===ih.mapValue)return 1;if(s===ih.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let y=be(u[p],h[p]);if(y!==0)return y;let g=fs(a[u[p]],l[h[p]]);if(g!==0)return g}return be(u.length,h.length)}(n.mapValue,e.mapValue);default:throw X()}}function SA(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return be(n,e);let t=dr(n),r=dr(e),i=be(t.seconds,r.seconds);return i!==0?i:be(t.nanos,r.nanos)}function RA(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=fs(t[i],r[i]);if(o)return o}return be(t.length,r.length)}function ps(n){return $v(n)}function $v(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=dr(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Xr(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Y.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=$v(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${$v(t.fields[s])}`;return i+"}"}(n.mapValue):X()}function Hv(n){return!!n&&"integerValue"in n}function dI(n){return!!n&&"arrayValue"in n}function MA(n){return!!n&&"nullValue"in n}function xA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function sh(n){return!!n&&"mapValue"in n}function aS(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function _c(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Ts(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=_c(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=_c(n.arrayValue.values[t]);return e}return Object.assign({},n)}function cS(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var ln=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!sh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=_c(t)}setAll(e){let t=jt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=_c(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());sh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Nn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];sh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ts(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(_c(this.value))}};function uS(n){let e=[];return Ts(n.fields,(t,r)=>{let i=new jt([t]);if(sh(r)){let o=uS(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Sn(e)}var dn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,se.min(),se.min(),se.min(),ln.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,se.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,se.min(),se.min(),ln.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,se.min(),se.min(),ln.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ms=class{constructor(e,t){this.position=e,this.inclusive=t}};function NA(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=Y.comparator(Y.fromName(s.referenceValue),t.key):r=fs(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function PA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Nn(n.position[t],e.position[t]))return!1;return!0}var gs=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function wB(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var ph=class{},Xe=class n extends ph{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Gv(e,t,r):t==="array-contains"?new Kv(e,r):t==="in"?new Qv(e,r):t==="not-in"?new Yv(e,r):t==="array-contains-any"?new Jv(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new qv(e,r):new Wv(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(fs(t,this.value)):t!==null&&Bi(this.value)===Bi(t)&&this.matchesComparison(fs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return X()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Pn=class n extends ph{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return lS(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function lS(n){return n.op==="and"}function dS(n){return EB(n)&&lS(n)}function EB(n){for(let e of n.filters)if(e instanceof Pn)return!1;return!0}function zv(n){if(n instanceof Xe)return n.field.canonicalString()+n.op.toString()+ps(n.value);if(dS(n))return n.filters.map(e=>zv(e)).join(",");{let e=n.filters.map(t=>zv(t)).join(",");return`${n.op}(${e})`}}function hS(n,e){return n instanceof Xe?function(r,i){return i instanceof Xe&&r.op===i.op&&r.field.isEqual(i.field)&&Nn(r.value,i.value)}(n,e):n instanceof Pn?function(r,i){return i instanceof Pn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&hS(s,i.filters[a]),!0):!1}(n,e):void X()}function fS(n){return n instanceof Xe?function(t){return`${t.field.canonicalString()} ${t.op} ${ps(t.value)}`}(n):n instanceof Pn?function(t){return t.op.toString()+" {"+t.getFilters().map(fS).join(" ,")+"}"}(n):"Filter"}var Gv=class extends Xe{constructor(e,t,r){super(e,t,r),this.key=Y.fromName(r.referenceValue)}matches(e){let t=Y.comparator(e.key,this.key);return this.matchesComparison(t)}},qv=class extends Xe{constructor(e,t){super(e,"in",t),this.keys=pS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},Wv=class extends Xe{constructor(e,t){super(e,"not-in",t),this.keys=pS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function pS(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Y.fromName(r.referenceValue))}var Kv=class extends Xe{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return dI(t)&&Tc(t.arrayValue,this.value)}},Qv=class extends Xe{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Tc(this.value.arrayValue,t)}},Yv=class extends Xe{constructor(e,t){super(e,"not-in",t)}matches(e){if(Tc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!Tc(this.value.arrayValue,t)}},Jv=class extends Xe{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!dI(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Tc(this.value.arrayValue,r))}};var Zv=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function OA(n,e=null,t=[],r=[],i=null,o=null,s=null){return new Zv(n,e,t,r,i,o,s)}function hI(n){let e=re(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>zv(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Uh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ps(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ps(r)).join(",")),e.ue=t}return e.ue}function fI(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!wB(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!hS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!PA(n.startAt,e.startAt)&&PA(n.endAt,e.endAt)}function Xv(n){return Y.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var ys=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function bB(n,e,t,r,i,o,s,a){return new ys(n,e,t,r,i,o,s,a)}function pI(n){return new ys(n)}function kA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function DB(n){return n.collectionGroup!==null}function Ic(n){let e=re(n);if(e.ce===null){e.ce=[];let t=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new gt(jt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new gs(o,r))}),t.has(jt.keyField().canonicalString())||e.ce.push(new gs(jt.keyField(),r))}return e.ce}function Mn(n){let e=re(n);return e.le||(e.le=CB(e,Ic(n))),e.le}function CB(n,e){if(n.limitType==="F")return OA(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new gs(i.field,o)});let t=n.endAt?new ms(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ms(n.startAt.position,n.startAt.inclusive):null;return OA(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function e_(n,e,t){return new ys(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function jh(n,e){return fI(Mn(n),Mn(e))&&n.limitType===e.limitType}function mS(n){return`${hI(Mn(n))}|lt:${n.limitType}`}function os(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>fS(i)).join(", ")}]`),Uh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>ps(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>ps(i)).join(",")),`Target(${r})`}(Mn(n))}; limitType=${n.limitType})`}function Bh(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Y.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of Ic(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=NA(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,Ic(r),i)||r.endAt&&!function(s,a,u){let l=NA(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,Ic(r),i))}(n,e)}function TB(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function gS(n){return(e,t)=>{let r=!1;for(let i of Ic(n)){let o=AB(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function AB(n,e,t){let r=n.field.isKeyField()?Y.comparator(e.key,t.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?fs(u,l):X()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return X()}}var ei=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ts(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return sS(this.inner)}size(){return this.innerSize}};var SB=new He(Y.comparator);function hr(){return SB}var yS=new He(Y.comparator);function vc(...n){let e=yS;for(let t of n)e=e.insert(t.key,t);return e}function vS(n){let e=yS;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ki(){return wc()}function _S(){return wc()}function wc(){return new ei(n=>n.toString(),(n,e)=>n.isEqual(e))}var RB=new He(Y.comparator),MB=new gt(Y.comparator);function ve(...n){let e=MB;for(let t of n)e=e.add(t);return e}var xB=new gt(be);function NB(){return xB}function mI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dc(e)?"-0":e}}function IS(n){return{integerValue:""+n}}function PB(n,e){return mB(e)?IS(e):mI(n,e)}var vs=class{constructor(){this._=void 0}};function OB(n,e,t){return n instanceof _s?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&uI(o)&&(o=lI(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof $i?ES(n,e):n instanceof Hi?bS(n,e):function(i,o){let s=wS(i,o),a=FA(s)+FA(i.Pe);return Hv(s)&&Hv(i.Pe)?IS(a):mI(i.serializer,a)}(n,e)}function kB(n,e,t){return n instanceof $i?ES(n,e):n instanceof Hi?bS(n,e):t}function wS(n,e){return n instanceof Is?function(r){return Hv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var _s=class extends vs{},$i=class extends vs{constructor(e){super(),this.elements=e}};function ES(n,e){let t=DS(e);for(let r of n.elements)t.some(i=>Nn(i,r))||t.push(r);return{arrayValue:{values:t}}}var Hi=class extends vs{constructor(e){super(),this.elements=e}};function bS(n,e){let t=DS(e);for(let r of n.elements)t=t.filter(i=>!Nn(i,r));return{arrayValue:{values:t}}}var Is=class extends vs{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function FA(n){return Ue(n.integerValue||n.doubleValue)}function DS(n){return dI(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function FB(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof $i&&i instanceof $i||r instanceof Hi&&i instanceof Hi?hs(r.elements,i.elements,Nn):r instanceof Is&&i instanceof Is?Nn(r.Pe,i.Pe):r instanceof _s&&i instanceof _s}(n.transform,e.transform)}var t_=class{constructor(e,t){this.version=e,this.transformResults=t}},Vi=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function ah(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var ws=class{};function CS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new mh(n.key,Vi.none()):new zi(n.key,n.data,Vi.none());{let t=n.data,r=ln.empty(),i=new gt(jt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new fr(n.key,r,new Sn(i.toArray()),Vi.none())}}function LB(n,e,t){n instanceof zi?function(i,o,s){let a=i.value.clone(),u=VA(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof fr?function(i,o,s){if(!ah(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=VA(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(TS(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Ec(n,e,t,r){return n instanceof zi?function(o,s,a,u){if(!ah(o.precondition,s))return a;let l=o.value.clone(),h=UA(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof fr?function(o,s,a,u){if(!ah(o.precondition,s))return a;let l=UA(o.fieldTransforms,u,s),h=s.data;return h.setAll(TS(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,a){return ah(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function VB(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=wS(r.transform,i||null);o!=null&&(t===null&&(t=ln.empty()),t.set(r.field,o))}return t||null}function LA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&hs(r,i,(o,s)=>FB(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var zi=class extends ws{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},fr=class extends ws{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function TS(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function VA(n,e,t){let r=new Map;Me(n.length===t.length);for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,kB(s,a,t[i]))}return r}function UA(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,OB(o,s,e))}return r}var mh=class extends ws{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},n_=class extends ws{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var r_=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&LB(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ec(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Ec(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=_S();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=CS(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ve())}isEqual(e){return this.batchId===e.batchId&&hs(this.mutations,e.mutations,(t,r)=>LA(t,r))&&hs(this.baseMutations,e.baseMutations,(t,r)=>LA(t,r))}},i_=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Me(e.mutations.length===r.length);let i=function(){return RB}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var o_=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var s_=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Ke,Ie;function UB(n){switch(n){default:return X();case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0}}function AS(n){if(n===void 0)return lr("GRPC error has no .code"),O.UNKNOWN;switch(n){case Ke.OK:return O.OK;case Ke.CANCELLED:return O.CANCELLED;case Ke.UNKNOWN:return O.UNKNOWN;case Ke.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case Ke.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case Ke.INTERNAL:return O.INTERNAL;case Ke.UNAVAILABLE:return O.UNAVAILABLE;case Ke.UNAUTHENTICATED:return O.UNAUTHENTICATED;case Ke.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case Ke.NOT_FOUND:return O.NOT_FOUND;case Ke.ALREADY_EXISTS:return O.ALREADY_EXISTS;case Ke.PERMISSION_DENIED:return O.PERMISSION_DENIED;case Ke.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case Ke.ABORTED:return O.ABORTED;case Ke.OUT_OF_RANGE:return O.OUT_OF_RANGE;case Ke.UNIMPLEMENTED:return O.UNIMPLEMENTED;case Ke.DATA_LOSS:return O.DATA_LOSS;default:return X()}}(Ie=Ke||(Ke={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";var jA=null;function jB(){return new TextEncoder}var BB=new Jr([4294967295,4294967295],0);function BA(n){let e=jB().encode(n),t=new Ev;return t.update(e),new Uint8Array(t.digest())}function $A(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Jr([t,r],0),new Jr([i,o],0)]}var a_=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Fi(`Invalid padding: ${t}`);if(r<0)throw new Fi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Fi(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Fi(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Jr.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(Jr.fromNumber(r)));return i.compare(BB)===1&&(i=new Jr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=BA(e),[r,i]=$A(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let t=BA(e),[r,i]=$A(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Fi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var gh=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Ac.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(se.min(),i,new He(be),hr(),ve())}},Ac=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,ve(),ve(),ve())}};var us=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},yh=class{constructor(e,t){this.targetId=e,this.me=t}},vh=class{constructor(e,t,r=yt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},_h=class{constructor(){this.fe=0,this.ge=zA(),this.pe=yt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ve(),t=ve(),r=ve();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:X()}}),new Ac(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=zA()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Me(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},c_=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=hr(),this.qe=HA(),this.Qe=new He(be)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:X()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let o=i.target;if(Xv(o))if(r===0){let s=new Y(o.path);this.Ue(t,s,dn.newNoDocument(s,se.min()))}else Me(r===1);else{let s=this.Ye(t);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,l)}jA?.et(function(h,p,y,g,T){var M,R,L,H,B,ie;let Te={localCacheCount:h,existenceFilterCount:p.count,databaseId:y.database,projectId:y.projectId},J=p.unchangedNames;return J&&(Te.bloomFilter={applied:T===0,hashCount:(M=J?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(H=(L=(R=J?.bits)===null||R===void 0?void 0:R.bitmap)===null||L===void 0?void 0:L.length)!==null&&H!==void 0?H:0,padding:(ie=(B=J?.bits)===null||B===void 0?void 0:B.padding)!==null&&ie!==void 0?ie:0,mightContain:E=>{var v;return(v=g?.mightContain(E))!==null&&v!==void 0&&v}}),Te}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Xr(r).toUint8Array()}catch(u){if(u instanceof hh)return ds("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new a_(s,i,o)}catch(u){return ds(u instanceof Fi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,o,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&Xv(a.target)){let u=new Y(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,dn.newNoDocument(u,e))}o.be&&(t.set(s,o.ve()),o.Ce())}});let r=ve();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new gh(e,t,this.Qe,this.ke,r);return this.ke=hr(),this.qe=HA(),this.Qe=new He(be),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new _h,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new gt(be),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||q("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new _h),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function HA(){return new He(Y.comparator)}function zA(){return new He(Y.comparator)}var $B={asc:"ASCENDING",desc:"DESCENDING"},HB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zB={and:"AND",or:"OR"},u_=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function l_(n,e){return n.useProto3Json||Uh(e)?e:{value:e}}function Ih(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function GB(n,e){return Ih(n,e.toTimestamp())}function xn(n){return Me(!!n),se.fromTimestamp(function(t){let r=dr(t);return new ct(r.seconds,r.nanos)}(n))}function gI(n,e){return d_(n,e).canonicalString()}function d_(n,e){let t=function(i){return new $e(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function RS(n){let e=$e.fromString(n);return Me(OS(e)),e}function h_(n,e){return gI(n.databaseId,e.path)}function Sv(n,e){let t=RS(e);if(t.get(1)!==n.databaseId.projectId)throw new K(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new K(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Y(xS(t))}function MS(n,e){return gI(n.databaseId,e)}function qB(n){let e=RS(n);return e.length===4?$e.emptyPath():xS(e)}function f_(n){return new $e(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function xS(n){return Me(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function GA(n,e,t){return{name:h_(n,e),fields:t.value.mapValue.fields}}function WB(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:X()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Me(h===void 0||typeof h=="string"),yt.fromBase64String(h||"")):(Me(h===void 0||h instanceof Buffer||h instanceof Uint8Array),yt.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?O.UNKNOWN:AS(l.code);return new K(h,l.message||"")}(s);t=new vh(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Sv(n,r.document.name),o=xn(r.document.updateTime),s=r.document.createTime?xn(r.document.createTime):se.min(),a=new ln({mapValue:{fields:r.document.fields}}),u=dn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new us(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Sv(n,r.document),o=r.readTime?xn(r.readTime):se.min(),s=dn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new us([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Sv(n,r.document),o=r.removedTargetIds||[];t=new us([],o,i,null)}else{if(!("filter"in e))return X();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new s_(i,o),a=r.targetId;t=new yh(a,s)}}return t}function KB(n,e){let t;if(e instanceof zi)t={update:GA(n,e.key,e.value)};else if(e instanceof mh)t={delete:h_(n,e.key)};else if(e instanceof fr)t={update:GA(n,e.key,e.data),updateMask:r$(e.fieldMask)};else{if(!(e instanceof n_))return X();t={verify:h_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof _s)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof $i)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Hi)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Is)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw X()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:GB(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:X()}(n,e.precondition)),t}function QB(n,e){return n&&n.length>0?(Me(e!==void 0),n.map(t=>function(i,o){let s=i.updateTime?xn(i.updateTime):xn(o);return s.isEqual(se.min())&&(s=xn(o)),new t_(s,i.transformResults||[])}(t,e))):[]}function YB(n,e){return{documents:[MS(n,e.path)]}}function JB(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=MS(n,i);let o=function(l){if(l.length!==0)return PS(Pn.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(y){return{field:ss(y.field),direction:e$(y.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=l_(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:t,parent:i}}function ZB(n){let e=qB(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Me(r===1);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){let y=NS(p);return y instanceof Pn&&dS(y)?y.getFilters():[y]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(y=>function(T){return new gs(as(T.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(y))}(t.orderBy));let a=null;t.limit&&(a=function(p){let y;return y=typeof p=="object"?p.value:p,Uh(y)?null:y}(t.limit));let u=null;t.startAt&&(u=function(p){let y=!!p.before,g=p.values||[];return new ms(g,y)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let y=!p.before,g=p.values||[];return new ms(g,y)}(t.endAt)),bB(e,i,s,o,a,"F",u,l)}function XB(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function NS(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=as(t.unaryFilter.field);return Xe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=as(t.unaryFilter.field);return Xe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=as(t.unaryFilter.field);return Xe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=as(t.unaryFilter.field);return Xe.create(s,"!=",{nullValue:"NULL_VALUE"});default:return X()}}(n):n.fieldFilter!==void 0?function(t){return Xe.create(as(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return X()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Pn.create(t.compositeFilter.filters.map(r=>NS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return X()}}(t.compositeFilter.op))}(n):X()}function e$(n){return $B[n]}function t$(n){return HB[n]}function n$(n){return zB[n]}function ss(n){return{fieldPath:n.canonicalString()}}function as(n){return jt.fromServerFormat(n.fieldPath)}function PS(n){return n instanceof Xe?function(t){if(t.op==="=="){if(xA(t.value))return{unaryFilter:{field:ss(t.field),op:"IS_NAN"}};if(MA(t.value))return{unaryFilter:{field:ss(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(xA(t.value))return{unaryFilter:{field:ss(t.field),op:"IS_NOT_NAN"}};if(MA(t.value))return{unaryFilter:{field:ss(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ss(t.field),op:t$(t.op),value:t.value}}}(n):n instanceof Pn?function(t){let r=t.getFilters().map(i=>PS(i));return r.length===1?r[0]:{compositeFilter:{op:n$(t.op),filters:r}}}(n):X()}function r$(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function OS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Sc=class n{constructor(e,t,r,i,o=se.min(),s=se.min(),a=yt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var p_=class{constructor(e){this.ct=e}};function i$(n){let e=ZB({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?e_(e,e.limit,"L"):e}var wh=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Ue(e.integerValue));else if("doubleValue"in e){let r=Ue(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),Dc(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=dr(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Xr(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?cS(e)?this.dt(t,Number.MAX_SAFE_INTEGER):aS(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):X()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let o=e.fields||{};this.dt(t,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(Ue(a)),this.Vt(s,t),this.Tt(o[s],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),Y.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};wh.vt=new wh;var m_=class{constructor(){this.un=new g_}addToCollectionParentIndex(e,t){return this.un.add(t),F.resolve()}getCollectionParents(e,t){return F.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return F.resolve()}deleteFieldIndex(e,t){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,t){return F.resolve()}getDocumentsMatchingTarget(e,t){return F.resolve(null)}getIndexType(e,t){return F.resolve(0)}getFieldIndexes(e,t){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,t){return F.resolve(ji.min())}getMinOffsetFromCollectionGroup(e,t){return F.resolve(ji.min())}updateCollectionGroup(e,t,r){return F.resolve()}updateIndexEntries(e,t){return F.resolve()}},g_=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new gt($e.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new gt($e.comparator)).toArray()}};var BK=new Uint8Array(0);var An=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(41943040,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);var Rc=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var y_=class{constructor(){this.changes=new ei(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?F.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var v_=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var __=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Ec(r.mutation,i,Sn.empty(),ct.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ve()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ve()){let i=ki();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=vc();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=ki();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ve()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=hr(),s=wc(),a=function(){return wc()}();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof fr)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Ec(h.mutation,l,h.mutation.getFieldMask(),ct.now())):s.set(l.key,Sn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new v_(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=wc(),i=new He((s,a)=>s-a),o=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||Sn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||ve()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=_S();h.forEach(y=>{if(!o.has(y)){let g=CS(t.get(y),r.get(y));g!==null&&p.set(y,g),o=o.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return F.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return Y.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):DB(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):F.resolve(ki()),a=-1,u=o;return s.next(l=>F.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?F.resolve():this.remoteDocumentCache.getEntry(e,h).next(y=>{u=u.insert(h,y)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ve())).next(h=>({batchId:a,changes:vS(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Y(t)).next(r=>{let i=vc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=vc();return this.indexManager.getCollectionParents(e,o).next(a=>F.forEach(a,u=>{let l=function(p,y){return new ys(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,y)=>{s=s.insert(p,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,dn.newInvalidDocument(h)))});let a=vc();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Ec(h.mutation,l,Sn.empty(),ct.now()),Bh(t,l)&&(a=a.insert(u,l))}),a})}};var I_=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return F.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:xn(i.createTime)}}(t)),F.resolve()}getNamedQuery(e,t){return F.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:i$(i.bundledQuery),readTime:xn(i.readTime)}}(t)),F.resolve()}};var w_=class{constructor(){this.overlays=new He(Y.comparator),this.Ir=new Map}getOverlay(e,t){return F.resolve(this.overlays.get(t))}getOverlays(e,t){let r=ki();return F.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.ht(e,t,o)}),F.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),F.resolve()}getOverlaysForCollection(e,t,r){let i=ki(),o=t.length+1,s=new Y(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return F.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new He((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=ki(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=ki(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return F.resolve(a)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new o_(t,r));let o=this.Ir.get(t);o===void 0&&(o=ve(),this.Ir.set(t,o)),this.Ir.set(t,o.add(r.key))}};var E_=class{constructor(){this.sessionToken=yt.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,F.resolve()}};var Mc=class{constructor(){this.Tr=new gt(Qe.Er),this.dr=new gt(Qe.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new Qe(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new Qe(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new Y(new $e([])),r=new Qe(t,e),i=new Qe(t,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new Y(new $e([])),r=new Qe(t,e),i=new Qe(t,e+1),o=ve();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Qe(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Qe=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Y.comparator(e.key,t.key)||be(e.wr,t.wr)}static Ar(e,t){return be(e.wr,t.wr)||Y.comparator(e.key,t.key)}};var b_=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new gt(Qe.Er)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new r_(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new Qe(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(s)}lookupMutationBatch(e,t){return F.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),o=i<0?0:i;return F.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Qe(t,0),i=new Qe(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),F.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new gt(be);return t.forEach(i=>{let o=new Qe(i,0),s=new Qe(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),F.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;Y.isDocumentKey(o)||(o=o.child(""));let s=new Qe(new Y(o),0),a=new gt(be);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},s),F.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Me(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return F.forEach(t.mutations,i=>{let o=new Qe(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new Qe(t,0),i=this.br.firstAfterOrEqual(r);return F.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var D_=class{constructor(e){this.Mr=e,this.docs=function(){return new He(Y.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return F.resolve(r?r.document.mutableCopy():dn.newInvalidDocument(t))}getEntries(e,t){let r=hr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():dn.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=hr(),s=t.path,a=new Y(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||hB(dB(h),r)<=0||(i.has(h.key)||Bh(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return F.resolve(o)}getAllFromCollectionGroup(e,t,r,i){X()}Or(e,t){return F.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new C_(this)}getSize(e){return F.resolve(this.size)}},C_=class extends y_{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),F.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var T_=class{constructor(e){this.persistence=e,this.Nr=new ei(t=>hI(t),fI),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Mc,this.targetCount=0,this.kr=Rc.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),F.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new Rc(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,F.resolve()}updateTargetData(e,t){return this.Kn(t),F.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),F.waitFor(o).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return F.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),F.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),F.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),F.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return F.resolve(r)}containsKey(e,t){return F.resolve(this.Br.containsKey(t))}};var A_=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new oS(0),this.Kr=!1,this.Kr=!0,this.$r=new E_,this.referenceDelegate=e(this),this.Ur=new T_(this),this.indexManager=new m_,this.remoteDocumentCache=function(i){return new D_(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new p_(t),this.Gr=new I_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new w_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new b_(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){q("MemoryPersistence","Starting transaction:",e);let i=new S_(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,t){return F.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},S_=class extends jv{constructor(e){super(),this.currentSequenceNumber=e}},R_=class n{constructor(e){this.persistence=e,this.Jr=new Mc,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw X()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),F.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),F.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.Xr,r=>{let i=Y.fromPath(r);return this.ei(e,i).next(o=>{o||t.removeEntry(i,se.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return F.or([()=>F.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var M_=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=ve(),i=ve();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var x_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var N_=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return fT()?8:pB(rt())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.Yi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new x_;return this.Xi(e,t,s).next(a=>{if(o.result=a,this.zi)return this.es(e,t,s,a.size)})}).next(()=>o.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(yc()<=ye.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",os(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),F.resolve()):(yc()<=ye.DEBUG&&q("QueryEngine","Query:",os(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(yc()<=ye.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",os(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mn(t))):F.resolve())}Yi(e,t){if(kA(t))return F.resolve(null);let r=Mn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=e_(t,null,"F"),r=Mn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ve(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(t,a);return this.ns(t,l,s,u.readTime)?this.Yi(e,e_(t,null,"F")):this.rs(e,l,t,u)}))})))}Zi(e,t,r,i){return kA(t)||i.isEqual(se.min())?F.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(t,o);return this.ns(t,s,r,i)?F.resolve(null):(yc()<=ye.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),os(t)),this.rs(e,s,t,lB(i,-1)).next(a=>a))})}ts(e,t){let r=new gt(gS(e));return t.forEach((i,o)=>{Bh(e,o)&&(r=r.add(o))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,t,r){return yc()<=ye.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",os(t)),this.Ji.getDocumentsMatchingQuery(e,t,ji.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var P_=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new He(be),this._s=new ei(o=>hI(o),fI),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new __(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function o$(n,e,t,r){return new P_(n,e,t,r)}function kS(n,e){return w(this,null,function*(){let t=re(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=ve();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function s$(n,e){let t=re(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,y=p.keys(),g=F.resolve();return y.forEach(T=>{g=g.next(()=>h.getEntry(u,T)).next(M=>{let R=l.docVersions.get(T);Me(R!==null),M.version.compareTo(R)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),h.addEntry(M)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ve();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function FS(n){let e=re(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function a$(n,e){let t=re(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let a=[];e.targetChanges.forEach((h,p)=>{let y=i.get(p);if(!y)return;a.push(t.Ur.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.Ur.addMatchingKeys(o,h.addedDocuments,p)));let g=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?g=g.withResumeToken(yt.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),i=i.insert(p,g),function(M,R,L){return M.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(y,g,h)&&a.push(t.Ur.updateTargetData(o,g))});let u=hr(),l=ve();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(c$(o,s,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(se.min())){let h=t.Ur.getLastRemoteSnapshotVersion(o).next(p=>t.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return F.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.os=i,o))}function c$(n,e,t){let r=ve(),i=ve();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=hr();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(se.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function u$(n,e){let t=re(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function l$(n,e){let t=re(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(o=>o?(i=o,F.resolve(i)):t.Ur.allocateTargetId(r).next(s=>(i=new Sc(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function O_(n,e,t){return w(this,null,function*(){let r=re(n),i=r.os.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Fc(s))throw s;q("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function qA(n,e,t){let r=re(n),i=se.min(),o=ve();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=re(u),y=p._s.get(h);return y!==void 0?F.resolve(p.os.get(y)):p.Ur.getTargetData(l,h)}(r,s,Mn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,t?i:se.min(),t?o:ve())).next(a=>(d$(r,TB(e),a),{documents:a,Ts:o})))}function d$(n,e,t){let r=n.us.get(e)||se.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.us.set(e,r)}var Eh=class{constructor(){this.activeTargetIds=NB()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var k_=class{constructor(){this.so=new Eh,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Eh,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var F_=class{_o(e){}shutdown(){}};var bh=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var oh=null;function Rv(){return oh===null?oh=function(){return 268435456+Math.round(2147483648*Math.random())}():oh++,"0x"+oh.toString(16)}var h$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var L_=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var mt="WebChannelConnection",V_=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(t,r,i,o,s){let a=Rv(),u=this.xo(t,r.toUriEncodedString());q("RestConnection",`Sending RPC '${t}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(t,u,l,i).then(h=>(q("RestConnection",`Received RPC '${t}' ${a}: `,h),h),h=>{throw ds("RestConnection",`RPC '${t}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(t,r,i,o,s,a){return this.Mo(t,r,i,o,s)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Cs}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}xo(t,r){let i=h$[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let o=Rv();return new Promise((s,a)=>{let u=new bv;u.setWithCredentials(!0),u.listenOnce(Dv.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case gc.NO_ERROR:let h=u.getResponseJson();q(mt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case gc.TIMEOUT:q(mt,`RPC '${e}' ${o} timed out`),a(new K(O.DEADLINE_EXCEEDED,"Request time out"));break;case gc.HTTP_ERROR:let p=u.getStatus();if(q(mt,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);let g=y?.error;if(g&&g.status&&g.message){let T=function(R){let L=R.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(L)>=0?L:O.UNKNOWN}(g.status);a(new K(T,g.message))}else a(new K(O.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new K(O.UNAVAILABLE,"Connection failed."));break;default:X()}}finally{q(mt,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);q(mt,`RPC '${e}' ${o} sending request:`,i),u.send(t,"POST",l,r,15)})}Bo(e,t,r){let i=Rv(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Av(),a=Tv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");q(mt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),y=!1,g=!1,T=new L_({Io:R=>{g?q(mt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(y||(q(mt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),q(mt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},To:()=>p.close()}),M=(R,L,H)=>{R.listen(L,B=>{try{H(B)}catch(ie){setTimeout(()=>{throw ie},0)}})};return M(p,is.EventType.OPEN,()=>{g||(q(mt,`RPC '${e}' stream ${i} transport opened.`),T.yo())}),M(p,is.EventType.CLOSE,()=>{g||(g=!0,q(mt,`RPC '${e}' stream ${i} transport closed`),T.So())}),M(p,is.EventType.ERROR,R=>{g||(g=!0,ds(mt,`RPC '${e}' stream ${i} transport errored:`,R),T.So(new K(O.UNAVAILABLE,"The operation could not be completed")))}),M(p,is.EventType.MESSAGE,R=>{var L;if(!g){let H=R.data[0];Me(!!H);let B=H,ie=B.error||((L=B[0])===null||L===void 0?void 0:L.error);if(ie){q(mt,`RPC '${e}' stream ${i} received error:`,ie);let Te=ie.status,J=function(_){let b=Ke[_];if(b!==void 0)return AS(b)}(Te),E=ie.message;J===void 0&&(J=O.INTERNAL,E="Unknown error status: "+Te+" with message "+ie.message),g=!0,T.So(new K(J,E)),p.close()}else q(mt,`RPC '${e}' stream ${i} received:`,H),T.bo(H)}}),M(a,Cv.STAT_EVENT,R=>{R.stat===rh.PROXY?q(mt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===rh.NOPROXY&&q(mt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.wo()},0),T}};function Mv(){return typeof document<"u"?document:null}function $h(n){return new u_(n,!0)}var Dh=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Ch=class{constructor(e,t,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Dh(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return w(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return w(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return w(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===O.RESOURCE_EXHAUSTED?(lr(t.toString()),lr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new K(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>w(this,null,function*(){this.state=0,this.start()}))}I_(e){return q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},U_=class extends Ch{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=WB(this.serializer,e),r=function(o){if(!("targetChange"in o))return se.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?se.min():s.readTime?xn(s.readTime):se.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=f_(this.serializer),t.addTarget=function(o,s){let a,u=s.target;if(a=Xv(u)?{documents:YB(o,u)}:{query:JB(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=SS(o,s.resumeToken);let l=l_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(se.min())>0){a.readTime=Ih(o,s.snapshotVersion.toTimestamp());let l=l_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=XB(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=f_(this.serializer),t.removeTarget=e,this.a_(t)}},j_=class extends Ch{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Me(!!e.streamToken),this.lastStreamToken=e.streamToken,Me(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Me(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=QB(e.writeResults,e.commitTime),r=xn(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=f_(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>KB(this.serializer,r))};this.a_(t)}};var B_=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new K(O.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,d_(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new K(O.UNKNOWN,o.toString())})}Lo(e,t,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,d_(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K(O.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},$_=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(lr(t),this.D_=!1):q("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var H_=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>w(this,null,function*(){Gi(this)&&(q("RemoteStore","Restarting streams for network reachability change."),yield function(u){return w(this,null,function*(){let l=re(u);l.L_.add(4),yield Lc(l),l.q_.set("Unknown"),l.L_.delete(4),yield Hh(l)})}(this))}))}),this.q_=new $_(r,i)}};function Hh(n){return w(this,null,function*(){if(Gi(n))for(let e of n.B_)yield e(!0)})}function Lc(n){return w(this,null,function*(){for(let e of n.B_)yield e(!1)})}function LS(n,e){let t=re(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),II(t)?_I(t):As(t).r_()&&vI(t,e))}function yI(n,e){let t=re(n),r=As(t);t.N_.delete(e),r.r_()&&VS(t,e),t.N_.size===0&&(r.r_()?r.o_():Gi(t)&&t.q_.set("Unknown"))}function vI(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}As(n).A_(e)}function VS(n,e){n.Q_.xe(e),As(n).R_(e)}function _I(n){n.Q_=new c_({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),As(n).start(),n.q_.v_()}function II(n){return Gi(n)&&!As(n).n_()&&n.N_.size>0}function Gi(n){return re(n).L_.size===0}function US(n){n.Q_=void 0}function f$(n){return w(this,null,function*(){n.q_.set("Online")})}function p$(n){return w(this,null,function*(){n.N_.forEach((e,t)=>{vI(n,e)})})}function m$(n,e){return w(this,null,function*(){US(n),II(n)?(n.q_.M_(e),_I(n)):n.q_.set("Unknown")})}function g$(n,e,t){return w(this,null,function*(){if(n.q_.set("Online"),e instanceof vh&&e.state===2&&e.cause)try{yield function(i,o){return w(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(n,e)}catch(r){q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Th(n,r)}else if(e instanceof us?n.Q_.Ke(e):e instanceof yh?n.Q_.He(e):n.Q_.We(e),!t.isEqual(se.min()))try{let r=yield FS(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.N_.get(l);h&&o.N_.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.N_.get(u);if(!h)return;o.N_.set(u,h.withResumeToken(yt.EMPTY_BYTE_STRING,h.snapshotVersion)),VS(o,u);let p=new Sc(h.target,u,l,h.sequenceNumber);vI(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){q("RemoteStore","Failed to raise snapshot:",r),yield Th(n,r)}})}function Th(n,e,t){return w(this,null,function*(){if(!Fc(e))throw e;n.L_.add(1),yield Lc(n),n.q_.set("Offline"),t||(t=()=>FS(n.localStore)),n.asyncQueue.enqueueRetryable(()=>w(this,null,function*(){q("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield Hh(n)}))})}function jS(n,e){return e().catch(t=>Th(n,t,e))}function zh(n){return w(this,null,function*(){let e=re(n),t=ti(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;y$(e);)try{let i=yield u$(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,v$(e,i)}catch(i){yield Th(e,i)}BS(e)&&$S(e)})}function y$(n){return Gi(n)&&n.O_.length<10}function v$(n,e){n.O_.push(e);let t=ti(n);t.r_()&&t.V_&&t.m_(e.mutations)}function BS(n){return Gi(n)&&!ti(n).n_()&&n.O_.length>0}function $S(n){ti(n).start()}function _$(n){return w(this,null,function*(){ti(n).p_()})}function I$(n){return w(this,null,function*(){let e=ti(n);for(let t of n.O_)e.m_(t.mutations)})}function w$(n,e,t){return w(this,null,function*(){let r=n.O_.shift(),i=i_.from(r,e,t);yield jS(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield zh(n)})}function E$(n,e){return w(this,null,function*(){e&&ti(n).V_&&(yield function(r,i){return w(this,null,function*(){if(function(s){return UB(s)&&s!==O.ABORTED}(i.code)){let o=r.O_.shift();ti(r).s_(),yield jS(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield zh(r)}})}(n,e)),BS(n)&&$S(n)})}function WA(n,e){return w(this,null,function*(){let t=re(n);t.asyncQueue.verifyOperationInProgress(),q("RemoteStore","RemoteStore received new credentials");let r=Gi(t);t.L_.add(3),yield Lc(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield Hh(t)})}function b$(n,e){return w(this,null,function*(){let t=re(n);e?(t.L_.delete(2),yield Hh(t)):e||(t.L_.add(2),yield Lc(t),t.q_.set("Unknown"))})}function As(n){return n.K_||(n.K_=function(t,r,i){let o=re(t);return o.w_(),new U_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:f$.bind(null,n),Ro:p$.bind(null,n),mo:m$.bind(null,n),d_:g$.bind(null,n)}),n.B_.push(e=>w(this,null,function*(){e?(n.K_.s_(),II(n)?_I(n):n.q_.set("Unknown")):(yield n.K_.stop(),US(n))}))),n.K_}function ti(n){return n.U_||(n.U_=function(t,r,i){let o=re(t);return o.w_(),new j_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:_$.bind(null,n),mo:E$.bind(null,n),f_:I$.bind(null,n),g_:w$.bind(null,n)}),n.B_.push(e=>w(this,null,function*(){e?(n.U_.s_(),yield zh(n)):(yield n.U_.stop(),n.O_.length>0&&(q("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var z_=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function wI(n,e){if(lr("AsyncQueue",`${e}: ${n}`),Fc(n))return new K(O.UNAVAILABLE,`${e}: ${n}`);throw n}var Ah=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Y.comparator(t.key,r.key):(t,r)=>Y.comparator(t.key,r.key),this.keyedMap=vc(),this.sortedSet=new He(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Sh=class{constructor(){this.W_=new He(Y.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):X():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},Es=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Ah.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var G_=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},q_=class{constructor(){this.queries=KA(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=re(t),o=i.queries;i.queries=KA(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new K(O.ABORTED,"Firestore shutting down"))}};function KA(){return new ei(n=>mS(n),jh)}function D$(n,e){return w(this,null,function*(){let t=re(n),r=3,i=e.query,o=t.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new G_,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield t.onListen(i,!0);break;case 1:o.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=wI(s,`Initialization of query '${os(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.j_.push(e),e.Z_(t.onlineState),o.z_&&e.X_(o.z_)&&EI(t)})}function C$(n,e){return w(this,null,function*(){let t=re(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function T$(n,e){let t=re(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&EI(t)}function A$(n,e,t){let r=re(n),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(t);r.queries.delete(e)}function EI(n){n.Y_.forEach(e=>{e.next()})}var W_,QA;(QA=W_||(W_={})).ea="default",QA.Cache="cache";var K_=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Es(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Es.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==W_.Cache}};var Rh=class{constructor(e){this.key=e}},Mh=class{constructor(e){this.key=e}},Q_=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ve(),this.mutatedKeys=ve(),this.Aa=gS(e),this.Ra=new Ah(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new Sh,i=t?t.Ra:this.Ra,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let y=i.get(h),g=Bh(this.query,p)?p:null,T=!!y&&this.mutatedKeys.has(y.key),M=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations),R=!1;y&&g?y.data.isEqual(g.data)?T!==M&&(r.track({type:3,doc:g}),R=!0):this.ga(y,g)||(r.track({type:2,doc:g}),R=!0,(u&&this.Aa(g,u)>0||l&&this.Aa(g,l)<0)&&(a=!0)):!y&&g?(r.track({type:0,doc:g}),R=!0):y&&!g&&(r.track({type:1,doc:y}),R=!0,(u||l)&&(a=!0)),R&&(g?(s=s.add(g),o=M?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,p)=>function(g,T){let M=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X()}};return M(g)-M(T)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=t&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new Es(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Sh,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ve(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new Mh(r))}),this.da.forEach(r=>{e.has(r)||t.push(new Rh(r))}),t}ba(e){this.Ta=e.Ts,this.da=ve();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Es.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},Y_=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},J_=class{constructor(e){this.key=e,this.va=!1}},Z_=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new ei(a=>mS(a),jh),this.Ma=new Map,this.xa=new Set,this.Oa=new He(Y.comparator),this.Na=new Map,this.La=new Mc,this.Ba={},this.ka=new Map,this.qa=Rc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function S$(n,e,t=!0){return w(this,null,function*(){let r=KS(n),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield HS(r,e,t,!0),i})}function R$(n,e){return w(this,null,function*(){let t=KS(n);yield HS(t,e,!0,!1)})}function HS(n,e,t,r){return w(this,null,function*(){let i=yield l$(n.localStore,Mn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield M$(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&LS(n.remoteStore,i),a})}function M$(n,e,t,r,i){return w(this,null,function*(){n.Ka=(p,y,g)=>function(M,R,L,H){return w(this,null,function*(){let B=R.view.ma(L);B.ns&&(B=yield qA(M.localStore,R.query,!1).then(({documents:E})=>R.view.ma(E,B)));let ie=H&&H.targetChanges.get(R.targetId),Te=H&&H.targetMismatches.get(R.targetId)!=null,J=R.view.applyChanges(B,M.isPrimaryClient,ie,Te);return JA(M,R.targetId,J.wa),J.snapshot})}(n,p,y,g);let o=yield qA(n.localStore,e,!0),s=new Q_(e,o.Ts),a=s.ma(o.documents),u=Ac.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);JA(n,t,l.wa);let h=new Y_(e,t,s);return n.Fa.set(e,h),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),l.snapshot})}function x$(n,e,t){return w(this,null,function*(){let r=re(n),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!jh(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield O_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&yI(r.remoteStore,i.targetId),X_(r,i.targetId)}).catch(kc))):(X_(r,i.targetId),yield O_(r.localStore,i.targetId,!0))})}function N$(n,e){return w(this,null,function*(){let t=re(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),yI(t.remoteStore,r.targetId))})}function P$(n,e,t){return w(this,null,function*(){let r=j$(n);try{let i=yield function(s,a){let u=re(s),l=ct.now(),h=a.reduce((g,T)=>g.add(T.key),ve()),p,y;return u.persistence.runTransaction("Locally write mutations","readwrite",g=>{let T=hr(),M=ve();return u.cs.getEntries(g,h).next(R=>{T=R,T.forEach((L,H)=>{H.isValidDocument()||(M=M.add(L))})}).next(()=>u.localDocuments.getOverlayedDocuments(g,T)).next(R=>{p=R;let L=[];for(let H of a){let B=VB(H,p.get(H.key).overlayedDocument);B!=null&&L.push(new fr(H.key,B,uS(B.value.mapValue),Vi.exists(!0)))}return u.mutationQueue.addMutationBatch(g,l,L,a)}).next(R=>{y=R;let L=R.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(g,R.batchId,L)})}).then(()=>({batchId:y.batchId,changes:vS(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Ba[s.currentUser.toKey()];l||(l=new He(be)),l=l.insert(a,u),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,t),yield Vc(r,i.changes),yield zh(r.remoteStore)}catch(i){let o=wI(i,"Failed to persist write");t.reject(o)}})}function zS(n,e){return w(this,null,function*(){let t=re(n);try{let r=yield a$(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Na.get(o);s&&(Me(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Me(s.va):i.removedDocuments.size>0&&(Me(s.va),s.va=!1))}),yield Vc(t,r,e)}catch(r){yield kc(r)}})}function YA(n,e,t){let r=re(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=re(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let y of p.j_)y.Z_(a)&&(l=!0)}),l&&EI(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function O$(n,e,t){return w(this,null,function*(){let r=re(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new He(Y.comparator);s=s.insert(o,dn.newNoDocument(o,se.min()));let a=ve().add(o),u=new gh(se.min(),new Map,new He(be),s,a);yield zS(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),bI(r)}else yield O_(r.localStore,e,!1).then(()=>X_(r,e,t)).catch(kc)})}function k$(n,e){return w(this,null,function*(){let t=re(n),r=e.batch.batchId;try{let i=yield s$(t.localStore,e);qS(t,r,null),GS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Vc(t,i)}catch(i){yield kc(i)}})}function F$(n,e,t){return w(this,null,function*(){let r=re(n);try{let i=yield function(s,a){let u=re(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Me(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);qS(r,e,t),GS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Vc(r,i)}catch(i){yield kc(i)}})}function GS(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function qS(n,e,t){let r=re(n),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function X_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||WS(n,r)})}function WS(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(yI(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),bI(n))}function JA(n,e,t){for(let r of t)r instanceof Rh?(n.La.addReference(r.key,e),L$(n,r)):r instanceof Mh?(q("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||WS(n,r.key)):X()}function L$(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(q("SyncEngine","New document in limbo: "+t),n.xa.add(r),bI(n))}function bI(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new Y($e.fromString(e)),r=n.qa.next();n.Na.set(r,new J_(t)),n.Oa=n.Oa.insert(t,r),LS(n.remoteStore,new Sc(Mn(pI(t.path)),r,"TargetPurposeLimboResolution",oS.oe))}}function Vc(n,e,t){return w(this,null,function*(){let r=re(n),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=M_.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return w(this,null,function*(){let h=re(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>F.forEach(l,y=>F.forEach(y.$i,g=>h.persistence.referenceDelegate.addReference(p,y.targetId,g)).next(()=>F.forEach(y.Ui,g=>h.persistence.referenceDelegate.removeReference(p,y.targetId,g)))))}catch(p){if(!Fc(p))throw p;q("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let y=p.targetId;if(!p.fromCache){let g=h.os.get(y),T=g.snapshotVersion,M=g.withLastLimboFreeSnapshotVersion(T);h.os=h.os.insert(y,M)}}})}(r.localStore,o))})}function V$(n,e){return w(this,null,function*(){let t=re(n);if(!t.currentUser.isEqual(e)){q("SyncEngine","User change. New user:",e.toKey());let r=yield kS(t.localStore,e);t.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new K(O.CANCELLED,s))})}),o.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Vc(t,r.hs)}})}function U$(n,e){let t=re(n),r=t.Na.get(e);if(r&&r.va)return ve().add(r.key);{let i=ve(),o=t.Ma.get(e);if(!o)return i;for(let s of o){let a=t.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function KS(n){let e=re(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=zS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=U$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=O$.bind(null,e),e.Ca.d_=T$.bind(null,e.eventManager),e.Ca.$a=A$.bind(null,e.eventManager),e}function j$(n){let e=re(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=k$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=F$.bind(null,e),e}var ZA=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return w(this,null,function*(){this.serializer=$h(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,r){return null}Ha(t,r){return null}za(t){return o$(this.persistence,new N_,t.initialUser,this.serializer)}Ga(t){return new A_(R_.Zr,this.serializer)}Wa(t){return new k_}terminate(){return w(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var B$=(()=>{class n{initialize(t,r){return w(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>YA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=V$.bind(null,this.syncEngine),yield b$(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new q_}()}createDatastore(t){let r=$h(t.databaseInfo.databaseId),i=function(s){return new V_(s)}(t.databaseInfo);return function(s,a,u,l){return new B_(s,a,u,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,u){return new H_(i,o,s,a,u)}(this.localStore,this.datastore,t.asyncQueue,r=>YA(this.syncEngine,r,0),function(){return bh.D()?new bh:new F_}())}createSyncEngine(t,r){return function(o,s,a,u,l,h,p){let y=new Z_(o,s,a,u,l,h);return p&&(y.Qa=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return w(this,null,function*(){var t,r;yield function(o){return w(this,null,function*(){let s=re(o);q("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield Lc(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var eI=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):lr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var tI=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=it.UNAUTHENTICATED,this.clientId=uh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>w(this,null,function*(){q("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(q("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=wI(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function xv(n,e){return w(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),q("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>w(this,null,function*(){r.isEqual(i)||(yield kS(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function XA(n,e){return w(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield $$(n);q("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>WA(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>WA(e.remoteStore,i)),n._onlineComponents=e})}function $$(n){return w(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){q("FirestoreClient","Using user provided OfflineComponentProvider");try{yield xv(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===O.FAILED_PRECONDITION||i.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;ds("Error using user provided cache. Falling back to memory cache: "+t),yield xv(n,new ZA)}}else q("FirestoreClient","Using default OfflineComponentProvider"),yield xv(n,new ZA);return n._offlineComponents})}function QS(n){return w(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(q("FirestoreClient","Using user provided OnlineComponentProvider"),yield XA(n,n._uninitializedComponentsProvider._online)):(q("FirestoreClient","Using default OnlineComponentProvider"),yield XA(n,new B$))),n._onlineComponents})}function H$(n){return QS(n).then(e=>e.syncEngine)}function eS(n){return w(this,null,function*(){let e=yield QS(n),t=e.eventManager;return t.onListen=S$.bind(null,e.syncEngine),t.onUnlisten=x$.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=R$.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=N$.bind(null,e.syncEngine),t})}function YS(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var tS=new Map;function JS(n,e,t){if(!t)throw new K(O.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function z$(n,e,t,r){if(e===!0&&r===!0)throw new K(O.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function nS(n){if(!Y.isDocumentKey(n))throw new K(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function rS(n){if(Y.isDocumentKey(n))throw new K(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function DI(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":X()}function bc(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new K(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=DI(n);throw new K(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var xh=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new K(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new K(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}z$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new K(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new K(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new K(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},bs=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xh({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Nv;switch(r.type){case"firstParty":return new Fv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return w(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=tS.get(t);r&&(q("ComponentProvider","Removing Datastore"),tS.delete(t),r.terminate())}(this),Promise.resolve()}};function ZS(n,e,t,r={}){var i;let o=(n=bc(n,bs))._getSettings(),s=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&ds("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=it.MOCK_USER;else{a=aT(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new K(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new it(l)}n._authCredentials=new Pv(new ch(a,u))}}var Nh=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Jt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Zr=class n extends Nh{constructor(e,t,r){super(e,t,pI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Jt(this.firestore,null,new Y(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function XS(n,e,...t){if(n=Mt(n),JS("collection","path",e),n instanceof bs){let r=$e.fromString(e,...t);return rS(r),new Zr(n,null,r)}{if(!(n instanceof Jt||n instanceof Zr))throw new K(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child($e.fromString(e,...t));return rS(r),new Zr(n.firestore,null,r)}}function eR(n,e,...t){if(n=Mt(n),arguments.length===1&&(e=uh.newId()),JS("doc","path",e),n instanceof bs){let r=$e.fromString(e,...t);return nS(r),new Jt(n,null,new Y(r))}{if(!(n instanceof Jt||n instanceof Zr))throw new K(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child($e.fromString(e,...t));return nS(r),new Jt(n.firestore,n instanceof Zr?n.converter:null,new Y(r))}}var Ph=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Dh(this,"async_queue_retry"),this.Vu=()=>{let r=Mv();r&&q("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=Mv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=Mv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new ur;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return w(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Fc(e))throw e;q("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw lr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=z_.createAndSchedule(this,e,t,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&X()}verifyOperationInProgress(){}wu(){return w(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};function iS(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var Ds=class extends bs{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Ph,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return w(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Ph(e),this._firestoreClient=void 0,yield e}})}};function tR(n,e){let t=typeof n=="object"?n:Zo(),r=typeof n=="string"?n:e||"(default)",i=sc(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=sT("firestore");o&&ZS(i,...o)}return i}function nR(n){if(n._terminated)throw new K(O.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||G$(n),n._firestoreClient}function G$(n){var e,t,r;let i=n._freezeSettings(),o=function(a,u,l,h){return new Bv(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,YS(h.experimentalLongPollingOptions),h.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new tI(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(n._componentsProvider))}var xc=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(yt.fromBase64String(e))}catch(t){throw new K(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Nc=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new K(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Oh=class{constructor(e){this._methodName=e}};var Pc=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new K(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new K(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}};var Oc=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var q$=/^__.*__$/,nI=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new fr(e,this.data,this.fieldMask,t,this.fieldTransforms):new zi(e,this.data,t,this.fieldTransforms)}};function rR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X()}}var rI=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return kh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(rR(this.Cu)&&q$.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},iI=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||$h(e)}Qu(e,t,r,i=!1){return new rI({Cu:e,methodName:t,qu:r,path:jt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function W$(n){let e=n._freezeSettings(),t=$h(n._databaseId);return new iI(n._databaseId,!!e.ignoreUndefinedProperties,t)}function K$(n,e,t,r,i,o={}){let s=n.Qu(o.merge||o.mergeFields?2:0,e,t,i);aR("Data must be an object, but it was:",s,r);let a=oR(r,s),u,l;if(o.merge)u=new Sn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let y=Q$(e,p,t);if(!s.contains(y))throw new K(O.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);J$(h,y)||h.push(y)}u=new Sn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new nI(new ln(a),u,l)}function iR(n,e){if(sR(n=Mt(n)))return aR("Unsupported field value:",e,n),oR(n,e);if(n instanceof Oh)return function(r,i){if(!rR(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=iR(a,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Mt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return PB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=ct.fromDate(r);return{timestampValue:Ih(i.serializer,o)}}if(r instanceof ct){let o=new ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ih(i.serializer,o)}}if(r instanceof Pc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xc)return{bytesValue:SS(i.serializer,r._byteString)};if(r instanceof Jt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:gI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Oc)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return mI(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${DI(r)}`)}(n,e)}function oR(n,e){let t={};return sS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ts(n,(r,i)=>{let o=iR(i,e.Mu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function sR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ct||n instanceof Pc||n instanceof xc||n instanceof Jt||n instanceof Oh||n instanceof Oc)}function aR(n,e,t){if(!sR(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=DI(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function Q$(n,e,t){if((e=Mt(e))instanceof Nc)return e._internalPath;if(typeof e=="string")return cR(n,e);throw kh("Field path arguments must be of type string or ",n,!1,void 0,t)}var Y$=new RegExp("[~\\*/\\[\\]]");function cR(n,e,t){if(e.search(Y$)>=0)throw kh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Nc(...e.split("."))._internalPath}catch{throw kh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function kh(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new K(O.INVALID_ARGUMENT,a+n+u)}function J$(n,e){return n.some(t=>t.isEqual(e))}var Fh=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new oI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(uR("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},oI=class extends Fh{data(){return super.data()}};function uR(n,e){return typeof e=="string"?cR(n,e):e instanceof Nc?e._internalPath:e._delegate._internalPath}function Z$(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new K(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var sI=class{convertValue(e,t="none"){switch(Bi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ue(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Xr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw X()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Ts(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ue(s.doubleValue));return new Oc(o)}convertGeoPoint(e){return new Pc(Ue(e.latitude),Ue(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=lI(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Cc(e));default:return null}}convertTimestamp(e){let t=dr(e);return new ct(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=$e.fromString(e);Me(OS(r));let i=new fh(r.get(1),r.get(3)),o=new Y(r.popFirst(5));return i.isEqual(t)||lr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function X$(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Li=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Lh=class extends Fh{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new ls(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(uR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},ls=class extends Lh{data(e={}){return super.data(e)}},aI=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Li(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ls(this._firestore,this._userDataWriter,r.key,r,new Li(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new K(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new ls(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Li(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new ls(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Li(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:eH(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function eH(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X()}}var Vh=class extends sI{constructor(e){super(),this.firestore=e}convertBytes(e){return new xc(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Jt(this.firestore,null,t)}};function lR(n,e){let t=bc(n.firestore,Ds),r=eR(n),i=X$(n.converter,e);return tH(t,[K$(W$(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Vi.exists(!1))]).then(()=>r)}function CI(n,...e){var t,r,i;n=Mt(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||iS(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(iS(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(n instanceof Jt)l=bc(n.firestore,Ds),h=pI(n._key.path),u={next:p=>{e[s]&&e[s](nH(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=bc(n,Nh);l=bc(p.firestore,Ds),h=p._query;let y=new Vh(l);u={next:g=>{e[s]&&e[s](new aI(l,y,p,g))},error:e[s+1],complete:e[s+2]},Z$(n._query)}return function(y,g,T,M){let R=new eI(M),L=new K_(g,R,T);return y.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return D$(yield eS(y),L)})),()=>{R.Za(),y.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return C$(yield eS(y),L)}))}}(nR(l),h,a,u)}function tH(n,e){return function(r,i){let o=new ur;return r.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return P$(yield H$(r),i,o)})),o.promise}(nR(n),e)}function nH(n,e,t){let r=t.docs.get(e._key),i=new Vh(n);return new Lh(n,i,e._key,r,new Li(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Cs=i})(Wr),qr(new Yt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Ds(new Ov(r.getProvider("auth-internal")),new Vv(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new K(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fh(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ze(TA,"4.7.3",e),Ze(TA,"4.7.3","esm2017")})();var Gh=function(){return Gh=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Gh.apply(this,arguments)};var oH={includeMetadataChanges:!1};function dR(n,e){return e===void 0&&(e=oH),new ue(function(t){var r=CI(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function hR(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:Gh(Gh({},r),(t={},t[e.idField]=n.id,t))}function fR(n){return dR(n,{includeMetadataChanges:!0}).pipe(ee(function(e){return e.docs}))}function pR(n,e){return e===void 0&&(e={}),fR(n).pipe(ee(function(t){return t.map(function(r){return hR(r,e)})}))}var qi=class{constructor(e){return e}},mR="firestore",TI=class{constructor(){return ac(mR)}};var AI=new $("angularfire2.firestore-instances");function sH(n,e){let t=Ld(mR,n,e);return t&&new qi(t)}function aH(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new qi(r)}}var cH={provide:TI,deps:[[new Tt,AI]]},uH={provide:qi,useFactory:sH,deps:[[new Tt,AI],or]};function gR(n,...e){return Ze("angularfire",Ri.full,"fst"),zt([uH,cH,{provide:AI,useFactory:aH(n),multi:!0,deps:[Ee,at,ts,Mi,[new Tt,mc],[new Tt,es],...e]}])}var SI=ir(pR,!0);var RI=ir(lR,!0);var Uc=ir(XS,!0);var yR=ir(tR,!0);var xt=class n{firestore=P(qi);constructor(){}agregarPelicula(e){return w(this,null,function*(){let t=Uc(this.firestore,"peliculas");yield RI(t,V({},e))})}traerPeliculas(){let e=Uc(this.firestore,"peliculas");return SI(e)}agregarActor(e){return w(this,null,function*(){let t=Uc(this.firestore,"actores");yield RI(t,V({},e))})}traerActores(){let e=Uc(this.firestore,"actores");return SI(e)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};var qh=class n{firebaseService=P(xt);pelicula=[];detallePelicula;constructor(){this.firebaseService.traerPeliculas().subscribe(e=>{this.pelicula=e})}obtenerDetallePelicula(e){this.detallePelicula=e}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ne({type:n,selectors:[["app-peliculas"]],standalone:!0,features:[Pe],decls:8,vars:2,consts:[[1,"pelicula"],[1,"titulo"],[1,"linea-horizontal"],[1,"tabla-pelicula"],[3,"detallePelicula","peliculas"],[1,"detalle-pelicula"],[3,"obtenerDetallePelicula"]],template:function(t,r){t&1&&(x(0,"div",0)(1,"h1",1),k(2,"Peliculas"),N(),De(3,"div",2),x(4,"div",3)(5,"app-tabla-peliculas",4),Le("detallePelicula",function(o){return r.obtenerDetallePelicula(o)}),N(),x(6,"div",5),De(7,"app-detalle-peliculas",6),N()()()),t&2&&(j(5),G("peliculas",r.pelicula),j(2),G("obtenerDetallePelicula",r.detallePelicula))},dependencies:[Rd,Md],styles:[".pelicula[_ngcontent-%COMP%]{display:block}.titulo[_ngcontent-%COMP%]{text-align:left;margin-left:20%;font-family:Inter,sans-serif}.linea-horizontal[_ngcontent-%COMP%]{width:60%;height:2px;background-color:#616161;margin-top:5px;margin-left:20%}.tabla-pelicula[_ngcontent-%COMP%]{display:flex;position:absolute;justify-content:center;width:60%;height:50%;margin-top:1%;right:50%;font-family:Inter,sans-serif}.detalle-pelicula[_ngcontent-%COMP%]{display:flex;position:absolute;justify-content:center;top:105%;width:100%;height:200px}"]})};var AR=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(me(In),me(sn))}}static{this.\u0275dir=Je({type:n})}}return n})(),kI=(()=>{class n extends AR{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=wi(n)))(i||n)}})()}static{this.\u0275dir=Je({type:n,features:[wn]})}}return n})(),nf=new $("");var lH={provide:nf,useExisting:Nr(()=>Ns),multi:!0};function dH(){let n=Qn()?Qn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var hH=new $(""),Ns=(()=>{class n extends AR{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!dH())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(me(In),me(sn),me(hH,8))}}static{this.\u0275dir=Je({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Le("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Fo([lH]),wn]})}}return n})();function ni(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function SR(n){return n!=null&&typeof n.length=="number"}var RR=new $(""),MR=new $(""),fH=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ce=class{static min(e){return pH(e)}static max(e){return mH(e)}static required(e){return gH(e)}static requiredTrue(e){return yH(e)}static email(e){return vH(e)}static minLength(e){return _H(e)}static maxLength(e){return IH(e)}static pattern(e){return wH(e)}static nullValidator(e){return xR(e)}static compose(e){return LR(e)}static composeAsync(e){return UR(e)}};function pH(n){return e=>{if(ni(e.value)||ni(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function mH(n){return e=>{if(ni(e.value)||ni(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function gH(n){return ni(n.value)?{required:!0}:null}function yH(n){return n.value===!0?null:{required:!0}}function vH(n){return ni(n.value)||fH.test(n.value)?null:{email:!0}}function _H(n){return e=>ni(e.value)||!SR(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function IH(n){return e=>SR(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function wH(n){if(!n)return xR;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(ni(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function xR(n){return null}function NR(n){return n!=null}function PR(n){return Ei(n)?Fe(n):n}function OR(n){let e={};return n.forEach(t=>{e=t!=null?V(V({},e),t):e}),Object.keys(e).length===0?null:e}function kR(n,e){return e.map(t=>t(n))}function EH(n){return!n.validate}function FR(n){return n.map(e=>EH(e)?e:t=>e.validate(t))}function LR(n){if(!n)return null;let e=n.filter(NR);return e.length==0?null:function(t){return OR(kR(t,e))}}function VR(n){return n!=null?LR(FR(n)):null}function UR(n){if(!n)return null;let e=n.filter(NR);return e.length==0?null:function(t){let r=kR(t,e).map(PR);return yp(r).pipe(ee(OR))}}function jR(n){return n!=null?UR(FR(n)):null}function vR(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function BR(n){return n._rawValidators}function $R(n){return n._rawAsyncValidators}function MI(n){return n?Array.isArray(n)?n:[n]:[]}function Qh(n,e){return Array.isArray(n)?n.includes(e):n===e}function _R(n,e){let t=MI(e);return MI(n).forEach(i=>{Qh(t,i)||t.push(i)}),t}function IR(n,e){return MI(e).filter(t=>!Qh(n,t))}var Yh=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=VR(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=jR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Ms=class extends Yh{get formDirective(){return null}get path(){return null}},zc=class extends Yh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Jh=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},bH={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},KQ=he(V({},bH),{"[class.ng-submitted]":"isSubmitted"}),rf=(()=>{class n extends Jh{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(me(zc,2))}}static{this.\u0275dir=Je({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Gl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[wn]})}}return n})(),of=(()=>{class n extends Jh{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(me(Ms,10))}}static{this.\u0275dir=Je({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Gl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[wn]})}}return n})();var jc="VALID",Wh="INVALID",Ss="PENDING",Bc="DISABLED",ri=class{},Zh=class extends ri{constructor(e,t){super(),this.value=e,this.source=t}},$c=class extends ri{constructor(e,t){super(),this.pristine=e,this.source=t}},Hc=class extends ri{constructor(e,t){super(),this.touched=e,this.source=t}},Rs=class extends ri{constructor(e,t){super(),this.status=e,this.source=t}},xI=class extends ri{constructor(e){super(),this.source=e}},NI=class extends ri{constructor(e){super(),this.source=e}};function FI(n){return(sf(n)?n.validators:n)||null}function DH(n){return Array.isArray(n)?VR(n):n||null}function LI(n,e){return(sf(e)?e.asyncValidators:n)||null}function CH(n){return Array.isArray(n)?jR(n):n||null}function sf(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function HR(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new W(1e3,"");if(!r[t])throw new W(1001,"")}function zR(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new W(1002,"")})}var xs=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Ca(()=>this.statusReactive()),this.statusReactive=ba(void 0),this._pristine=Ca(()=>this.pristineReactive()),this.pristineReactive=ba(!0),this._touched=Ca(()=>this.touchedReactive()),this.touchedReactive=ba(!1),this._events=new et,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Wn(this.statusReactive)}set status(e){Wn(()=>this.statusReactive.set(e))}get valid(){return this.status===jc}get invalid(){return this.status===Wh}get pending(){return this.status==Ss}get disabled(){return this.status===Bc}get enabled(){return this.status!==Bc}get pristine(){return Wn(this.pristineReactive)}set pristine(e){Wn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Wn(this.touchedReactive)}set touched(e){Wn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(_R(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(_R(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(IR(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(IR(e,this._rawAsyncValidators))}hasValidator(e){return Qh(this._rawValidators,e)}hasAsyncValidator(e){return Qh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(he(V({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Hc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Hc(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(he(V({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new $c(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new $c(!0,r))}markAsPending(e={}){this.status=Ss;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Rs(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(he(V({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Bc,this.errors=null,this._forEachChild(i=>{i.disable(he(V({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Zh(this.value,r)),this._events.next(new Rs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(he(V({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=jc,this._forEachChild(r=>{r.enable(he(V({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(he(V({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===jc||this.status===Ss)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Zh(this.value,t)),this._events.next(new Rs(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(he(V({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Bc:jc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Ss,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=PR(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Rs(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new xe,this.statusChanges=new xe}_calculateStatus(){return this._allControlsDisabled()?Bc:this.errors?Wh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ss)?Ss:this._anyControlsHaveStatus(Wh)?Wh:jc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new $c(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Hc(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){sf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=DH(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=CH(this._rawAsyncValidators)}},Xh=class extends xs{constructor(e,t,r){super(FI(t),LI(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){zR(this,!0,e),Object.keys(e).forEach(r=>{HR(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var PI=class extends Xh{};var VI=new $("CallSetDisabledState",{providedIn:"root",factory:()=>af}),af="always";function TH(n,e){return[...e.path,n]}function wR(n,e,t=af){UI(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),SH(n,e),MH(n,e),RH(n,e),AH(n,e)}function ER(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),tf(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function ef(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function AH(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function UI(n,e){let t=BR(n);e.validator!==null?n.setValidators(vR(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=$R(n);e.asyncValidator!==null?n.setAsyncValidators(vR(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();ef(e._rawValidators,i),ef(e._rawAsyncValidators,i)}function tf(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=BR(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=$R(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return ef(e._rawValidators,r),ef(e._rawAsyncValidators,r),t}function SH(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&GR(n,e)})}function RH(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&GR(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function GR(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function MH(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function xH(n,e){n==null,UI(n,e)}function NH(n,e){return tf(n,e)}function PH(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function OH(n){return Object.getPrototypeOf(n.constructor)===kI}function kH(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function FH(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Ns?t=o:OH(o)?r=o:i=o}),i||r||t||null}function LH(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function bR(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function DR(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Kh=class extends xs{constructor(e=null,t,r){super(FI(t),LI(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),sf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(DR(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){bR(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){bR(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){DR(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var VH=n=>n instanceof Kh;var cf=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Je({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();var qR=new $("");var UH={provide:Ms,useExisting:Nr(()=>Gc)},Gc=(()=>{class n extends Ms{get submitted(){return Wn(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=Ca(()=>this._submittedReactive()),this._submittedReactive=ba(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new xe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(tf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return wR(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){ER(t.control||null,t,!1),LH(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),kH(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new xI(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new NI(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(ER(r||null,t),VH(i)&&(wR(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);xH(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&NH(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){UI(this.form,this),this._oldForm&&tf(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||n)(me(RR,10),me(MR,10),me(VI,8))}}static{this.\u0275dir=Je({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Le("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Fo([UH]),wn,Pr]})}}return n})();var jH={provide:zc,useExisting:Nr(()=>qc)},qc=(()=>{class n extends zc{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new xe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=FH(this,o)}ngOnChanges(t){this._added||this._setUpControl(),PH(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return TH(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(me(Ms,13),me(RR,10),me(MR,10),me(nf,10),me(qR,8))}}static{this.\u0275dir=Je({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Fo([jH]),wn,Pr]})}}return n})(),BH={provide:nf,useExisting:Nr(()=>uf),multi:!0};function WR(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function $H(n){return n.split(":")[0]}var uf=(()=>{class n extends kI{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r=this._getOptionId(t),i=WR(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=$H(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=wi(n)))(i||n)}})()}static{this.\u0275dir=Je({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Le("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Fo([BH]),wn]})}}return n})(),lf=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(WR(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(me(sn),me(In),me(uf,9))}}static{this.\u0275dir=Je({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),HH={provide:nf,useExisting:Nr(()=>KR),multi:!0};function CR(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function zH(n){return n.split(":")[0]}var KR=(()=>{class n extends kI{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let u=s[a],l=this._getOptionValue(u.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let u=s[a];if(u.selected){let l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=zH(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=wi(n)))(i||n)}})()}static{this.\u0275dir=Je({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Le("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Fo([HH]),wn]})}}return n})(),df=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(CR(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(CR(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(me(sn),me(In),me(KR,9))}}static{this.\u0275dir=Je({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();var QR=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=_n({type:n})}static{this.\u0275inj=vn({})}}return n})(),OI=class extends xs{constructor(e,t,r){super(FI(t),LI(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){zR(this,!1,e),e.forEach((r,i)=>{HR(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function TR(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var hf=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return TR(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Xh(i,o)}record(t,r=null){let i=this._reduceControls(t);return new PI(i,r)}control(t,r,i){let o={};return this.useNonNullable?(TR(r)?o=r:(o.validators=r,o.asyncValidators=i),new Kh(t,he(V({},o),{nonNullable:!0}))):new Kh(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new OI(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Kh)return t;if(t instanceof xs)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var YR=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:VI,useValue:t.callSetDisabledState??af}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=_n({type:n})}static{this.\u0275inj=vn({imports:[QR]})}}return n})(),ff=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:qR,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:VI,useValue:t.callSetDisabledState??af}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=_n({type:n})}static{this.\u0275inj=vn({imports:[QR]})}}return n})();var pf=class{nombre;apellido;dni;edad;pais;constructor(e,t,r,i,o){this.nombre=e,this.apellido=t,this.dni=r,this.edad=i,this.pais=o}};var Ps=class n{http=P(Cg);api_url="";constructor(){}obtenerPaises(){return this.http.get("https://restcountries.com/v3.1/all?fields=name",{responseType:"json"})}obtenerDetallePais(e){let t=`https://restcountries.com/v3.1/name/${e}`;return this.http.get(t,{responseType:"json"})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};var mf=class n{api=P(Ps);tabla="";pais=new xe;constructor(){this.obtenerPaises()}obtenerPaises(){this.api.obtenerPaises().subscribe(e=>{e.forEach(t=>{this.tabla+='<option value="'+t.name.common+'">'+t.name.common+"</option>"}),document.getElementById("paises").innerHTML+=this.tabla})}recibirPais(e){let t=e.target;this.pais.emit(t.value)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ne({type:n,selectors:[["app-tabla-paises"]],outputs:{pais:"pais"},standalone:!0,features:[Pe],decls:3,vars:0,consts:[["id","paises",1,"custom-select",3,"change"],["value","0","disabled","","selected","","hidden",""]],template:function(t,r){t&1&&(x(0,"select",0),Le("change",function(o){return r.recibirPais(o)}),x(1,"option",1),k(2,"Seleccionar Pa\xEDs"),N()())},dependencies:[YR,lf,df],styles:[`@charset "UTF-8";.custom-select[_ngcontent-%COMP%]{width:50vh;padding:10px;border:1px solid #ccc;border-radius:5px;background-color:#f5f5f5;font-size:1rem;outline:none;appearance:none;background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 10 10"><polygon points="0,3 5,8 10,3" fill="%23333"/></svg>');background-repeat:no-repeat;background-position:right 10px center;background-size:10px;cursor:pointer;margin-right:200px}.custom-select[_ngcontent-%COMP%]:focus{border-color:#007bff;background-color:#fff}`]})};var Wc=n=>({"input-error":n});function GH(n,e){n&1&&(x(0,"p",14),k(1,"*Campo obligatorio"),N())}function qH(n,e){n&1&&(x(0,"p",14),k(1,"M\xEDnimo 2 caracteres"),N())}function WH(n,e){n&1&&(x(0,"p",14),k(1,"Solo letras"),N())}function KH(n,e){if(n&1&&(x(0,"div"),ge(1,GH,2,0,"p",13)(2,qH,2,0,"p",13)(3,WH,2,0,"p",13),N()),n&2){let t=Se();j(),G("ngIf",t.formGroup.controls.nombre.errors.required),j(),G("ngIf",t.formGroup.controls.nombre.errors.minlength),j(),G("ngIf",t.formGroup.controls.nombre.errors.pattern)}}function QH(n,e){n&1&&(x(0,"p",14),k(1,"*Campo obligatorio"),N())}function YH(n,e){n&1&&(x(0,"p",14),k(1,"M\xEDnimo 2 caracteres"),N())}function JH(n,e){n&1&&(x(0,"p",14),k(1,"Solo letras"),N())}function ZH(n,e){if(n&1&&(x(0,"div"),ge(1,QH,2,0,"p",13)(2,YH,2,0,"p",13)(3,JH,2,0,"p",13),N()),n&2){let t=Se();j(),G("ngIf",t.formGroup.controls.apellido.errors.required),j(),G("ngIf",t.formGroup.controls.apellido.errors.minlength),j(),G("ngIf",t.formGroup.controls.apellido.errors.pattern)}}function XH(n,e){n&1&&(x(0,"p",14),k(1,"*Campo obligatorio"),N())}function ez(n,e){n&1&&(x(0,"p",14),k(1,"M\xEDnimo 7 numeros"),N())}function tz(n,e){n&1&&(x(0,"p",14),k(1,"M\xE1ximo 8 n\xFAmeros"),N())}function nz(n,e){n&1&&(x(0,"p",14),k(1,"Solo n\xFAmeros"),N())}function rz(n,e){if(n&1&&(x(0,"div"),ge(1,XH,2,0,"p",13)(2,ez,2,0,"p",13)(3,tz,2,0,"p",13)(4,nz,2,0,"p",13),N()),n&2){let t=Se();j(),G("ngIf",t.formGroup.controls.dni.errors.required),j(),G("ngIf",t.formGroup.controls.dni.errors.minlength),j(),G("ngIf",t.formGroup.controls.dni.errors.maxlength),j(),G("ngIf",t.formGroup.controls.dni.errors.pattern)}}function iz(n,e){n&1&&(x(0,"p",14),k(1,"*Campo obligatorio"),N())}function oz(n,e){n&1&&(x(0,"p",14),k(1,"M\xEDnimo 1 n\xFAmero"),N())}function sz(n,e){n&1&&(x(0,"p",14),k(1,"M\xE1ximo 2 n\xFAmeros"),N())}function az(n,e){n&1&&(x(0,"p",14),k(1,"Solo n\xFAmeros"),N())}function cz(n,e){if(n&1&&(x(0,"div"),ge(1,iz,2,0,"p",13)(2,oz,2,0,"p",13)(3,sz,2,0,"p",13)(4,az,2,0,"p",13),N()),n&2){let t=Se();j(),G("ngIf",t.formGroup.controls.edad.errors.required),j(),G("ngIf",t.formGroup.controls.edad.errors.minlength),j(),G("ngIf",t.formGroup.controls.edad.errors.maxlength),j(),G("ngIf",t.formGroup.controls.edad.errors.pattern)}}function uz(n,e){n&1&&(x(0,"p",14),k(1,"*Campo obligatorio"),N())}function lz(n,e){if(n&1&&(x(0,"div"),ge(1,uz,2,0,"p",13),N()),n&2){let t=Se();j(),G("ngIf",t.formGroup.controls.pais.errors.required)}}var gf=class n{firebaseService=P(xt);formBuilder=P(hf);formGroup;invalido=!1;constructor(){this.formGroup=this.formBuilder.group({nombre:["",[Ce.required,Ce.minLength(2),Ce.pattern("[a-zA-Z ]*")]],apellido:["",[Ce.required,Ce.minLength(2),Ce.pattern("[a-zA-Z ]*")]],dni:["",[Ce.required,Ce.minLength(7),Ce.maxLength(8),Ce.pattern("[0-9]*")]],edad:["",[Ce.required,Ce.minLength(1),Ce.maxLength(2),Ce.pattern("[0-9]*")]],pais:["",[Ce.required]]})}obtenerPais(e){e!==""&&e!=="0"&&this.formGroup.controls.pais.setValue(e)}altaActor(){if(this.formGroup.invalid){this.invalido=!0;return}let e=new pf(this.formGroup.controls.nombre.value,this.formGroup.controls.apellido.value,this.formGroup.controls.dni.value,this.formGroup.controls.edad.value,this.formGroup.controls.pais.value);this.firebaseService.agregarActor(e),this.formGroup.reset(),this.invalido=!1}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ne({type:n,selectors:[["app-alta-actor"]],standalone:!0,features:[Pe],decls:27,vars:21,consts:[[1,"form"],["action","",3,"ngSubmit","formGroup"],[1,"form_group"],[1,"input-label"],["formControlName","nombre","name","nombre",1,"form-control","custom-input",3,"ngClass"],[4,"ngIf"],["formControlName","apellido","name","apellido",1,"form-control","custom-input",3,"ngClass"],["formControlName","dni","name","dni",1,"form-control","custom-input",3,"ngClass"],["formControlName","edad","name","edad",1,"form-control","custom-input",3,"ngClass"],["formControlName","pais","name","pais","readonly","",1,"form-control","custom-input",3,"ngClass"],["type","submit",1,"btn",2,"margin-top","10px"],[1,"paises"],[3,"pais"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(t,r){t&1&&(x(0,"div",0)(1,"form",1),Le("ngSubmit",function(){return r.altaActor()}),x(2,"div",2)(3,"label",3),k(4,"Nombre"),N(),De(5,"input",4),ge(6,KH,4,3,"div",5),x(7,"label",3),k(8,"Apellido"),N(),De(9,"input",6),ge(10,ZH,4,3,"div",5),x(11,"label",3),k(12,"DNI"),N(),De(13,"input",7),ge(14,rz,5,4,"div",5),x(15,"label",3),k(16,"Edad"),N(),De(17,"input",8),ge(18,cz,5,4,"div",5),x(19,"label",3),k(20,"Pa\xEDs"),N(),De(21,"input",9),ge(22,lz,2,1,"div",5),x(23,"button",10),k(24,"Registrar"),N()()(),x(25,"div",11)(26,"app-tabla-paises",12),Le("pais",function(o){return r.obtenerPais(o)}),N()()()),t&2&&(j(),G("formGroup",r.formGroup),j(4),G("ngClass",Ft(11,Wc,r.formGroup.controls.nombre.errors&&r.formGroup.controls.nombre.touched)),j(),G("ngIf",r.formGroup.controls.nombre.errors&&r.formGroup.controls.nombre.touched),j(3),G("ngClass",Ft(13,Wc,r.formGroup.controls.apellido.errors&&r.formGroup.controls.apellido.touched)),j(),G("ngIf",r.formGroup.controls.apellido.errors&&r.formGroup.controls.apellido.touched),j(3),G("ngClass",Ft(15,Wc,r.formGroup.controls.dni.errors&&r.formGroup.controls.dni.touched)),j(),G("ngIf",r.formGroup.controls.dni.errors&&r.formGroup.controls.dni.touched),j(3),G("ngClass",Ft(17,Wc,r.formGroup.controls.edad.errors&&r.formGroup.controls.edad.touched)),j(),G("ngIf",r.formGroup.controls.edad.errors&&r.formGroup.controls.edad.touched),j(3),G("ngClass",Ft(19,Wc,r.formGroup.controls.pais.errors&&r.formGroup.controls.pais.touched)),j(),G("ngIf",r.formGroup.controls.pais.errors&&r.formGroup.controls.pais.touched))},dependencies:[ff,cf,Ns,rf,of,Gc,qc,mf,Ta,td,nd],styles:['@charset "UTF-8";.form[_ngcontent-%COMP%]{display:flex;position:absolute;margin-top:5%}.form_group[_ngcontent-%COMP%]{display:flex;position:fixed;flex-direction:column;left:35%}.input-label[_ngcontent-%COMP%]{margin-bottom:7px;margin-top:20px;color:#000;font-family:Inter,sans-serif}.custom-input[_ngcontent-%COMP%]{width:50vh;padding:8px;border:1px solid #ccc;border-radius:5px;background-color:#f5f5f5;font-size:1rem;margin-bottom:15px;outline:none;transition:border-color .3s}.custom-input[_ngcontent-%COMP%]:focus{border-color:#007bff}.error-message[_ngcontent-%COMP%]{color:red;font-size:.9rem;margin-top:-10px;margin-bottom:10px;font-family:Inter,sans-serif}.input-error[_ngcontent-%COMP%]{border-color:red}.paises[_ngcontent-%COMP%]{display:flex;position:fixed;right:2%;margin-left:5%}.btn[_ngcontent-%COMP%]{width:50vh;padding:8px;border:none;border-radius:5px;background-color:#000;color:#fff;font-size:1rem;cursor:pointer;transition:background-color .3s}.btn[_ngcontent-%COMP%]{width:30vh;padding:8px;border:1px solid black;border-radius:5px;background-color:#000;color:#fff;font-size:1rem;cursor:pointer;transition:background-color .3s,color .3s;margin:0 auto}.btn[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000}.btn[_ngcontent-%COMP%]:active{background-color:#d4d4d4}']})};function dz(n,e){if(n&1){let t=Ql();x(0,"div",2),Le("click",function(){let i=xl(t).$index,o=Se();return Nl(o.seleccionarActor(i))}),x(1,"p"),k(2),N()()}if(n&2){let t=e.$index,r=Se();j(2),ug("",r.actores[t].nombre," ",r.actores[t].apellido,"")}}var yf=class n{actores=[];detallePelicula=new xe;seleccionarActor(e){this.detallePelicula.emit(this.actores[e])}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ne({type:n,selectors:[["app-listado-actores"]],inputs:{actores:"actores"},outputs:{detallePelicula:"detallePelicula"},standalone:!0,features:[Pe],decls:3,vars:0,consts:[[1,"card-fondo"],[1,"card"],[1,"card",3,"click"]],template:function(t,r){t&1&&(x(0,"div",0),Wl(1,dz,3,2,"div",1,ql),N()),t&2&&(j(),Kl(r.actores))},styles:[".card[_ngcontent-%COMP%]{top:5%;position:relative;width:20%;height:10%;background:#d9d9d994;border:1px solid white;box-shadow:12px 17px 51px #00000038;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);border-radius:17px;text-align:center;cursor:pointer;transition:transform .5s;display:flex;align-items:center;justify-content:center;-webkit-user-select:none;user-select:none;font-weight:bolder;color:#000;left:1%}.card[_ngcontent-%COMP%]:hover{border:1px solid black;transform:scale(1.05)}.card[_ngcontent-%COMP%]:active{transform:scale(.95)}.card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.card-fondo[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;position:absolute;width:100%;height:100%;background-color:#f2f2f2;border-radius:25px;box-shadow:2px 2px 15px #c1c1c1;overflow-y:auto;gap:10px}img[_ngcontent-%COMP%]{margin-top:-10%;max-width:80%;max-height:80%}"]})};function hz(n,e){if(n&1&&k(0),n&2){let t=Se();En(" ",t.actor.nombre," ")}}function fz(n,e){if(n&1&&k(0),n&2){let t=Se();En(" ",t.actor.apellido," ")}}function pz(n,e){if(n&1&&k(0),n&2){let t=Se();En(" ",t.actor.dni," ")}}function mz(n,e){if(n&1&&k(0),n&2){let t=Se();En(" ",t.actor.edad," ")}}function gz(n,e){if(n&1&&k(0),n&2){let t=Se();En(" ",t.actor.pais," ")}}var vf=class n{actor;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ne({type:n,selectors:[["app-detalle-actor"]],inputs:{actor:"actor"},standalone:!0,features:[Pe],decls:29,vars:5,consts:[[1,"card"],[2,"margin-left","10px"],["id","table_actor"]],template:function(t,r){t&1&&(x(0,"div",0)(1,"div",1)(2,"table")(3,"tbody",2)(4,"tr")(5,"td"),k(6,"Nombre:"),N(),x(7,"td"),ge(8,hz,1,1),N()(),x(9,"tr")(10,"td"),k(11,"Apellido:"),N(),x(12,"td"),ge(13,fz,1,1),N()(),x(14,"tr")(15,"td"),k(16,"DNI:"),N(),x(17,"td"),ge(18,pz,1,1),N()(),x(19,"tr")(20,"td"),k(21,"Edad:"),N(),x(22,"td"),ge(23,mz,1,1),N()(),x(24,"tr")(25,"td"),k(26,"Pa\xEDs:"),N(),x(27,"td"),ge(28,gz,1,1),N()()()()()()),t&2&&(j(8),cn(r.actor?8:-1),j(5),cn(r.actor?13:-1),j(5),cn(r.actor?18:-1),j(5),cn(r.actor?23:-1),j(5),cn(r.actor?28:-1))},styles:[".card[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background-color:#1a1a1a;border-radius:10px;transition:all .2s;color:#fff;justify-content:center}td[_ngcontent-%COMP%]{padding-right:10px;padding-bottom:10px;text-align:right}"]})};function yz(n,e){if(n&1&&De(0,"img",3),n&2){let t=Se();ko("src",t.pais.flags.png,Oo)}}function vz(n,e){if(n&1&&k(0),n&2){let t=Se();En(" ",t.pais.population," ")}}function _z(n,e){if(n&1&&k(0),n&2){let t=Se();En(" ",t.pais.region," ")}}function Iz(n,e){if(n&1&&(x(0,"a",4),k(1,"Ver"),N()),n&2){let t=Se();ko("href",t.pais.maps.googleMaps,Oo)}}var _f=class n{api=P(Ps);pais;set obtenerActor(e){e&&this.infoPais(e.pais)}infoPais(e){this.api.obtenerDetallePais(e).subscribe(t=>{this.pais=t[0]})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ne({type:n,selectors:[["app-detalle-pais"]],inputs:{obtenerActor:"obtenerActor"},standalone:!0,features:[Pe],decls:24,vars:4,consts:[[1,"card"],[2,"margin-left","10px"],["id","table_actor"],["width","50","height","50",3,"src"],[3,"href"]],template:function(t,r){t&1&&(x(0,"div",0)(1,"div",1)(2,"table")(3,"tbody",2)(4,"tr")(5,"td"),k(6,"Bandera:"),N(),x(7,"td"),ge(8,yz,1,1,"img",3),N()(),x(9,"tr")(10,"td"),k(11,"Poblaci\xF3n:"),N(),x(12,"td"),ge(13,vz,1,1),N()(),x(14,"tr")(15,"td"),k(16,"Region:"),N(),x(17,"td"),ge(18,_z,1,1),N()(),x(19,"tr")(20,"td"),k(21,"Maps:"),N(),x(22,"td"),ge(23,Iz,2,1,"a",4),N()()()()()()),t&2&&(j(8),cn(r.pais?8:-1),j(5),cn(r.pais?13:-1),j(5),cn(r.pais?18:-1),j(5),cn(r.pais?23:-1))},styles:[".card[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background-color:#1a1a1a;border-radius:10px;transition:all .2s;color:#fff;justify-content:center}td[_ngcontent-%COMP%]{padding-right:10px;padding-bottom:10px;text-align:left}"]})};var If=class n{firebaseService=P(xt);pais;set obtenerActor(e){e&&this.infoPais(e)}infoPais(e){let t=`${e.nombre} ${e.apellido}`,r="";this.firebaseService.traerPeliculas().subscribe(i=>{i.forEach(o=>{o.protagonista==t&&(r+=`<li>${o.nombre}</li>`)}),document.getElementById("lista").innerHTML=r})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ne({type:n,selectors:[["app-peliculas-actor"]],inputs:{obtenerActor:"obtenerActor"},standalone:!0,features:[Pe],decls:5,vars:0,consts:[[1,"card"],[2,"margin-left","10px"],["id","lista"]],template:function(t,r){t&1&&(x(0,"div",0)(1,"div",1)(2,"p"),k(3,"Aparece en:"),N(),De(4,"div",2),N()())},styles:[".card[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background-color:#1a1a1a;border-radius:10px;transition:all .2s;color:#fff;text-align:center;overflow-y:auto}.card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:5%;width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]})};var wf=class n{firebaseService=P(xt);actores=[];detalleActor;constructor(){this.firebaseService.traerActores().subscribe(e=>{this.actores=e})}recibirDetalleActor(e){this.detalleActor=e}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ne({type:n,selectors:[["app-actores"]],standalone:!0,features:[Pe],decls:12,vars:4,consts:[[1,"actores"],[1,"titulo"],[1,"linea-horizontal"],[1,"listado-actores"],[3,"detallePelicula","actores"],[1,"detalle-actor"],[3,"actor"],[1,"detalle-pais"],[3,"obtenerActor"],[1,"peliculas-actor"]],template:function(t,r){t&1&&(x(0,"div",0)(1,"h1",1),k(2,"Actores"),N(),De(3,"div",2),x(4,"div",3)(5,"app-listado-actores",4),Le("detallePelicula",function(o){return r.recibirDetalleActor(o)}),N(),x(6,"div",5),De(7,"app-detalle-actor",6),N(),x(8,"div",7),De(9,"app-detalle-pais",8),N(),x(10,"div",9),De(11,"app-peliculas-actor",8),N()()()),t&2&&(j(5),G("actores",r.actores),j(2),G("actor",r.detalleActor),j(2),G("obtenerActor",r.detalleActor),j(2),G("obtenerActor",r.detalleActor))},dependencies:[yf,vf,_f,If],styles:[".actores[_ngcontent-%COMP%]{display:block}.titulo[_ngcontent-%COMP%]{text-align:left;margin-left:20%;font-family:Inter,sans-serif}.linea-horizontal[_ngcontent-%COMP%]{width:60%;height:2px;background-color:#616161;margin-top:5px;margin-left:20%}.listado-actores[_ngcontent-%COMP%]{display:flex;position:absolute;justify-content:center;width:60%;height:50%;margin-top:1%;right:50%;font-family:Inter,sans-serif}.detalle-actor[_ngcontent-%COMP%]{display:flex;position:absolute;justify-content:center;top:105%;width:25%;height:200px;font-family:Inter,sans-serif}.detalle-pais[_ngcontent-%COMP%]{display:flex;position:absolute;justify-content:center;top:105%;width:25%;height:200px;left:75%;font-family:Inter,sans-serif}.peliculas-actor[_ngcontent-%COMP%]{display:flex;position:absolute;justify-content:center;top:105%;width:25%;height:200px;left:112%;font-family:Inter,sans-serif}"]})};var Ef=class{id;nombre;tipo;fechaEstreno;cantidadPublico;foto;protagonista;constructor(e,t,r,i,o,s,a){this.id=e,this.nombre=t,this.tipo=r,this.fechaEstreno=i,this.cantidadPublico=o,this.foto=s,this.protagonista=a}};var bf=class n{firebaseService=P(xt);tabla="";actor=new xe;constructor(){this.obtenerActores()}obtenerActores(){this.firebaseService.traerActores().subscribe(e=>{e.forEach(t=>{this.tabla+='<option value="'+t.nombre+" "+t.apellido+'">'+t.nombre+" "+t.apellido+"</option>"}),document.getElementById("actores").innerHTML+=this.tabla})}recibirActor(e){let t=e.target;this.actor.emit(t.value)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ne({type:n,selectors:[["app-tabla-actores"]],outputs:{actor:"actor"},standalone:!0,features:[Pe],decls:3,vars:0,consts:[["id","actores",1,"custom-select",3,"change"],["value","0","disabled","","selected","","hidden",""]],template:function(t,r){t&1&&(x(0,"select",0),Le("change",function(o){return r.recibirActor(o)}),x(1,"option",1),k(2,"Seleccionar Protagonista"),N()())},styles:[`@charset "UTF-8";.custom-select[_ngcontent-%COMP%]{width:50vh;padding:10px;border:1px solid #ccc;border-radius:5px;background-color:#f5f5f5;font-size:1rem;outline:none;appearance:none;background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 10 10"><polygon points="0,3 5,8 10,3" fill="%23333"/></svg>');background-repeat:no-repeat;background-position:right 10px center;background-size:10px;cursor:pointer;margin-right:200px}.custom-select[_ngcontent-%COMP%]:focus{border-color:#007bff;background-color:#fff}`]})};var Os=n=>({"input-error":n});function wz(n,e){n&1&&(x(0,"p",23),k(1,"*Campo obligatorio"),N())}function Ez(n,e){n&1&&(x(0,"p",23),k(1,"M\xEDnimo 2 caracteres"),N())}function bz(n,e){if(n&1&&(x(0,"div"),ge(1,wz,2,0,"p",22)(2,Ez,2,0,"p",22),N()),n&2){let t=Se();j(),G("ngIf",t.formGroup.controls.nombre.errors.required),j(),G("ngIf",t.formGroup.controls.nombre.errors.minlength)}}function Dz(n,e){n&1&&(x(0,"p",23),k(1,"*Campo obligatorio"),N())}function Cz(n,e){if(n&1&&(x(0,"div"),ge(1,Dz,2,0,"p",22),N()),n&2){let t=Se();j(),G("ngIf",t.formGroup.controls.tipo.errors.required)}}function Tz(n,e){n&1&&(x(0,"p",23),k(1,"*Campo obligatorio"),N())}function Az(n,e){if(n&1&&(x(0,"div"),ge(1,Tz,2,0,"p",22),N()),n&2){let t=Se();j(),G("ngIf",t.formGroup.controls.fechaEstreno.errors.required)}}function Sz(n,e){n&1&&(x(0,"p",23),k(1,"*Campo obligatorio"),N())}function Rz(n,e){n&1&&(x(0,"p",23),k(1,"M\xEDnimo 1 n\xFAmero"),N())}function Mz(n,e){n&1&&(x(0,"p",23),k(1,"Solo n\xFAmeros"),N())}function xz(n,e){if(n&1&&(x(0,"div"),ge(1,Sz,2,0,"p",22)(2,Rz,2,0,"p",22)(3,Mz,2,0,"p",22),N()),n&2){let t=Se();j(),G("ngIf",t.formGroup.controls.cantidadPublico.errors.required),j(),G("ngIf",t.formGroup.controls.cantidadPublico.errors.minlength),j(),G("ngIf",t.formGroup.controls.cantidadPublico.errors.pattern)}}function Nz(n,e){n&1&&(x(0,"p",23),k(1,"*Campo obligatorio"),N())}function Pz(n,e){n&1&&(x(0,"p",23),k(1,"M\xEDnimo 2 caracteres"),N())}function Oz(n,e){n&1&&(x(0,"p",23),k(1,"Solo letras"),N())}function kz(n,e){if(n&1&&(x(0,"div"),ge(1,Nz,2,0,"p",22)(2,Pz,2,0,"p",22)(3,Oz,2,0,"p",22),N()),n&2){let t=Se();j(),G("ngIf",t.formGroup.controls.protagonista.errors.required),j(),G("ngIf",t.formGroup.controls.protagonista.errors.minlength),j(),G("ngIf",t.formGroup.controls.protagonista.errors.pattern)}}function Fz(n,e){n&1&&(x(0,"p",23),k(1,"*Campo obligatorio"),N())}function Lz(n,e){n&1&&(x(0,"p",23),k(1,"URL inv\xE1lido"),N())}function Vz(n,e){if(n&1&&(x(0,"div"),ge(1,Fz,2,0,"p",22)(2,Lz,2,0,"p",22),N()),n&2){let t=Se();j(),G("ngIf",t.formGroup.controls.foto.errors.required),j(),G("ngIf",t.formGroup.controls.foto.errors.pattern)}}var Df=class n{firebaseService=P(xt);formBuilder=P(hf);formGroup;invalido=!1;tipo="";peliculas=[];pelicula;constructor(){this.formGroup=this.formBuilder.group({nombre:["",[Ce.required,Ce.minLength(2)]],tipo:["",[Ce.required]],fechaEstreno:["",[Ce.required]],cantidadPublico:["",[Ce.required,Ce.minLength(1),Ce.pattern("[0-9]*")]],foto:["",[Ce.required,Ce.pattern("https?://.+")]],protagonista:["",[Ce.required,Ce.minLength(1),Ce.pattern("[a-zA-Z ]*")]]})}obtenerActor(e){e!=""&&e!="0"&&this.formGroup.controls.protagonista.setValue(e)}altaPelicula(){if(this.formGroup.invalid){this.invalido=!0;return}this.firebaseService.traerPeliculas().subscribe(e=>{this.peliculas=e,this.pelicula=new Ef(this.peliculas.length+1,this.formGroup.controls.nombre.value,this.formGroup.controls.tipo.value,this.formGroup.controls.fechaEstreno.value,this.formGroup.controls.cantidadPublico.value,this.formGroup.controls.foto.value,this.formGroup.controls.protagonista.value),this.invalido=!1}),setTimeout(()=>{this.firebaseService.agregarPelicula(this.pelicula),this.formGroup.reset()},500)}recibirTipo(e){let t=e.target;this.tipo=t.value}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ne({type:n,selectors:[["app-alta-pelicula"]],standalone:!0,features:[Pe],decls:47,vars:25,consts:[[1,"form"],["action","",3,"ngSubmit","formGroup"],[1,"form_group"],[1,"input-label"],["formControlName","nombre","name","nombre",1,"form-control","custom-input",3,"ngClass"],[4,"ngIf"],["formControlName","tipo","name","tipo",1,"form-control","custom-input",3,"ngClass"],["value","0"],["value","Acci\xF3n"],["value","Amor"],["value","Ciencia Ficci\xF3n"],["value","Comedia"],["value","Drama"],["value","Fantas\xEDa"],["value","Terror"],["formControlName","fechaEstreno","name","fechaEstreno","type","date",1,"form-control","custom-input",3,"ngClass"],["formControlName","cantidadPublico","name","cantidadPublico",1,"form-control","custom-input",3,"ngClass"],["formControlName","protagonista","name","protagonista","readonly","",1,"form-control","custom-input",3,"ngClass"],["formControlName","foto","name","foto","type","url","placeholder","URL de la imagen",1,"form-control","custom-input",3,"ngClass"],["type","submit",1,"btn",2,"margin-top","10px"],[1,"actores"],[3,"actor"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(t,r){t&1&&(x(0,"div",0)(1,"form",1),Le("ngSubmit",function(){return r.altaPelicula()}),x(2,"div",2)(3,"label",3),k(4,"Nombre"),N(),De(5,"input",4),ge(6,bz,3,2,"div",5),x(7,"label",3),k(8,"Tipo"),N(),x(9,"select",6)(10,"option",7),k(11,"Tipo"),N(),x(12,"option",8),k(13,"Acci\xF3n"),N(),x(14,"option",9),k(15,"Amor"),N(),x(16,"option",10),k(17,"Ciencia Ficci\xF3n"),N(),x(18,"option",11),k(19,"Comedia"),N(),x(20,"option",12),k(21,"Drama"),N(),x(22,"option",13),k(23,"Fantas\xEDa"),N(),x(24,"option",14),k(25,"Terror"),N()(),ge(26,Cz,2,1,"div",5),x(27,"label",3),k(28,"Fecha de Estreno"),N(),De(29,"input",15),ge(30,Az,2,1,"div",5),x(31,"label",3),k(32,"Cantidad de p\xFAblico"),N(),De(33,"input",16),ge(34,xz,4,3,"div",5),x(35,"label",3),k(36,"Protagonista"),N(),De(37,"input",17),ge(38,kz,4,3,"div",5),x(39,"label",3),k(40,"Foto"),N(),De(41,"input",18),ge(42,Vz,3,2,"div",5),x(43,"button",19),k(44,"Subir"),N()()(),x(45,"div",20)(46,"app-tabla-actores",21),Le("actor",function(o){return r.obtenerActor(o)}),N()()()),t&2&&(j(),G("formGroup",r.formGroup),j(4),G("ngClass",Ft(13,Os,r.formGroup.controls.nombre.errors&&r.formGroup.controls.nombre.touched)),j(),G("ngIf",r.formGroup.controls.nombre.errors&&r.formGroup.controls.nombre.touched),j(3),G("ngClass",Ft(15,Os,r.formGroup.controls.tipo.errors&&r.formGroup.controls.tipo.touched)),j(17),G("ngIf",r.formGroup.controls.tipo.errors&&r.formGroup.controls.tipo.touched),j(3),G("ngClass",Ft(17,Os,r.formGroup.controls.fechaEstreno.errors&&r.formGroup.controls.fechaEstreno.touched)),j(),G("ngIf",r.formGroup.controls.fechaEstreno.errors&&r.formGroup.controls.fechaEstreno.touched),j(3),G("ngClass",Ft(19,Os,r.formGroup.controls.cantidadPublico.errors&&r.formGroup.controls.cantidadPublico.touched)),j(),G("ngIf",r.formGroup.controls.cantidadPublico.errors&&r.formGroup.controls.cantidadPublico.touched),j(3),G("ngClass",Ft(21,Os,r.formGroup.controls.protagonista.errors&&r.formGroup.controls.protagonista.touched)),j(),G("ngIf",r.formGroup.controls.protagonista.errors&&r.formGroup.controls.protagonista.touched),j(3),G("ngClass",Ft(23,Os,r.formGroup.controls.foto.errors&&r.formGroup.controls.foto.touched)),j(),G("ngIf",r.formGroup.controls.foto.errors&&r.formGroup.controls.foto.touched))},dependencies:[ff,cf,lf,df,Ns,uf,rf,of,Gc,qc,bf,Ta,td,nd],styles:[".form[_ngcontent-%COMP%]{display:flex;position:absolute;margin-top:5%}.form_group[_ngcontent-%COMP%]{display:flex;position:fixed;flex-direction:column;left:35%}.input-label[_ngcontent-%COMP%]{margin-bottom:7px;margin-top:20px;color:#000;font-family:Inter,sans-serif}.custom-input[_ngcontent-%COMP%]{width:50vh;padding:8px;border:1px solid #ccc;border-radius:5px;background-color:#f5f5f5;font-size:1rem;margin-bottom:15px;outline:none;transition:border-color .3s}.custom-input[_ngcontent-%COMP%]:focus{border-color:#007bff}.custom-input.input-error[_ngcontent-%COMP%]{border-color:red}.error-message[_ngcontent-%COMP%]{color:red;font-size:.9rem;margin-top:-10px;margin-bottom:10px;font-family:Inter,sans-serif}.actores[_ngcontent-%COMP%]{display:flex;position:fixed;right:2%;margin-left:5%}.btn[_ngcontent-%COMP%]{width:30vh;padding:8px;border:1px solid black;border-radius:5px;background-color:#000;color:#fff;font-size:1rem;cursor:pointer;transition:background-color .3s,color .3s;margin:0 auto}.btn[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000}.btn[_ngcontent-%COMP%]:active{background-color:#d4d4d4}"]})};var JR=[{path:"",redirectTo:"peliculas",pathMatch:"full"},{path:"peliculas",component:qh},{path:"altaPelicula",component:Df},{path:"altaActores",component:gf},{path:"actores",component:wf}];var ZR={projectId:"simulacro-parcial-56b41",appId:"1:709601315537:web:c78132914c55078bfb13f0",storageBucket:"simulacro-parcial-56b41.appspot.com",apiKey:"AIzaSyD7LQ49kgYauQDGQmKhYDuDAHd-COODZDs",authDomain:"simulacro-parcial-56b41.firebaseapp.com",messagingSenderId:"709601315537"};var XR={providers:[TD({eventCoalescing:!0}),JC(JR),xT(()=>NT(ZR)),EA(()=>bA()),gR(()=>yR()),JD(ZD())]};var Cf=class n{title="simulacro-parcial";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ne({type:n,selectors:[["app-root"]],standalone:!0,features:[Pe],decls:14,vars:0,consts:[[2,"display","flex","justify-content","center"],["routerLink",""],[1,"button_top"],["routerLink","altaPelicula"],["routerLink","actores"],["routerLink","altaActores"]],template:function(t,r){t&1&&(x(0,"header",0)(1,"button",1)(2,"span",2),k(3,"Pel\xEDculas"),N()(),x(4,"button",3)(5,"span",2),k(6,"Alta Pelicula"),N()(),x(7,"button",4)(8,"span",2),k(9,"Actores"),N()(),x(10,"button",5)(11,"span",2),k(12,"Alta Actor"),N()()(),De(13,"router-outlet"))},dependencies:[ly,nT,QC],styles:['@charset "UTF-8";button[_ngcontent-%COMP%]{appearance:none;background-color:transparent;border:.125em solid #1A1A1A;border-radius:.9375em;box-sizing:border-box;color:#3b3b3b;cursor:pointer;display:inline-block;font-family:Roobert,-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;font-size:16px;font-weight:600;line-height:normal;margin:0 .5em;min-height:2.5em;min-width:0;outline:none;padding:.5em 2.3em;text-align:center;text-decoration:none;transition:all .3s cubic-bezier(.23,1,.32,1);user-select:none;-webkit-user-select:none;touch-action:manipulation;will-change:transform}button[_ngcontent-%COMP%]:disabled{pointer-events:none}button[_ngcontent-%COMP%]:hover{color:#fff;background-color:#1a1a1a;box-shadow:#00000040 0 8px 15px;transform:translateY(-2px)}button[_ngcontent-%COMP%]:active{box-shadow:none;transform:translateY(0)}header[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:1em 0}']})};sC(Cf,XR).catch(n=>console.error(n));
